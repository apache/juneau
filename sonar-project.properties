# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# SonarCloud configuration for Apache Juneau
# This configuration uses SonarQube's Maven auto-detection for multi-module projects.
# SonarQube will automatically discover all modules from the Maven POM structure.
sonar.projectKey=apache_juneau
sonar.organization=apache
sonar.host.url=https://sonarcloud.io

# Project information
sonar.projectName=Apache Juneau
sonar.projectVersion=9.2.1-SNAPSHOT

# Multi-module configuration
# SonarQube Maven Scanner will auto-detect modules and their source/test directories
# from each module's pom.xml. No need to specify sonar.sources/sonar.tests here.

# Exclusions - apply to all modules
# Exclude build artifacts, documentation, examples, resources, and generated code
sonar.exclusions=**/target/**,**/doc/**,**/examples/**,**/src/main/resources/**,**/src/test/resources/**,**/generated/**,**/build/**
sonar.test.exclusions=**/target/**,**/doc/**,**/examples/**,**/generated/**,**/build/**

# Coverage configuration
# SonarCloud will auto-detect JaCoCo reports if they're in standard locations
# For multi-module projects, SonarCloud can use either:
# 1. Individual module execution data files: **/target/jacoco.exec
# 2. XML reports: **/target/site/jacoco/jacoco.xml
# 3. Aggregate report (from juneau-utest): **/target/site/jacoco-aggregate/jacoco.xml
# SonarCloud will automatically find these if they exist, but we can explicitly specify them:
sonar.coverage.jacoco.xmlReportPaths=**/target/site/jacoco-aggregate/jacoco.xml,**/target/site/jacoco/jacoco.xml
sonar.junit.reportPaths=**/target/surefire-reports

# Java specific settings
sonar.java.source=17
sonar.java.target=17

# Quality gate configuration
sonar.qualitygate.wait=true

# Rule exclusions
# Exclude S1479 (too many case statements) globally for all files
# Large switch expressions are sometimes necessary and intentional (e.g., SchemaInfo property mapping)
# Exclude S1192 (string literals should not be duplicated) globally for all files
# String literal duplication is sometimes necessary for consistency (e.g., property names, constants)
sonar.issue.ignore.multicriteria=e1,e2
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1479
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.java
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S1192
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*.java
