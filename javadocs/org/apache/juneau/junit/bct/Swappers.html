<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>Swappers (Apache Juneau 9.2.0-SNAPSHOT)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.juneau.junit.bct, class: Swappers">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../javadoc.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><a href="http://juneau.apache.org" target="_blank"><img src="/img/oakleaf.svg" alt="Apache Juneau" style="height:20px; vertical-align:middle; margin-right:5px;">Apache Juneau</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Swappers.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.juneau.junit.bct</a></div>
<h1 title="Class Swappers" class="title">Class Swappers</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.juneau.junit.bct.Swappers</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/apache/juneau/junit/bct/Swappers.html#line-65">Swappers</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Collection of standard swapper implementations for the Bean-Centric Testing framework.

 <p>This class provides built-in object transformation strategies that handle common wrapper
 types and asynchronous objects. These swappers are automatically registered when using
 <a href="BasicBeanConverter.Builder.html#defaultSettings()"><code>BasicBeanConverter.Builder.defaultSettings()</code></a>.</p>

 <h5 class='section'>Purpose:</h5>
 <p>Swappers pre-process objects before stringification or listification, enabling the converter
 to handle wrapper types, lazy evaluation objects, and asynchronous results consistently. They
 transform objects into more primitive forms that can be easily converted to strings or lists.</p>

 <h5 class='section'>Built-in Swappers:</h5>
 <ul>
    <li><b><a href="#optionalSwapper()"><code>optionalSwapper()</code></a></b> - Unwraps <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> values to their contained objects or <jk>null</jk></li>
    <li><b><a href="#supplierSwapper()"><code>supplierSwapper()</code></a></b> - Evaluates <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> functions to get their supplied values</li>
    <li><b><a href="#futureSwapper()"><code>futureSwapper()</code></a></b> - Extracts completed <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> results or returns status messages</li>
 </ul>

 <h5 class='section'>Usage Example:</h5>
 <p class='bjava'>
    <jc>// Register swappers using builder</jc>
    <jk>var</jk> <jv>converter</jv> = BasicBeanConverter.<jsm>builder</jsm>()
       .defaultSettings()
       .addSwapper(Optional.<jk>class</jk>, Swappers.<jsm>optionalSwapper</jsm>())
       .addSwapper(Supplier.<jk>class</jk>, Swappers.<jsm>supplierSwapper</jsm>())
       .addSwapper(Future.<jk>class</jk>, Swappers.<jsm>futureSwapper</jsm>())
       .build();
 </p>

 <h5 class='section'>Custom Swapper Development:</h5>
 <p>When creating custom swappers, follow these patterns:</p>
 <ul>
    <li><b>Null Safety:</b> Handle <jk>null</jk> inputs gracefully</li>
    <li><b>Exception Handling:</b> Convert exceptions to meaningful error messages</li>
    <li><b>Status Indication:</b> Provide clear status for incomplete or error states</li>
    <li><b>Non-blocking:</b> Avoid blocking operations that might hang tests</li>
    <li><b>Recursion Prevention:</b> Ensure swappers don't create circular transformations that could lead to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StackOverflowError.html" title="class or interface in java.lang" class="external-link"><code>StackOverflowError</code></a>.
        The framework does not check for recursion, so developers must avoid registering swappers that transform objects
        back to types that would trigger the same or other swappers in an endless cycle.</li>
 </ul></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="Swapper.html" title="interface in org.apache.juneau.junit.bct"><code>Swapper</code></a></li>
<li><a href="BasicBeanConverter.Builder.html#addSwapper(java.lang.Class,org.apache.juneau.junit.bct.Swapper)"><code>BasicBeanConverter.Builder.addSwapper(Class, Swapper)</code></a></li>
<li><a href="BasicBeanConverter.Builder.html#defaultSettings()"><code>BasicBeanConverter.Builder.defaultSettings()</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#futureSwapper()" class="member-name-link">futureSwapper</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> objects that extracts completed results or status information.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#optionalSwapper()" class="member-name-link">optionalSwapper</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> objects that unwraps them to their contained values.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#supplierSwapper()" class="member-name-link">supplierSwapper</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> objects that evaluates them to get their supplied values.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="optionalSwapper()">
<h3>optionalSwapper</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link">Optional</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/junit/bct/Swappers.html#line-109">optionalSwapper</a></span>()</div>
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> objects that unwraps them to their contained values.

 <p>This swapper extracts the value from Optional instances, returning the contained object
 if present, or <jk>null</jk> if the Optional is empty. This allows Optional-wrapped values
 to be processed naturally by the converter without special handling.</p>

 <h5 class='section'>Behavior:</h5>
 <ul>
    <li><b>Present value:</b> Returns the contained object for further processing</li>
    <li><b>Empty Optional:</b> Returns <jk>null</jk>, which will be rendered as the configured null value</li>
 </ul>

 <h5 class='section'>Usage Examples:</h5>
 <p class='bjava'>
    <jc>// Test Optional with value</jc>
    <jk>var</jk> <jv>optional</jv> = Optional.<jsm>of</jsm>(<js>"Hello"</js>);
    <jsm>assertBean</jsm>(<jv>optional</jv>, <js>"&lt;self&gt;"</js>, <js>"Hello"</js>);

    <jc>// Test empty Optional</jc>
    <jk>var</jk> <jv>empty</jv> = Optional.<jsm>empty</jsm>();
    <jsm>assertBean</jsm>(<jv>empty</jv>, <js>"&lt;self&gt;"</js>, <js>"&lt;null&gt;"</js>);

    <jc>// Test nested Optional in object</jc>
    <jk>var</jk> <jv>user</jv> = <jk>new</jk> User().setName(Optional.<jsm>of</jsm>(<js>"John"</js>));
    <jsm>assertBean</jsm>(<jv>user</jv>, <js>"name"</js>, <js>"John"</js>);
 </p>

 <h5 class='section'>Integration:</h5>
 <p>This swapper is particularly useful when working with modern Java APIs that return
 Optional values. It allows test assertions to focus on the actual data rather than
 Optional wrapper mechanics.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct"><code>Swapper</code></a> for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a> objects</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" title="class or interface in java.util" class="external-link"><code>Optional</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="supplierSwapper()">
<h3>supplierSwapper</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link">Supplier</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/junit/bct/Swappers.html#line-151">supplierSwapper</a></span>()</div>
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> objects that evaluates them to get their supplied values.

 <p>This swapper calls the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html#get()" title="class or interface in java.util.function" class="external-link"><code>Supplier.get()</code></a> method to obtain the value that the supplier
 provides. This enables testing of lazy-evaluated or dynamically-computed values as if they
 were regular objects.</p>

 <h5 class='section'>Behavior:</h5>
 <ul>
    <li><b>Successful evaluation:</b> Returns the result of calling <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html#get()" title="class or interface in java.util.function" class="external-link"><code>Supplier.get()</code></a></li>
    <li><b>Exception during evaluation:</b> Allows the exception to propagate (no special handling)</li>
 </ul>

 <h5 class='section'>Usage Examples:</h5>
 <p class='bjava'>
    <jc>// Test supplier with simple value</jc>
    <jk>var</jk> <jv>supplier</jv> = () -&gt; <js>"Hello World"</js>;
    <jsm>assertBean</jsm>(<jv>supplier</jv>, <js>"&lt;self&gt;"</js>, <js>"Hello World"</js>);

    <jc>// Test supplier in object property</jc>
    <jk>var</jk> <jv>config</jv> = <jk>new</jk> Configuration().setDynamicValue(() -&gt; calculateValue());
    <jsm>assertBean</jsm>(<jv>config</jv>, <js>"dynamicValue"</js>, <js>"computed-result"</js>);

    <jc>// Test supplier returning null</jc>
    <jk>var</jk> <jv>nullSupplier</jv> = () -&gt; <jk>null</jk>;
    <jsm>assertBean</jsm>(<jv>nullSupplier</jv>, <js>"&lt;self&gt;"</js>, <js>"&lt;null&gt;"</js>);
 </p>

 <h5 class='section'>Important Notes:</h5>
 <ul>
    <li><b>Side Effects:</b> The supplier will be evaluated during conversion, which may cause side effects</li>
    <li><b>Performance:</b> Expensive computations in suppliers will impact test performance</li>
    <li><b>Exception Handling:</b> Exceptions from suppliers are not caught by this swapper</li>
 </ul></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct"><code>Swapper</code></a> for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> objects</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="futureSwapper()">
<h3>futureSwapper</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Swapper.html" title="interface in org.apache.juneau.junit.bct">Swapper</a>&lt;<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link">Future</a>&gt;</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/junit/bct/Swappers.html#line-204">futureSwapper</a></span>()</div>
<div class="block">Returns a swapper for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> objects that extracts completed results or status information.

 <p>This swapper handles <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> objects in a non-blocking manner, providing meaningful
 information about the future's state without waiting for completion:</p>

 <h5 class='section'>Behavior:</h5>
 <ul>
    <li><b>Completed successfully:</b> Returns the actual result value</li>
    <li><b>Completed with exception:</b> Returns <js>"&lt;error: {message}&gt;"</js> format</li>
    <li><b>Cancelled:</b> Returns <js>"&lt;cancelled&gt;"</js></li>
    <li><b>Still pending:</b> Returns <js>"&lt;pending&gt;"</js></li>
 </ul>

 <h5 class='section'>Usage Examples:</h5>
 <p class='bjava'>
    <jc>// Test completed future</jc>
    <jk>var</jk> <jv>future</jv> = CompletableFuture.<jsm>completedFuture</jsm>(<js>"Hello"</js>);
    <jsm>assertBean</jsm>(<jv>future</jv>, <js>"&lt;self&gt;"</js>, <js>"Hello"</js>);

    <jc>// Test pending future</jc>
    <jk>var</jk> <jv>pending</jv> = <jk>new</jk> CompletableFuture&lt;String&gt;();
    <jsm>assertBean</jsm>(<jv>pending</jv>, <js>"&lt;self&gt;"</js>, <js>"&lt;pending&gt;"</js>);

    <jc>// Test cancelled future</jc>
    <jk>var</jk> <jv>cancelled</jv> = <jk>new</jk> CompletableFuture&lt;String&gt;();
    <jv>cancelled</jv>.cancel(<jk>true</jk>);
    <jsm>assertBean</jsm>(<jv>cancelled</jv>, <js>"&lt;self&gt;"</js>, <js>"&lt;cancelled&gt;"</js>);

    <jc>// Test failed future</jc>
    <jk>var</jk> <jv>failed</jv> = <jk>new</jk> CompletableFuture&lt;String&gt;();
    <jv>failed</jv>.completeExceptionally(<jk>new</jk> RuntimeException(<js>"Test error"</js>));
    <jsm>assertBean</jsm>(<jv>failed</jv>, <js>"&lt;self&gt;"</js>, <js>"&lt;error: Test error&gt;"</js>);
 </p>

 <h5 class='section'>Non-blocking Guarantee:</h5>
 <p>This swapper never calls <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.get()</code></a> without first checking <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#isDone()" title="class or interface in java.util.concurrent" class="external-link"><code>Future.isDone()</code></a>,
 ensuring that test execution is never blocked by incomplete futures. This makes it safe to use
 in unit tests without risking hangs or timeouts.</p>

 <h5 class='section'>Error Handling:</h5>
 <p>When a future completes exceptionally, the swapper extracts the exception message and
 formats it as <js>"&lt;error: {message}&gt;"</js>. This provides useful debugging information
 while maintaining a consistent string format for assertions.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A <a href="Swapper.html" title="interface in org.apache.juneau.junit.bct"><code>Swapper</code></a> for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a> objects</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html" title="class or interface in java.util.concurrent" class="external-link"><code>Future</code></a></li>
<li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2016&#x2013;2025 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
