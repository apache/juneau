---
title: "Encoders"
---

The [encoders](../apidocs/org/apache/juneau/encoders.html) package defines an API for handling encoding-based matching
of `Accept-Encoding`/`Content-Encoding` HTTP headers.  It consists of the following classes:
- [EncoderSet](../apidocs/org/apache/juneau/encoders/EncoderSet.html)
- [Encoder](../apidocs/org/apache/juneau/encoders/Encoder.html)
- [IdentityEncoder](../apidocs/org/apache/juneau/encoders/IdentityEncoder.html)
- [GzipEncoder](../apidocs/org/apache/juneau/encoders/GzipEncoder.html)
##### EncoderSet
The [EncoderSet](../apidocs/org/apache/juneau/encoders/EncoderSet.html) class represents the set of [encoders](../apidocs/org/apache/juneau/encoders/Encoder.html) keyed by codings.
It maintains a set of encoders and the codings that they can handle.
The [getEncoderMatch(String)](../apidocs/org/apache/juneau/encoders/EncoderSet.html#getEncoderMatch(String)) and [EncoderSet#getEncoder(String)](../apidocs/org/apache/juneau/encoders/EncoderSet.html#getEncoder(String))
methods are then used to find appropriate encoders for specific `Accept-Encoding` and `Content-Encoding` header values.
##### Match ordering
Encoders are tried in the order they appear in the set.  The \{@link oaj.encoders.EncoderSet.Builder#add(Class...)\} / \{@link oaj.encoders.EncoderSet.Builder#add(Encoder...)\}
methods prepend the values to the list to allow them the opportunity to override encoders already in the list.
For example, calling builder.add(E1.class,E2.class).add(E3.class,
E4.class) will result in the order `E3, E4, E1, E2`.
##### Example:
```java
// Create an encoder group with support for gzip compression.
EncoderSet encoders = EncoderSet
    .create()
    .add(GzipEncoder.class)
    .build();

// Should return "gzip"
String matchedCoding = encoders.findMatch("compress;q=1.0, gzip;q=0.8, identity;q=0.5, *;q=0");

// Get the encoder
Encoder encoder = encoders.getEncoder(matchedCoding);
```
##### Encoder API
The [Encoder](../apidocs/org/apache/juneau/encoders/Encoder.html) interface is used for enabling decompression on requests and compression on responses, such as support for GZIP compression.
It is used to wrap input and output streams within compression/decompression streams.
- [Encoder](../apidocs/org/apache/juneau/encoders/Encoder.html)
- [getCodings()](../apidocs/org/apache/juneau/encoders/Encoder.html#getCodings())
- [getInputStream(InputStream)](../apidocs/org/apache/juneau/encoders/Encoder.html#getInputStream(InputStream))
- [getOutputStream(OutputStream)](../apidocs/org/apache/juneau/encoders/Encoder.html#getOutputStream(OutputStream))
Encoders are registered with `RestServlets` through the @Rest(encoders) annotation.