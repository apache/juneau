---
title: "OpenAPI Parsers"
---

The [OpenApiParser]({{API_DOCS}}/org/apache/juneau/oapi/OpenApiParser.html) class is used to convert HTTP parts back into POJOs.
The class hierarchy for the builder of this parser is:
<tree>
<node-0><java-abstract-class>[Context.Builder]({{API_DOCS}}/...)</java-abstract-class></node-0>
<node-1><java-abstract-class>[BeanContextable.Builder]({{API_DOCS}}/org/apache/juneau/BeanContextable/Builder.html)</java-abstract-class></node-1>
<node-2><java-abstract-class>[Parser.Builder]({{API_DOCS}}/org/apache/juneau/parser/Parser/Builder.html)</java-abstract-class></node-2>
<node-3><java-abstract-class>[ReaderParser.Builder]({{API_DOCS}}/org/apache/juneau/parser/ReaderParser/Builder.html)</java-abstract-class></node-3>
<node-4><java-class>[UonParser.Builder]({{API_DOCS}}/org/apache/juneau/uon/UonParser/Builder.html)</java-class></node-4>
<node-5><java-class>[OpenApiParser.Builder]({{API_DOCS}}/org/apache/juneau/oapi/OpenApiParser/Builder.html)</java-class></node-5>
</tree>

Refer to the builder javadocs for configurable settings.
The following is the previous example of a schema that defines the format of a pipe-delimited list of comma-delimited numbers (e.g.
"1,2,3|4,5,6|7,8,9"):

```java
import static org.apache.juneau.httppart.HttpPartSchema.*;

HttpPartSchema schema = tArrayPipes(
    tArrayCsv(
        tInt64().min(0).max(100).minl(1).maxl(10)
    )
).build();
```


The following code shows how the schema above can be used to parse our input into a POJO:

```java
// Our input being parsed.
String input = "1,2,3|4,5,6|7,8,9"

// Convert string to a POJO.
try {
    Long[][] pojo = OpenApi.to(schema, input, Long[][].class);
} catch (SchemaValidationException e) {
    // Oops, one of the restrictions were not met.
}
```


As a general rule, any POJO convertible from the intermediate type for the `type/format` of the schema can be parsed using the OpenAPI parser.
Here are the rules of POJO types allowed for various type/format combinations: TypeFormatValid parameter types `string` or empty `byte binary binary-spaced`
- `byte[]` (default)
- [InputStream]({{API_DOCS}}/java/io/InputStream.html) - Returns a [ByteArrayInputStream]({{API_DOCS}}/java/io/ByteArrayInputStream.html).
- [Reader]({{API_DOCS}}/java/io/Reader.html) - Returns a [InputStreamReader]({{API_DOCS}}/java/io/InputStreamReader.html) wrapped around a [ByteArrayInputStream]({{API_DOCS}}/java/io/ByteArrayInputStream.html).
- [String]({{API_DOCS}}/java/lang/String.html) - Constructed using \{@link java.lang.String#String(byte[])\}.
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default `byte[]`.
- Any POJO transformable from a `byte[]` (via constructors or static create methods).

`date date-time`
<tree>
<node-0><java-class>[Calendar]({{API_DOCS}}/java/util/Calendar.html) (default)</java-class></node-0>
<node-0><java-class>[Date]({{API_DOCS}}/java/util/Date.html)</java-class></node-0>
<node-0><java-class>[GregorianCalendar]({{API_DOCS}}/java/util/GregorianCalendar.html)</java-class></node-0>
</tree>

[String]({{API_DOCS}}/java/lang/String.html) - Converted using [Calendar#toString()]({{API_DOCS}}/java/util/Calendar.html#toString()).
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Calendar]({{API_DOCS}}/java/util/Calendar.html).
- Any POJO transformable from a [Calendar]({{API_DOCS}}/java/util/Calendar.html) (via constructors or static create methods).

`uon`
- Any [TODO: Parsable POJO](TODO.md) type.

empty
- [String]({{API_DOCS}}/java/lang/String.html) (default)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [String]({{API_DOCS}}/java/lang/String.html).
- Any POJO transformable from a [String]({{API_DOCS}}/java/lang/String.html) (via constructors, static create methods, or swaps).

`boolean` empty
- [Boolean]({{API_DOCS}}/java/lang/Boolean.html) (default)

boolean
- [String]({{API_DOCS}}/java/lang/String.html)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Boolean]({{API_DOCS}}/java/lang/Boolean.html).
- Any POJO transformable from a [Boolean]({{API_DOCS}}/java/lang/Boolean.html) (via constructors, static create methods, or swaps).

`integer` `int32`
- [Integer]({{API_DOCS}}/java/lang/Integer.html) (default)
- Any subclass of [Number]({{API_DOCS}}/java/lang/Number.html)

Any primitive number:  (e.g int, float...)
- [String]({{API_DOCS}}/java/lang/String.html)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Integer]({{API_DOCS}}/java/lang/Integer.html).
- Any POJO transformable from an [Integer]({{API_DOCS}}/java/lang/Integer.html) (via constructors, static create methods, or swaps).

`int64`
- [Long]({{API_DOCS}}/java/lang/Long.html) (default)
- Any subclass of [Number]({{API_DOCS}}/java/lang/Number.html)

Any primitive number:  (e.g int, float...)
- [String]({{API_DOCS}}/java/lang/String.html)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Long]({{API_DOCS}}/java/lang/Long.html).
- Any POJO transformable from an [Long]({{API_DOCS}}/java/lang/Long.html) (via constructors, static create methods, or swaps).

`number` `float`
- [Float]({{API_DOCS}}/java/lang/Float.html) (default)
- Any subclass of [Number]({{API_DOCS}}/java/lang/Number.html)

Any primitive number:  (e.g int, float...)
- [String]({{API_DOCS}}/java/lang/String.html)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Float]({{API_DOCS}}/java/lang/Float.html).
- Any POJO transformable from an [Float]({{API_DOCS}}/java/lang/Float.html) (via constructors, static create methods, or swaps).

`double`
- [Double]({{API_DOCS}}/java/lang/Double.html) (default)
- Any subclass of [Number]({{API_DOCS}}/java/lang/Number.html)

Any primitive number:  (e.g int, float...)
- [String]({{API_DOCS}}/java/lang/String.html)
- [Object]({{API_DOCS}}/java/lang/Object.html) - Returns the default [Double]({{API_DOCS}}/java/lang/Double.html).
- Any POJO transformable from an [Double]({{API_DOCS}}/java/lang/Double.html) (via constructors, static create methods, or swaps).

`array` empty
- Arrays or Collections of anything on this list.
- Any POJO transformable from arrays of the default types (e.g. `Integer[]`, `Boolean[][]`, etc...).

`uon`
- Any [TODO: Parsable POJO](TODO.md) type.

`object` empty `Map` (default)
- Beans with properties of anything on this list.
- Maps with string keys.

`uon`
- Any [TODO: Parsable POJO](TODO.md) type.

Additionally, any of the type above can also be wrapped as [Optionals]({{API_DOCS}}/java/util/Optional.html).
For arrays, an example of "Any POJO transformable from arrays of the default types" is:

```java
// Sample POJO class convertable from a Long[][].
public class MyPojo {

    // Constructor used by parser.
    public MyPojo(Long[][] from2dLongs) {...}
}
```


In the example above, our POJO class can be constructed from our pipe-delimited list of comma-delimited numbers:

```java
// Our input being parsed.
String input = "1,2,3|4,5,6|7,8,9"

// Convert string to a POJO.
try {
    MyPojo pojo = OpenApi.to(schema, input, MyPojo.class);
} catch (SchemaValidationException e) {
    // Oops, one of the restrictions were not met.
}
```


Just like serialization, the `object` type is not officially part of the OpenAPI standard but Juneau supports parsing HTTP parts in UON notation to Maps and beans.
The following shows an example of a bean with several properties of various types.

```java
public class MyBean {
    public String f1;
    public byte[] f2;
    public byte[] f3;
    public byte[] f4;
    public Calendar f5;
    public String f6;
    public int f7;
    public Long f8;
    public float f9;
    public Double f10;
    public Boolean f11;
    public Object fExtra;
}
```


We define the following schema again:

```java
import static org.apache.juneau.httppart.HttpPartSchema.*;

HttpPartSchema schema = tObject()
    .prop("f1", tString())
    .prop("f2", tByte())
    .prop("f3", tBinary())
    .prop("f4", tBinarySpaced())
    .prop("f5", tDateTime())
    .prop("f6", tUon())
    .prop("f7", tInteger())
    .prop("f8", tInt64())
    .prop("f9", tNumber())
    .prop("f10", tDouble())
    .prop("f11", tBoolean())
    .ap(tInteger())
    .build();
```


Then we parse our input into our POJO:

```java
String input =
    "(f1=foo,f2=Zm9v,f3=666F6F,f4='66 6F 6F',f5=2012-12-21T12:34:56Z,f6=foo,"
    + "f7=1,f8=2,f9=1.0,f10=1.0,f11=true,fExtra=1)";

MyBean bean = OpenApi.to(schema, input, MyBean.class);
```


Note that serializing into generic `Object` properties would have produced similar results:

```java
public class MyBean {
    public Object f1;
    public Object f2;
    public Object f3;
    public Object f4;
    public Object f5;
    public Object f6;
    public Object f7;
    public Object f8;
    public Object f9;
    public Object f10;
    public Object f11;
    public Object fExtra;
}
```


We can also parse into Maps as well:

```java
String input =
    "(f1=foo,f2=Zm9v,f3=666F6F,f4='66 6F 6F',f5=2012-12-21T12:34:56Z,f6=foo,"
    + "f7=1,f8=2,f9=1.0,f10=1.0,f11=true,fExtra=1)";

JsonMap map = OpenApi.to(schema, input, JsonMap.class);
```


:::note
Array properties can also use CSV/SSV/PIPES for array notation.
Various notations can be mixed throughout.
-
Schemas and POJOs can be defined arbitrarily deep.
:::


:::note
Schemas are optional.
They can be skipped or partially defined.
:::

- We make our best attempt to convert the output to the matching type.
However, you will get `ParseExceptions` if you attempt an impossible conversion.
(e.g.
trying to parse the string "foo" into a boolean).
