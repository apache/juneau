---
title: "juneau-rest-client Basics"
---

#### Maven Dependency

```xml
<dependency>
    <groupId>org.apache.juneau</groupId>
    <artifactId>juneau-rest-client</artifactId>
    <version>{{JUNEAU_VERSION}}</version>
</dependency>
```

#### Java Library

```text
juneau-rest-client-{{JUNEAU_VERSION}}.jar
```

#### OSGi Module

```text
org.apache.juneau.rest.client_{{JUNEAU_VERSION}}.jar
```

#### Contents/Features

Built upon the feature-rich Apache HttpClient library, the Juneau RestClient API adds support for fluent-style REST 
calls and the ability to perform marshalling of POJOs to and from HTTP parts.

:::tip Example
```java
// Create a basic REST client with JSON support and download a bean.
MyBean bean = RestClient.create()
    .json5()
    .build()
    .get(URI)
    .run()
    .assertStatus().asCode().is(200)
    .assertHeader("Content-Type").matchesSimple("application/json*")
    .getContent().as(MyBean.class);
```
:::

Breaking apart the fluent call, we can see the classes being used:

```java
RestClient.Builder builder = RestClient.create().json5();
RestClient client = builder.build();
RestRequest req = client.get(URI);
RestResponse res = req.run();
RestResponseStatusLineAssertion statusLineAssertion = res.assertStatus();
FluentIntegerAssertion codeAssertion = statusLineAssertion.asCode();
res = codeAssertion.is(200);
FluentStringAssertion headerAssertion = res.assertHeader("Content-Type");
res = headerAssertion.matchesSimple("application/json*");
ResponseContent content = res.getContent();
MyBean bean = content.as(MyBean.class);
```

It additionally provides support for creating remote proxy interfaces using REST as the transport medium.

:::tip Example
```java
// Define a Remote proxy for interacting with a REST interface.
@Remote(path="/petstore")
public interface PetStore {

    @RemotePost("/pets")
    Pet addPet(
        @Content CreatePet pet,
        @Header("E-Tag") UUID etag,
        @Query("debug") boolean debug
    );
}

PetStore store = RestClient
    .create()
    .json5()
    .build()
    .getRemote(PetStore.class, "http://localhost:10000");
CreatePet createPet = new CreatePet("Fluffy", 9.99);
Pet pet = store.addPet(createPet, UUID.randomUUID(), true);
```
:::

The classes are closely tied to Apache HttpClient, yet provide lots of additional functionality:

<tree>
<node-0>REST Client Class Hierarchy</node-0>
<node-1><java-class>[RestClient]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html)</java-class> implements [HttpClient]({{API_DOCS}}/org/apache/http/client/HttpClient.html), creates [RestRequest]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html) objects</node-1>
<node-1><java-class>[RestRequest]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html)</java-class> implements [HttpUriRequest]({{API_DOCS}}/org/apache/http/client/methods/HttpUriRequest.html), creates [RestResponse]({{API_DOCS}}/org/apache/juneau/rest/client/RestResponse.html) objects</node-1>
<node-1><java-class>[RestResponse]({{API_DOCS}}/org/apache/juneau/rest/client/RestResponse.html)</java-class> implements [HttpResponse]({{API_DOCS}}/org/apache/http/HttpResponse.html), creates [ResponseContent]({{API_DOCS}}/org/apache/juneau/rest/client/ResponseContent.html) and [ResponseHeader]({{API_DOCS}}/org/apache/juneau/rest/client/ResponseHeader.html) objects</node-1>
<node-1><java-class>[ResponseContent]({{API_DOCS}}/org/apache/juneau/rest/client/ResponseContent.html)</java-class> implements [HttpEntity]({{API_DOCS}}/org/apache/http/HttpEntity.html)</node-1>
</tree>

Instances of this class are built using the [RestClient.Builder]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient/Builder.html) 
class which can be constructed using the [RestClient.create()]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#create()) 
method as shown above.

Clients are typically created with a root URI so that relative URIs can be used when making requests.

This is done using the [Builder.rootUrl(Object)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient/Builder.html#rootUrl(Object)) 
method.

:::tip Example
```java
// Create a client where all URIs are relative to localhost.
RestClient client = RestClient.create().json().rootUrl("http://localhost:10000").build();

// Use relative paths.
String content = client.get("/subpath").run().getContent().asString();
```
:::

The [RestClient]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html) class creates [RestRequest]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html) 
objects using the following methods:

<tree>
<node-0><java-class>[RestClient]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html)</java-class></node-0>
<node-1><java-method>[get(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#get(Object)) / [get()]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#get())</java-method></node-1>
<node-1><java-method>[put(uri,body)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#put(Object,Object)) / [put(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#put(Object))</java-method></node-1>
<node-1><java-method>[post(uri,body)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#post(Object,Object)) / [post(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#post(Object))</java-method></node-1>
<node-1><java-method>[patch(uri,body)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#patch(Object,Object)) / [patch(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#patch(Object))</java-method></node-1>
<node-1><java-method>[delete(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#delete(Object))</java-method></node-1>
<node-1><java-method>[head(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#head(Object))</java-method></node-1>
<node-1><java-method>[options(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#options(Object))</java-method></node-1>
<node-1><java-method>[formPost(uri,body)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#formPost(Object,Object)) / [formPost(uri)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#formPost(Object))</java-method></node-1>
<node-1><java-method>[formPostPairs(uri,parameters...)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#formPostPairs(Object,String...))</java-method></node-1>
<node-1><java-method>[request(method,uri,body)]({{API_DOCS}}/org/apache/juneau/rest/client/RestClient.html#request(String,Object,Object))</java-method></node-1>
</tree>

The [RestRequest] ({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html) class creates 
[RestResponse]({{API_DOCS}}/org/apache/juneau/rest/client/RestResponse.html) objects using the following methods:

<tree>
<node-0><java-class>[RestRequest]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html)</java-class></node-0>
<node-1><java-method>[run()]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html#run())</java-method></node-1>
<node-1><java-method>[complete()]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html#complete())</java-method></node-1>
</tree>

The distinction between the two methods is that [complete()]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html#complete()) 
automatically consumes the response body and [run()]({{API_DOCS}}/org/apache/juneau/rest/client/RestRequest.html#run())
does not.

Note that you must consume response bodies in order for HTTP connections to be freed up for reuse!

The [InputStreams]({{API_DOCS}}/java/io/InputStream.html) returned by the [ResponseContent]({{API_DOCS}}/org/apache/juneau/rest/client/ResponseContent.html) 
object are auto-closing once they are exhausted, so it is often not necessary to explicitly close them.

The following examples show the distinction between the two calls:

```java
// Consuming the response, so use run().
String content = client.get(URI).run().getContent().asString();

// Only interested in response status code, so use complete().
int status = client.get(URI).complete().getStatusCode();
```
