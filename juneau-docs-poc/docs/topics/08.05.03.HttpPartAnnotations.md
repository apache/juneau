---
title: "HTTP Part Annotations"
---

The following annotations allow for defining part schemas based on the OpenAPI standard.

- **Request annotations:**

<tree>
<node-0><java-annotation>[Request]({{API_DOCS}}/org/apache/juneau/http/annotation/Request.html)</java-annotation></node-0>
<node-1><java-method-annotation>[on]({{API_DOCS}}/org/apache/juneau/http/annotation/Request.html#on())</java-method-annotation></node-1>
<node-1><java-method-annotation>[onClass]({{API_DOCS}}/org/apache/juneau/http/annotation/Request.html#onClass())</java-method-annotation></node-1>
<node-1><java-method-annotation>[parser]({{API_DOCS}}/org/apache/juneau/http/annotation/Request.html#parser())</java-method-annotation></node-1>
<node-0><java-annotation>[Header]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html)</java-annotation></node-0>
<node-1><java-method-annotation>[name]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#name())</java-method-annotation></node-1>
<node-1><java-method-annotation>[parser]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#parser())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#value())</java-method-annotation></node-1>
<node-0><java-annotation>[Query]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html)</java-annotation></node-0>
<node-1><java-method-annotation>[name]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html#name())</java-method-annotation></node-1>
<node-1><java-method-annotation>[parser]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html#parser())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html#value())</java-method-annotation></node-1>
<node-0><java-annotation>[FormData]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html)</java-annotation></node-0>
<node-1><java-method-annotation>[name]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html#name())</java-method-annotation></node-1>
<node-1><java-method-annotation>[parser]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html#parser())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html#value())</java-method-annotation></node-1>
<node-0><java-annotation>[Path]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html)</java-annotation></node-0>
<node-1><java-method-annotation>[name]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html#name())</java-method-annotation></node-1>
<node-1><java-method-annotation>[parser]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html#parser())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html#value())</java-method-annotation></node-1>
<node-0><java-annotation>[Content]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html)</java-annotation></node-0>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html#schema())</java-method-annotation></node-1>
</tree>

- **Response annotations:**

<tree>
<node-0><java-annotation>[Response]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html)</java-annotation></node-0>
<node-1><java-method-annotation>[examples]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#examples())</java-method-annotation></node-1>
<node-1><java-method-annotation>[headers]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#headers())</java-method-annotation></node-1>
<node-1><java-method-annotation>[on]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#on())</java-method-annotation></node-1>
<node-1><java-method-annotation>[onClass]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#onClass())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[serializer]({{API_DOCS}}/org/apache/juneau/http/annotation/Response.html#serializer())</java-method-annotation></node-1>
<node-0><java-annotation>[Header]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html)</java-annotation></node-0>
<node-1><java-method-annotation>[name]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#name())</java-method-annotation></node-1>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#schema())</java-method-annotation></node-1>
<node-1><java-method-annotation>[serializer]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#serializer())</java-method-annotation></node-1>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html#value())</java-method-annotation></node-1>
<node-0><java-annotation>[Content]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html)</java-annotation></node-0>
<node-1><java-method-annotation>[schema]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html#schema())</java-method-annotation></node-1>
<node-0><java-annotation>[StatusCode]({{API_DOCS}}/org/apache/juneau/http/annotation/StatusCode.html)</java-annotation></node-0>
<node-1><java-method-annotation>[value]({{API_DOCS}}/org/apache/juneau/http/annotation/StatusCode.html#value())</java-method-annotation></node-1>
</tree>

- **Common schema annotation:**

<tree>
<node-0><java-annotation>[Schema]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html)</java-annotation></node-0>
<node-1><java-method-annotation>[_default]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#_default())</java-method-annotation></node-1>
<node-1><java-method-annotation>[_enum]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#_enum())</java-method-annotation></node-1>
</tree>

- [$ref]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#$ref())

<tree>
<node-1><java-method>[additionalProperties]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#additionalProperties())</java-method></node-1>
<node-1><java-method>[aev]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#aev())</java-method></node-1>
<node-1><java-method>[allOf]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#allOf())</java-method></node-1>
<node-1><java-method>[allowEmptyValue]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#allowEmptyValue())</java-method></node-1>
<node-1><java-method>[cf]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#cf())</java-method></node-1>
<node-1><java-method>[collectionFormat]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#collectionFormat())</java-method></node-1>
<node-1><java-method>[d]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#d())</java-method></node-1>
<node-1><java-method>[description]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#description())</java-method></node-1>
<node-1><java-method>[df]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#df())</java-method></node-1>
<node-1><java-method>[discriminator]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#discriminator())</java-method></node-1>
<node-1><java-method>[e]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#e())</java-method></node-1>
<node-1><java-method>[emax]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#emax())</java-method></node-1>
<node-1><java-method>[emin]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#emin())</java-method></node-1>
<node-1><java-method>[exclusiveMaximum]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#exclusiveMaximum())</java-method></node-1>
<node-1><java-method>[exclusiveMinimum]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#exclusiveMinimum())</java-method></node-1>
<node-1><java-method>[externalDocs]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#externalDocs())</java-method></node-1>
<node-1><java-method>[f]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#f())</java-method></node-1>
<node-1><java-method>[format]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#format())</java-method></node-1>
<node-1><java-method>[ignore]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#ignore())</java-method></node-1>
<node-1><java-method>[items]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#items())</java-method></node-1>
<node-1><java-method>[max]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#max())</java-method></node-1>
<node-1><java-method>[maxi]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxi())</java-method></node-1>
<node-1><java-method>[maximum]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maximum())</java-method></node-1>
<node-1><java-method>[maxItems]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxItems())</java-method></node-1>
<node-1><java-method>[maxl]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxl())</java-method></node-1>
<node-1><java-method>[maxLength]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxLength())</java-method></node-1>
<node-1><java-method>[maxp]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxp())</java-method></node-1>
<node-1><java-method>[maxProperties]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#maxProperties())</java-method></node-1>
<node-1><java-method>[min]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#min())</java-method></node-1>
<node-1><java-method>[mini]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#mini())</java-method></node-1>
<node-1><java-method>[minimum]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minimum())</java-method></node-1>
<node-1><java-method>[minItems]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minItems())</java-method></node-1>
<node-1><java-method>[minl]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minl())</java-method></node-1>
<node-1><java-method>[minLength]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minLength())</java-method></node-1>
<node-1><java-method>[minp]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minp())</java-method></node-1>
<node-1><java-method>[minProperties]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#minProperties())</java-method></node-1>
<node-1><java-method>[mo]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#mo())</java-method></node-1>
<node-1><java-method>[multipleOf]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#multipleOf())</java-method></node-1>
<node-1><java-method>[on]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#on())</java-method></node-1>
<node-1><java-method>[onClass]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#onClass())</java-method></node-1>
<node-1><java-method>[p]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#p())</java-method></node-1>
<node-1><java-method>[pattern]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#pattern())</java-method></node-1>
<node-1><java-method>[properties]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#properties())</java-method></node-1>
<node-1><java-method>[r]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#r())</java-method></node-1>
<node-1><java-method>[readOnly]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#readOnly())</java-method></node-1>
<node-1><java-method>[required]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#required())</java-method></node-1>
<node-1><java-method>[ro]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#ro())</java-method></node-1>
<node-1><java-method>[sie]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#sie())</java-method></node-1>
<node-1><java-method>[v]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#skipIfEmpty())</java-method></node-1>
<node-1><java-method>[t]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#t())</java-method></node-1>
<node-1><java-method>[title]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#title())</java-method></node-1>
<node-1><java-method>[type]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#type())</java-method></node-1>
<node-1><java-method>[ui]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#ui())</java-method></node-1>
<node-1><java-method>[uniqueItems]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#uniqueItems())</java-method></node-1>
<node-1><java-method>[xml]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html#xml())</java-method></node-1>
</tree>

The [@Header]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html)/[@Query]({{API_DOCS}}/org/apache/juneau/http/annotation/Query.html)/ [@FormData]({{API_DOCS}}/org/apache/juneau/http/annotation/FormData.html)/[@Path]({{API_DOCS}}/org/apache/juneau/http/annotation/Path.html) annotations can be used on parameters of [@RestOp]({{API_DOCS}}/org/apache/juneau/rest/annotation/RestOp.html)-annotated methods to get access to request headers, query parameters, form-data parameters, and path parts.
The most typical scenario is to simply use the `value` field to define parameter names:

:::tip Example
```java
@RestGet
public void doGet(
    @Query("p1") int p1,
    @Query("p2") String p2,
    @Query("p3") UUID p3) {...}
```

This is functionally equivalent to the following code:

```java
@RestGet
public void doGet(RestRequest req) {
    RequestQueryParams query = req.getQueryParams();
    int p1 = query.get("p1").asInteger().orElse(0);
    String p2 = query.get("p2").orElse(null);
    UUID p3 = query.get("p3").as(UUID.class).orElse(null);
}
```

The special name "*" (or blank) can be used to represent all values.
:::

When used, the data type must be a `Map` or bean.

:::tip Examples
```java
// Multiple values passed as a map.
@RestGet
public void doGet(@Query("*") Map map) {...}
```

```java
// Same but name "*" is inferred.
@RestGet
public void doGet(@Query Map map) {...}
```

```java
// Multiple values passed as a bean.
@RestGet
public void doGet(@Query MyQueryBean bean) {...}
```

The [@Content]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html) annotation is used to identify POJOs to be used as the body of an HTTP request.
:::

:::tip Examples
```java
// Defined on parameter
@RestPost
public void addPet(@Content Pet pet) {...}
```

```java
// Defined on POJO class
@RestPost
public void addPet(Pet pet) {...}

@Content
public class Pet {...}
```

This is functionally equivalent to the following code:

```java
@RestPost
public void addPet(RestRequest req) {
    Pet pet = req.getContent().as(Pet.class);
    ...
}
```

In addition to [@Content]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html)-annotated parameters/types, the body of an HTTP request
can be retrieved by passing in parameters of the following types (matched in the specified order):
-
[Reader]({{API_DOCS}}/java/io/Reader.html)
@Content annotation is optional.
`Content-Type` is ignored.
-
[InputStream]({{API_DOCS}}/java/io/InputStream.html)
@Content annotation is optional.
`Content-Type` is ignored.
-
Any [TODO: Parseable POJO](TODO.md) type.
`Content-Type` is required to identify correct parser.
-
Objects convertible from [Reader]({{API_DOCS}}/java/io/Reader.html) by having one of the following non-deprecated methods:

- `public T(Reader in) \{...\}`
- `public static T create(Reader in) \{...\}`
- `public static T fromReader(Reader in) \{...\}`

`Content-Type` must not be present or match an existing parser so that it's not parsed as a POJO.
-
Objects convertible from [InputStream]({{API_DOCS}}/java/io/InputStream.html) by having one of the following non-deprecated methods:

- `public T(InputStream in) \{...\}`
- `public static T create(InputStream in) \{...\}`
- `public static T fromInputStream(InputStream in) \{...\}`

`Content-Type` must not be present or match an existing parser so that it's not parsed as a POJO.
-
Objects convertible from [String]({{API_DOCS}}/java/lang/String.html) by having one of the following non-deprecated methods:

- `public T(String in) \{...\}`
- `public static T create(String in) \{...\}`
- `public static T fromString(String in) \{...\}`
- `public static T parse(String in) \{...\}`
- `public static T parseString(String in) \{...\}`
- `public static T forName(String in) \{...\}`
- `public static T forString(String in) \{...\}`

Note that this also includes all enums.
-
Any [Optional]({{API_DOCS}}/java/util/Optional.html) of anything on this list.
When used in combination with the mutable [Value]({{API_DOCS}}/org/apache/juneau/Value.html) object, the [@StatusCode]({{API_DOCS}}/org/apache/juneau/http/annotation/StatusCode.html) and [@Header]({{API_DOCS}}/org/apache/juneau/http/annotation/Header.html) annotations
can be used on parameters [@RestOp]({{API_DOCS}}/org/apache/juneau/rest/annotation/RestOp.html)-annotated methods to
to define to response codes and headers.
:::

:::tip Example
```java
@RestGet("/user/login")
public void login(
    @FormData("username") String username,
    @FormData("password") String password,
    @StatusCode Value status,
    @Header("My-Response-Header") Value myResponseHeader
) {
    if (isValid(username, password)) {
        status.set(200);
        myResponseHeader.set("Welcome " + username + "!");
    } else {
        status.set(401);
    }
}
```

This is functionally equivalent to the following code:

```java
@RestGet("/user/login")
public void doGet(RestRequest req, RestResponse res) {
    RequestFormParams form = req.getFormParams();
    String username = form.get("username").orElse(null);
    String password = form.get("password").orElse(null);
    if (isValid(username, password) {
        res.setStatus(200);
        res.setHeader("My-Response-Header", "Welcome " + username + "!");
    } else {
        res.setStatus(401);
    }
}
```

The default registered part marshallers, [OpenApiSerializer]({{API_DOCS}}/org/apache/juneau/oapi/OpenApiSerializer.html) and [OpenApiParser]({{API_DOCS}}/org/apache/juneau/oapi/OpenApiParser.html), are used to
marshall POJOs using schemas defined via the [@Schema]({{API_DOCS}}/org/apache/juneau/annotation/Schema.html) annotation.
For example, the following shows how a pipe-delimited list of comma-delimited numbers (e.g. "1,2,3|4,5,6|7,8,9") can be converted to a 2-dimensional array of `Longs`:

```java
@RestGet("/testQuery1")
public void testQuery1(
    @Query("queryParamName")
    @Schema(
        collectionFormat="pipes",
        items=@Items(
            collectionFormat="csv",
            type="integer",
            format="int64",
            minimum="0",
            maximum="100"
            minLength=1,
            maxLength=10
        ),
        minLength=1,
        maxLength=10
    )
    Long[][] queryParameter
) {...}

// Same but using condensed notation.
@RestGet("/testQuery2")
public void testQuery2(
    @Query("queryParamName")
    @Schema(
        cf="pipes", minl=1, maxl=10,
        i=@Items(cf="csv", t="integer", f="int64", min="0", max="100", minl=1, maxl=10)
    )
    Long[][] queryParameter
) {...}
```

Schema-based marshalling works for both request and response parts.
Input will be converted based on the types and formats defined in the schema definition.
Input validations such as `minLength/maxLength` that don't match the input will result in automatic `400 Bad Request` responses.
The part and schema annotations are also used for supplying swagger information about the HTTP part.
:::

This information is used to populate the auto-generated Swagger documentation and UI.

:::tip Example
```java
@Query("name")
@Schema(
    description="Pet name",
    required=true
)
```

SVL Variables (e.g. "$L\{my.localized.variable\}") are supported on annotation fields as well.
Among other things, this allow for annotation values to be defined externally and the ability to produce localized swagger documents
based on the `Accept-Language` on a request.
:::

:::tip Example
```java
@Schema(
    description="$L{PetNameDescription}"
)
```

The [@Content]({{API_DOCS}}/org/apache/juneau/http/annotation/Content.html) annotation can also be used to parse HTTP request bodies using OpenAPI schemas
when the body content type matches the [OpenApiParser]({{API_DOCS}}/org/apache/juneau/oapi/OpenApiParser.html) parser via the header `Content-Type: text/openapi`.
The following shows the same for a request body:

```java
@RestPost("/testContent")
public void testContent(
    @Content
    @Schema(
        items=@Items(
            collectionFormat="pipes",
            items=@SubItems(
                collectionFormat="csv",
                type="integer",
                format="int64",
                minimum="0",
                maximum="100"
                minLength=1,
                maxLength=10
            )
        ),
        minLength=1,
        maxLength=10
    )
    Long[][] content
) {...}
```

The list of valid POJO types for parameters depends on type and format of the value or items/entries of the value.
For example, instead of `Longs` in the example above, we could also define a 2-dimensional array of POJOs convertible from `Longs`:

```java
// Content is a 2-dimensional array of POJOs convertible from Longs:
@RestPost("/example1")
public void testContent(@Content(...) MyPojo1[][] content) {...}

public class MyPojo1 {
    public MyPojo1(Long input) {...}
}
```

```java
// Content is a POJO that takes in a Long array:
@RestPost("/example2")
public void testContent(@Content(...) MyPojo2[] content) {...}

public class MyPojo2 {
    public MyPojo2(Long[] input) {...}
}
```

```java
// Content is a POJO that takes in the whole 2-dimensional array:
@RestPost("/example3")
public voidtestContent@Content(...) MyPojo3 content) {...}

public class MyPojo3 {
    public MyPojo3(Long[][] input) {...}
}
```

As you can see, the complexity of possible input types expands significantly.
For more information about valid parameter types, see [TODO: OpenAPI Parsers](TODO.md).
:::