---
title: "SVL Variables"
---

In the previous examples, there were several cases where embedded variables were contained within annotation values:

```java
@Rest(
    title="$L{my.label}"
)
```

Variables take the form `$X{contents}` where `X` can consist of zero or more ASCII characters and contents can be
virtually anything.
This is called Simple Variable Language, or SVL, and is defined here: [TODO: Simple Variable Language](TODO.md).

#### Features

- Variables can be nested arbitrarily deep (e.g.

`$X{$Y{foo}}`).

- Variables can contain arguments (e.g.

`$L{my.label,arg1,arg2}`).

- Variables are recursively resolved.
  i.e., if a variable results to a value with another variable in it, that variable will also be resolved (restricted for security reasons on variables that involve user input).

There are two distinct groups of variables:

- **Initialization-time variables:** These are variables that can be used in many of the annotations in [@Rest]({{API_DOCS}}/org/apache/juneau/rest/annotation/Rest.html). The [RestContext.getVarResolver()]({{API_DOCS}}/org/apache/juneau/rest/RestContext.html#getVarResolver()) method returns initialization-time variables only.
- **Request-time variables:** These are variables that are available during HTTP-requests and can be used on annotation such as [@HtmlDoc]({{API_DOCS}}/org/apache/juneau/html/annotation/HtmlDoc.html). [RestRequest.getVarResolverSession()]({{API_DOCS}}/org/apache/juneau/rest/RestRequest.html#getVarResolverSession()) method returns initialization and request-time variables.

The following is the default list of supported variables:

#### Default REST SVL Variables:

| Module | Class | Pattern | Initialization time | Request time | Examples |
|--------|-------|---------|-------------------|--------------|----------|
| **juneau-svl** | [EnvVariablesVar]({{API_DOCS}}/org/apache/juneau/svl/vars/EnvVariablesVar.html) | `$E{key[,default]}` | yes | yes | `$E{PATH}` |
| | [SystemPropertiesVar]({{API_DOCS}}/org/apache/juneau/svl/vars/SystemPropertiesVar.html) | `$S{key[,default]}` | yes | yes | `$S{java.home}` |
| | [ArgsVar]({{API_DOCS}}/org/apache/juneau/svl/vars/ArgsVar.html) | `$A{key[,default]}` | yes | yes | `$A{foo,null}` |
| | [ManifestFileVar]({{API_DOCS}}/org/apache/juneau/svl/vars/ManifestFileVar.html) | `$MF{key[,default]}` | yes | yes | `$MF{Main-Class}` |
| | [IfVar]({{API_DOCS}}/org/apache/juneau/svl/vars/IfVar.html) | `$IF{arg,then[,else]}` | yes | yes | `$IF{$S{my.boolean.property},foo,bar}` |
| | [SwitchVar]({{API_DOCS}}/org/apache/juneau/svl/vars/SwitchVar.html) | `$SW{arg,p1:then1[,p2:then2...]}` | yes | yes | `$SW{$S{os.name},*win*:Windows,*:Something else}` |
| | [CoalesceVar]({{API_DOCS}}/org/apache/juneau/svl/vars/CoalesceVar.html) | `$CO{arg1[,arg2...]}` | yes | yes | `$CO{$S{my.property},$E{my.property},n/a}` |
| | [PatternMatchVar]({{API_DOCS}}/org/apache/juneau/svl/vars/PatternMatchVar.html) | `$PM{arg,pattern}` | yes | yes | `$PM{$S{os.name},*win*}` |
| | [NotEmptyVar]({{API_DOCS}}/org/apache/juneau/svl/vars/NotEmptyVar.html) | `$NE{arg}` | yes | yes | `$NE{$S{foo}}` |
| | [UpperCaseVar]({{API_DOCS}}/org/apache/juneau/svl/vars/UpperCaseVar.html) | `$UC{arg}` | yes | yes | `$UC{$S{foo}}` |
| | [LowerCaseVar]({{API_DOCS}}/org/apache/juneau/svl/vars/LowerCaseVar.html) | `$LC{arg}` | yes | yes | `$LC{$S{foo}}` |
| **juneau-config** | [ConfigVar]({{API_DOCS}}/org/apache/juneau/config/vars/ConfigVar.html) | `$C{key[,default]}` | yes | yes | `$C{REST/staticFiles}` |
| **juneau-rest-server** | [FileVar]({{API_DOCS}}/org/apache/juneau/rest/vars/FileVar.html) | `$F{path[,default]}` | yes | yes | `$F{resources/MyAsideMessage.html, Oops not found!}` |
| | [ServletInitParamVar]({{API_DOCS}}/org/apache/juneau/rest/vars/ServletInitParamVar.html) | `$I{name[,default]}` | yes | yes | `$I{my.param}` |
| | [LocalizationVar]({{API_DOCS}}/org/apache/juneau/rest/vars/LocalizationVar.html) | `$L{key[,args...]}` | no | yes | `$L{MyMessage,foo,bar}` |
| | [RequestAttributeVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestAttributeVar.html) | `$RA{key1[,key2...]}` | no | yes | `$RA{attrName}` |
| | [RequestFormDataVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestFormDataVar.html) | `$RF{key1[,key2...]}` | no | yes | `$RF{paramName}` |
| | [RequestHeaderVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestHeaderVar.html) | `$RH{key1[,key2...]}` | no | yes | `$RH{Header-Name}` |
| | [RequestPathVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestPathVar.html) | `$RP{key1[,key2...]}` | no | yes | `$RP{pathVar}` |
| | [RequestQueryVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestQueryVar.html) | `$RQ{key1[,key2...]}` | no | yes | `$RQ{paramName}` |
| | [RequestSwaggerVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestSwaggerVar.html) | `$RS{key}` | no | yes | `$RS{title}` |
| | [RequestVar]({{API_DOCS}}/org/apache/juneau/rest/vars/RequestVar.html) | `$R{key1[,key2...]}` | no | yes | `$R{contextPath}` |
| | [SerializedRequestAttrVar]({{API_DOCS}}/org/apache/juneau/rest/vars/SerializedRequestAttrVar.html) | `$SA{contentType,key[,default]}` | no | yes | `$SA{application/json,$RA{foo}}` |
| | [UrlVar]({{API_DOCS}}/org/apache/juneau/rest/vars/UrlVar.html) | `$U{uri}` | no | yes | `$U{servlet:/foo}` |
| | [UrlEncodeVar]({{API_DOCS}}/org/apache/juneau/rest/vars/UrlEncodeVar.html) | `$UE{uriPart}` | yes | yes | `$U{servlet:/foo?bar=$UE{$RA{bar}}}` |
| | [Widget]({{API_DOCS}}/org/apache/juneau/rest/widget/Widget.html) | `$W{name}` | no | yes | `$W{MenuItemWidget}` |

Custom variables can be defined on resources via the following API:

<tree>
<node-0><java-class>[RestContext.Builder]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html)</java-class></node-0>
<node-1><java-method>[varResolver()]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html#varResolver())</java-method></node-1>
<node-1><java-method>[vars(Class...)]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html#vars(Class...))</java-method></node-1>
<node-1><java-method>[vars(Var...)]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html#vars(Var...))</java-method></node-1>
</tree>

:::tip Example
```java
// Defined a variable that simply wrapps all strings inside [] brackets.
// e.g. "$BRACKET{foobar}" -> "[foobar]"
public class BracketVar extends SimpleVar {

    public BracketVar() {
        super("BRACKET");
    }

    @Override /* Var */
    public String resolve(VarResolverSession session, String arg) {
        return '[' + arg + ']';
    }
}

// Register it with our resource.
@Rest(...)
public class MyResource extends BasicRestObject {

    @RestInit
    public void init(RestContext.Builder builder) {
        builder.vars(BracketVar.class);
    }
}
```
:::

The methods involved with variables are:

<tree>
<node-0><java-class>[RestContext]({{API_DOCS}}/org/apache/juneau/rest/RestContext.html)</java-class></node-0>
<node-1><java-method>[getVarResolver()]({{API_DOCS}}/org/apache/juneau/rest/RestContext.html#getVarResolver())</java-method></node-1>
<node-0><java-class>[RestRequest]({{API_DOCS}}/org/apache/juneau/rest/RestRequest.html)</java-class></node-0>
<node-1><java-method>[getVarResolverSession()]({{API_DOCS}}/org/apache/juneau/rest/RestRequest.html#getVarResolverSession())</java-method></node-1>
</tree>
