---
title: "Config Stores"
---

Configuration files are stored in entities called Stores.
The methods that need to be implemented on a store are:
- [ConfigStore](../apidocs/org/apache/juneau/config/store/ConfigStore.html)
- [read(String)](../apidocs/org/apache/juneau/config/store/ConfigStore.html#read(String))
- \{@link oaj.config.store.ConfigStore#write(String,String,String) write(String,String,String)\}
- \{@link oaj.config.store.ConfigStore#update(String,String) update(String,String)\}

Read is self-explanatory:

```java
public String read(String name) {
    // Return the contents of the specified configuration.
}
```


Write is slightly trickier:

```java
public String write(String name, String oldContents, String newContents) {

    // If the old contents match the current stored contents, the new contents will get stored,
    //	and the method returns null indicating success.

    // If the old contents DO NOT match the current stored contents (i.e. it was modified in some way),
    //	the new contents are NOT stored, and the method returns the current stored contents.

    // If the old contents are null, then just always write the new contents.
}
```


The update method is called whenever the stored file gets modified externally:

```java
public String update(String name, String newContents) {
    // Do something with the updated contents.
}
```


Two configuration stores are provided by default:
- [FileStore](../apidocs/org/apache/juneau/config/store/FileStore.html) - File-system storage.
- [MemoryStore](../apidocs/org/apache/juneau/config/store/MemoryStore.html) - In-memory storage.

The store is defined on the `Config` object via the following setting:
- [Builder](../apidocs/org/apache/juneau/config/Config/Builder.html)
- [store(ConfigStore)](../apidocs/org/apache/juneau/config/Config/Builder.html#store(ConfigStore))

:::tip Example


```java
// Create a config with in-memory storage.
Config config = Config.create("MyConfig.cfg").store(ConfigMemoryStore.DEFAULT).build();
```


The default store used is [FileStore#DEFAULT](../apidocs/org/apache/juneau/config/store/FileStore.html#DEFAULT) which defines
the execution directory as the file system directory to store and retrieve files.

:::
