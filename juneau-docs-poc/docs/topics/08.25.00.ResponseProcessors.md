---
title: "Response Processors"
---

The REST Server API uses the concept of registered response processors for converting objects returned by REST methods
or set through [RestResponse.setContent(Object)]({{API_DOCS}}/org/apache/juneau/rest/RestResponse.html#setContent(Object)) into appropriate HTTP responses.
By default, REST resource classes are registered with the following response processors:

<tree>
<node-0><java-class>[HttpEntityProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/HttpEntityProcessor.html)</java-class></node-0>
<node-0><java-class>[HttpResourceProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/HttpResourceProcessor.html)</java-class></node-0>
<node-0><java-class>[HttpResponseProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/HttpResponseProcessor.html)</java-class></node-0>
<node-0><java-class>[InputStreamProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/InputStreamProcessor.html)</java-class></node-0>
<node-0><java-class>[PlainTextPojoProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/PlainTextPojoProcessor.html)</java-class></node-0>
<node-0><java-class>[ReaderProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/ReaderProcessor.html)</java-class></node-0>
<node-0><java-class>[ResponseBeanProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/ResponseBeanProcessor.html)</java-class></node-0>
<node-0><java-class>[SerializedPojoProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/SerializedPojoProcessor.html)</java-class></node-0>
<node-0><java-class>[ThrowableProcessor]({{API_DOCS}}/org/apache/juneau/rest/processor/ThrowableProcessor.html)</java-class></node-0>
</tree>

Custom response processors can be associated with REST resources via the following:

<tree>
<node-0><java-annotation>[Rest]({{API_DOCS}}/org/apache/juneau/rest/annotation/Rest.html)</java-annotation></node-0>
<node-1><javac-method-annotation>[responseProcessors]({{API_DOCS}}/org/apache/juneau/rest/annotation/Rest.html#responseProcessors())</javac-method-annotation></node-1>
<node-0><java-class>[RestContext.Builder]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html)</java-class></node-0>
<node-1><javac-method>[responseProcessors()]({{API_DOCS}}/org/apache/juneau/rest/RestContext/Builder.html#responseProcessors())</javac-method></node-1>
</tree>

Response processors can be used to process POJOs that cannot normally be handled through Juneau serializers, or because
it's simply easier to define response processors for special cases.

The following example shows how to create a response processor to handle special `Foo` objects outside the normal Juneau
architecture.

```java
@Rest(responseProcessors=FooProcessor.class)
public class MyResource {

    @RestGet("/getFoo")
    public Foo getFoo() {
        return new Foo("Some value");
    }

    public static class FooProcessor implements ResponseProcessor {
        @Override
        public int process(RestOpContext opContext, RestRequest req, RestResponse res) {
            Object output = res.getContent(Object.class);
            if (output instanceof Foo) {
                try {
                    Foo foo = (Foo)output;
                    // Set some headers.
                    res.setHeader("Foo-ID", foo.getId());
                    // Set the real content.
                    res.setContent("Special handling for Foo object: " + foo.getValue());
                } catch (Exception e) {
                    throw new InternalServerError(e);
                }
                return FINISHED;  // We handled it.
            }
            return CONTINUE;  // Let next processor handle it.
        }
    }
}
```
