<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) -->
<title>Settings (Apache Juneau 9.2.0-SNAPSHOT)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.apache.juneau.commons.settings, class: Settings">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../javadoc.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><a href="http://juneau.apache.org" target="_blank"><img src="/img/oakleaf.svg" alt="Apache Juneau" style="height:20px; vertical-align:middle; margin-right:5px;">Apache Juneau</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/Settings.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.juneau.commons.settings</a></div>
<h1 title="Class Settings" class="title">Class Settings</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.apache.juneau.commons.settings.Settings</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-132">Settings</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Encapsulates Java system properties with support for global and per-thread overrides for unit testing.

 <p>
 This class provides a thread-safe way to access system properties that can be overridden at both the global level
 and per-thread level, making it useful for unit tests that need to temporarily change system property
 values without affecting other tests or threads.

 <p>
 Settings instances are created using the <a href="Settings.Builder.html" title="class in org.apache.juneau.commons.settings"><code>Settings.Builder</code></a> pattern. Use <a href="#create()"><code>create()</code></a> to create a new builder,
 or <a href="#get()"><code>get()</code></a> to get the singleton instance (which is created using default builder settings).

 <h5 class='section'>Lookup Order:</h5>
 <p>
 When retrieving a property value, the lookup order is:
 <ol>
   <li>Per-thread store (if set via <a href="#setLocal(java.lang.String,java.lang.String)"><code>setLocal(String, String)</code></a>)
   <li>Global store (if set via <a href="#setGlobal(java.lang.String,java.lang.String)"><code>setGlobal(String, String)</code></a>)
   <li>Sources in reverse order (last source added via <a href="Settings.Builder.html#addSource(org.apache.juneau.commons.settings.SettingSource)"><code>Settings.Builder.addSource(SettingSource)</code></a> is checked first)
   <li>System property source (default, always second-to-last)
   <li>System environment variable source (default, always last)
 </ol>

 <h5 class='section'>Sources vs Stores:</h5>
 <ul class='spaced-list'>
   <li><b>Sources</b> (<a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings"><code>SettingSource</code></a>) - Provide read-only access to property values. Examples: <a href="FunctionalSource.html" title="interface in org.apache.juneau.commons.settings"><code>FunctionalSource</code></a>
   <li><b>Stores</b> (<a href="SettingStore.html" title="interface in org.apache.juneau.commons.settings"><code>SettingStore</code></a>) - Provide read/write access to property values. Examples: <a href="MapStore.html" title="class in org.apache.juneau.commons.settings"><code>MapStore</code></a>, <a href="FunctionalStore.html" title="class in org.apache.juneau.commons.settings"><code>FunctionalStore</code></a>
   <li>Stores can be used as sources (they extend <a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings"><code>SettingSource</code></a>), so you can add stores via <a href="Settings.Builder.html#addSource(org.apache.juneau.commons.settings.SettingSource)"><code>Settings.Builder.addSource(SettingSource)</code></a>
 </ul>

 <h5 class='section'>Features:</h5>
 <ul class='spaced-list'>
   <li>System property access - read Java system properties with type conversion via <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a>
   <li>Global overrides - override system properties globally for all threads (stored in a <a href="SettingStore.html" title="interface in org.apache.juneau.commons.settings"><code>SettingStore</code></a>)
   <li>Per-thread overrides - override system properties for specific threads (stored in a per-thread <a href="SettingStore.html" title="interface in org.apache.juneau.commons.settings"><code>SettingStore</code></a>)
   <li>Custom sources - add arbitrary property sources (e.g., Spring properties, environment variables, config files) via the <a href="Settings.Builder.html" title="class in org.apache.juneau.commons.settings"><code>Settings.Builder</code></a>
   <li>Disable override support - system property to prevent new global overrides from being set
   <li>Type-safe accessors - type conversion methods on <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> for common types: Integer, Long, Boolean, Double, Float, File, Path, URI, Charset
   <li>Resettable suppliers - settings are returned as <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> instances that can be reset to force recomputation
 </ul>

 <h5 class='section'>Usage Examples:</h5>
 <p class='bjava'>
   <jc>// Get a system property as a StringSetting (using singleton instance)</jc>
   StringSetting <jv>setting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.property"</js>);
   String <jv>value</jv> = <jv>setting</jv>.get();  <jc>// Get the string value</jc>

   <jc>// Get with type conversion using StringSetting methods</jc>
   Setting&lt;Integer&gt; <jv>intSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.int.property"</js>).asInteger();
   Setting&lt;Long&gt; <jv>longSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.long.property"</js>).asLong();
   Setting&lt;Boolean&gt; <jv>boolSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.bool.property"</js>).asBoolean();
   Setting&lt;Double&gt; <jv>doubleSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.double.property"</js>).asDouble();
   Setting&lt;Float&gt; <jv>floatSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.float.property"</js>).asFloat();
   Setting&lt;File&gt; <jv>fileSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.file.property"</js>).asFile();
   Setting&lt;Path&gt; <jv>pathSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.path.property"</js>).asPath();
   Setting&lt;URI&gt; <jv>uriSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.uri.property"</js>).asURI();
   Setting&lt;Charset&gt; <jv>charsetSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.charset.property"</js>).asCharset();

   <jc>// Use custom type conversion</jc>
   Setting&lt;MyCustomType&gt; <jv>customSetting</jv> = Settings.<jsf>get</jsf>().get(<js>"my.custom.property"</js>).asType(MyCustomType.<jk>class</jk>);

   <jc>// Reset a setting to force recomputation</jc>
   <jv>setting</jv>.reset();

   <jc>// Override for current thread (useful in unit tests)</jc>
   Settings.<jsf>get</jsf>().setLocal(<js>"my.property"</js>, <js>"test-value"</js>);
   <jc>// ... test code that uses the override ...</jc>
   Settings.<jsf>get</jsf>().unsetLocal(<js>"my.property"</js>);  <jc>// Remove specific override</jc>
   <jc>// OR</jc>
   Settings.<jsf>get</jsf>().clearLocal();  <jc>// Clear all thread-local overrides</jc>

   <jc>// Set global override (applies to all threads)</jc>
   Settings.<jsf>get</jsf>().setGlobal(<js>"my.property"</js>, <js>"global-value"</js>);
   <jc>// ... code that uses the global override ...</jc>
   Settings.<jsf>get</jsf>().unsetGlobal(<js>"my.property"</js>);  <jc>// Remove specific override</jc>
   <jc>// OR</jc>
   Settings.<jsf>get</jsf>().clearGlobal();  <jc>// Clear all global overrides</jc>

   <jc>// Create a custom Settings instance with custom sources (e.g., Spring properties)</jc>
   MapStore <jv>springSource</jv> = <jk>new</jk> MapStore();
   <jv>springSource</jv>.set(<js>"spring.datasource.url"</js>, <js>"jdbc:postgresql://localhost/db"</js>);
   Settings <jv>custom</jv> = Settings.<jsf>create</jsf>()
      .addSource(<jv>springSource</jv>)
      .addSource(FunctionalSource.<jsf>of</jsf>(System::getProperty))
      .build();
 </p>

 <h5 class='section'>System Properties:</h5>
 <ul class='spaced-list'>
   <li><c>juneau.settings.disableGlobal</c> (system property) or <c>JUNEAU_SETTINGS_DISABLEGLOBAL</c> (system env) - If set to <c>true</c>, prevents new global overrides
      from being set via <a href="#setGlobal(java.lang.String,java.lang.String)"><code>setGlobal(String, String)</code></a>. Existing global overrides will still be
      returned by <a href="#get(java.lang.String)"><code>get(String)</code></a> until explicitly removed.
      <p class='bnote'>
         Note: This property is read once at class initialization time when creating the singleton instance
         and cannot be changed at runtime. Changing the system property after the class has been loaded will
         have no effect on the singleton instance. However, you can create custom Settings instances using
         <a href="#create()"><code>create()</code></a> that ignore this property.
      </p>
 </ul></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="Settings.Builder.html" class="type-name-link" title="class in org.apache.juneau.commons.settings">Settings.Builder</a></code></div>
<div class="col-last even-row-color">
<div class="block">Builder for creating Settings instances.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final <a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings">SettingSource</a></code></div>
<div class="col-second even-row-color"><code><a href="#SYSTEM_ENV_SOURCE" class="member-name-link">SYSTEM_ENV_SOURCE</a></code></div>
<div class="col-last even-row-color">
<div class="block">System environment variable source that delegates to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)" title="class or interface in java.lang" class="external-link"><code>System.getenv(String)</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code>static final <a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings">SettingSource</a></code></div>
<div class="col-second odd-row-color"><code><a href="#SYSTEM_PROPERTY_SOURCE" class="member-name-link">SYSTEM_PROPERTY_SOURCE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">System property source that delegates to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)" title="class or interface in java.lang" class="external-link"><code>System.getProperty(String)</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearGlobal()" class="member-name-link">clearGlobal</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clears all global overrides.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearLocal()" class="member-name-link">clearLocal</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Clears all per-thread overrides for the current thread.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Settings.Builder.html" title="class in org.apache.juneau.commons.settings">Settings.Builder</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#create()" class="member-name-link">create</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Creates a new builder for constructing a Settings instance.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#get()" class="member-name-link">get</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Returns the singleton instance of Settings.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="StringSetting.html" title="class in org.apache.juneau.commons.settings">StringSetting</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(java.lang.String)" class="member-name-link">get</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> for the specified system property.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#get(java.lang.String,T)" class="member-name-link">get</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 T&nbsp;def)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Looks up a system property, returning a default value if not found.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGlobal(java.lang.String,java.lang.String)" class="member-name-link">setGlobal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;value)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a global override for the specified property.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLocal(java.lang.String,java.lang.String)" class="member-name-link">setLocal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;value)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets a per-thread override for the specified property.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected &lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toType(java.lang.String,java.lang.Class)" class="member-name-link">toType</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;s,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;c)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Converts a string to the specified type using reflection to find conversion methods or constructors.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unsetGlobal(java.lang.String)" class="member-name-link">unsetGlobal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a global override for the specified property.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unsetLocal(java.lang.String)" class="member-name-link">unsetLocal</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Removes a per-thread override for the specified property.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="SYSTEM_PROPERTY_SOURCE">
<h3>SYSTEM_PROPERTY_SOURCE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings">SettingSource</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-137">SYSTEM_PROPERTY_SOURCE</a></span></div>
<div class="block">System property source that delegates to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getProperty(java.lang.String)" title="class or interface in java.lang" class="external-link"><code>System.getProperty(String)</code></a>.</div>
</section>
</li>
<li>
<section class="detail" id="SYSTEM_ENV_SOURCE">
<h3>SYSTEM_ENV_SOURCE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="SettingSource.html" title="interface in org.apache.juneau.commons.settings">SettingSource</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-144">SYSTEM_ENV_SOURCE</a></span></div>
<div class="block">System environment variable source that delegates to <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#getenv(java.lang.String)" title="class or interface in java.lang" class="external-link"><code>System.getenv(String)</code></a>.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="create()">
<h3>create</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Settings.Builder.html" title="class in org.apache.juneau.commons.settings">Settings.Builder</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-184">create</a></span>()</div>
<div class="block">Creates a new builder for constructing a Settings instance.

 <p>
 This method provides a convenient way to create custom Settings instances with specific
 configuration. The builder allows you to configure stores, sources, and other settings
 before building the final Settings instance.

 <h5 class='section'>Example:</h5>
 <p class='bjava'>
   <jc>// Create a custom Settings instance</jc>
   Settings <jv>custom</jv> = Settings.<jsf>create</jsf>()
      .globalStore(() -&gt; <jk>new</jk> MapStore())
      .localStore(() -&gt; <jk>new</jk> MapStore())
      .addSource(FunctionalSource.<jsf>of</jsf>(System::getProperty))
      .build();
 </p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A new Builder instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get()">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-310">get</a></span>()</div>
<div class="block">Returns the singleton instance of Settings.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The singleton Settings instance.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(java.lang.String)">
<h3>get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="StringSetting.html" title="class in org.apache.juneau.commons.settings">StringSetting</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-350">get</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Returns a <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> for the specified system property.

 <p>
 The returned <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> is a resettable supplier that caches the lookup result.
 Use the <a href="StringSetting.html#asInteger()"><code>StringSetting.asInteger()</code></a>, <a href="StringSetting.html#asBoolean()"><code>StringSetting.asBoolean()</code></a>, etc. methods
 to convert to different types.

 <p>
 The lookup order is:
 <ol>
   <li>Per-thread override (if set via <a href="#setLocal(java.lang.String,java.lang.String)"><code>setLocal(String, String)</code></a>)
   <li>Global override (if set via <a href="#setGlobal(java.lang.String,java.lang.String)"><code>setGlobal(String, String)</code></a>)
   <li>Sources in reverse order (last source added via <a href="Settings.Builder.html#addSource(org.apache.juneau.commons.settings.SettingSource)"><code>Settings.Builder.addSource(SettingSource)</code></a> is checked first)
   <li>System property source (default, always second-to-last)
   <li>System environment variable source (default, always last)
 </ol></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The property name. Must not be <jk>null</jk>.</dd>
<dt>Returns:</dt>
<dd>A <a href="StringSetting.html" title="class in org.apache.juneau.commons.settings"><code>StringSetting</code></a> that provides the property value, or <jk>null</jk> if not found.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="get(java.lang.String,T)">
<h3 id="get(java.lang.String,java.lang.Object)">get</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-403">get</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 T&nbsp;def)</span></div>
<div class="block">Looks up a system property, returning a default value if not found.

 <p>
 This method searches for a value using the same lookup order as <a href="#get(java.lang.String)"><code>get(String)</code></a>.
 If a value is found, it is converted to the type of the default value using <a href="#toType(java.lang.String,java.lang.Class)"><code>toType(String, Class)</code></a>.
 Supported types include any type that has a static method with signature <c>public static &lt;T&gt; T anyName(String arg)</c>
 or a public constructor with signature <c>public T(String arg)</c>, such as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link"><code>Integer</code></a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html" title="class or interface in java.nio.charset" class="external-link"><code>Charset</code></a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link"><code>File</code></a>, etc.

 <h5 class='section'>Example:</h5>
 <p class='bjava'>
   <jc>// System property: -Dmy.property=true</jc>
   Boolean <jv>flag</jv> = get(<js>"my.property"</js>, <jk>false</jk>);  <jc>// true</jc>

   <jc>// Environment variable: MY_PROPERTY=UTF-8</jc>
   Charset <jv>charset</jv> = get(<js>"my.property"</js>, Charset.defaultCharset());  <jc>// UTF-8</jc>

   <jc>// Not found, returns default</jc>
   String <jv>value</jv> = get(<js>"nonexistent"</js>, <js>"default"</js>);  <jc>// "default"</jc>
 </p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type to convert the value to.</dd>
<dt>Parameters:</dt>
<dd><code>name</code> - The property name.</dd>
<dd><code>def</code> - The default value to return if not found.</dd>
<dt>Returns:</dt>
<dd>The found value (converted to type T), or the default value if not found.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#get(java.lang.String)"><code>get(String)</code></a></li>
<li><a href="#toType(java.lang.String,java.lang.Class)"><code>toType(String, Class)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setGlobal(java.lang.String,java.lang.String)">
<h3>setGlobal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-432">setGlobal</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;value)</span></div>
<div class="block">Sets a global override for the specified property.

 <p>
 This override will apply to all threads and takes precedence over system properties.
 However, per-thread overrides (set via <a href="#setLocal(java.lang.String,java.lang.String)"><code>setLocal(String, String)</code></a>) will still take precedence
 over global overrides.

 <p>
 If the <c>juneau.settings.disableGlobal</c> system property is set to <c>true</c>,
 this method will throw an exception. This allows system administrators
 to prevent applications from overriding system properties globally.

 <p>
 Setting a value to <c>null</c> will store an empty optional, effectively overriding the system
 property to return empty. Use <a href="#unsetGlobal(java.lang.String)"><code>unsetGlobal(String)</code></a> to completely remove the override.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The property name.</dd>
<dd><code>value</code> - The override value, or <c>null</c> to set an empty override.</dd>
<dt>Returns:</dt>
<dd>This object for method chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#unsetGlobal(java.lang.String)"><code>unsetGlobal(String)</code></a></li>
<li><a href="#clearGlobal()"><code>clearGlobal()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unsetGlobal(java.lang.String)">
<h3>unsetGlobal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-449">unsetGlobal</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Removes a global override for the specified property.

 <p>
 After calling this method, the property will fall back to the system property value
 (or per-thread override if one exists).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The property name.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setGlobal(java.lang.String,java.lang.String)"><code>setGlobal(String, String)</code></a></li>
<li><a href="#clearGlobal()"><code>clearGlobal()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLocal(java.lang.String,java.lang.String)">
<h3>setLocal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-472">setLocal</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;value)</span></div>
<div class="block">Sets a per-thread override for the specified property.

 <p>
 This override will only apply to the current thread and takes precedence over global overrides
 and system properties. This is particularly useful in unit tests where you need to temporarily
 change a system property value without affecting other threads or tests.

 <p>
 Setting a value to <c>null</c> will store an empty optional, effectively overriding the property
 to return empty for this thread. Use <a href="#unsetLocal(java.lang.String)"><code>unsetLocal(String)</code></a> to completely remove the override.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The property name.</dd>
<dd><code>value</code> - The override value, or <c>null</c> to set an empty override.</dd>
<dt>Returns:</dt>
<dd>This object for method chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#unsetLocal(java.lang.String)"><code>unsetLocal(String)</code></a></li>
<li><a href="#clearLocal()"><code>clearLocal()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unsetLocal(java.lang.String)">
<h3>unsetLocal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-490">unsetLocal</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span></div>
<div class="block">Removes a per-thread override for the specified property.

 <p>
 After calling this method, the property will fall back to the global override (if set)
 or the system property value for the current thread.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>name</code> - The property name.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setLocal(java.lang.String,java.lang.String)"><code>setLocal(String, String)</code></a></li>
<li><a href="#clearLocal()"><code>clearLocal()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearLocal()">
<h3>clearLocal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-511">clearLocal</a></span>()</div>
<div class="block">Clears all per-thread overrides for the current thread.

 <p>
 After calling this method, all properties will fall back to global overrides (if set)
 or system property values for the current thread.

 <p>
 This is typically called in a <c>@AfterEach</c> or <c>@After</c> test method to clean up
 thread-local overrides after a test completes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This object for method chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setLocal(java.lang.String,java.lang.String)"><code>setLocal(String, String)</code></a></li>
<li><a href="#unsetLocal(java.lang.String)"><code>unsetLocal(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearGlobal()">
<h3>clearGlobal</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Settings.html" title="class in org.apache.juneau.commons.settings">Settings</a></span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-528">clearGlobal</a></span>()</div>
<div class="block">Clears all global overrides.

 <p>
 After calling this method, all properties will fall back to resolver values
 (or per-thread overrides if they exist).</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This object for method chaining.</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="#setGlobal(java.lang.String,java.lang.String)"><code>setGlobal(String, String)</code></a></li>
<li><a href="#unsetGlobal(java.lang.String)"><code>unsetGlobal(String)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toType(java.lang.String,java.lang.Class)">
<h3>toType</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/org/apache/juneau/commons/settings/Settings.html#line-567">toType</a></span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;s,
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;T&gt;&nbsp;c)</span></div>
<div class="block">Converts a string to the specified type using reflection to find conversion methods or constructors.

 <p>
 This method attempts to convert a string to the specified type using the following lookup order:
 <ol>
   <li>Custom type functions registered via <a href="Settings.Builder.html#addTypeFunction(java.lang.Class,java.util.function.Function)"><code>Settings.Builder.addTypeFunction(Class, Function)</code></a></li>
   <li>Special handling for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> (returns the string as-is)</li>
   <li>Special handling for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html" title="class or interface in java.lang" class="external-link"><code>Enum</code></a> types (uses <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)" title="class or interface in java.lang" class="external-link"><code>Enum.valueOf(Class, String)</code></a>)</li>
   <li>Reflection lookup for static methods with signature <c>public static &lt;T&gt; T anyName(String arg)</c>
      on the target class</li>
   <li>Reflection lookup for static methods on the superclass (for abstract classes like <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/charset/Charset.html" title="class or interface in java.nio.charset" class="external-link"><code>Charset</code></a>
      where concrete implementations need to use the abstract class's static method)</li>
   <li>Reflection lookup for public constructors with signature <c>public T(String arg)</c></li>
 </ol>

 <p>
 When a conversion method or constructor is found via reflection, it is cached in the
 <c>toTypeFunctions</c> map for future use.

 <h5 class='section'>Examples:</h5>
 <ul class='spaced-list'>
   <li><c>Boolean</c> - Uses <c>Boolean.valueOf(String)</c> static method
   <li><c>Integer</c> - Uses <c>Integer.valueOf(String)</c> static method
   <li><c>Charset</c> - Uses <c>Charset.forName(String)</c> static method (even for concrete implementations)
   <li><c>File</c> - Uses <c>File(String)</c> constructor
 </ul></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The target type.</dd>
<dt>Parameters:</dt>
<dd><code>s</code> - The string to convert. Must not be <jk>null</jk>.</dd>
<dd><code>c</code> - The target class. Must not be <jk>null</jk>.</dd>
<dt>Returns:</dt>
<dd>The converted value.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - If the type is not supported for conversion (no static method or constructor found).</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2016&#x2013;2025 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
