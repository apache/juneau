---
title: "@Xml(format) Annotation"
slug: XmlFormatAnnotation
---

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/Xml.html#format()" target="_blank">@Xml(format)</a> annotation can be used to tweak the
XML format of a POJO.
The value is set to an enum value of type <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html" target="_blank">XmlFormat</a>.
This annotation can be applied to both classes and bean properties.
The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ATTR" target="_blank">XmlFormat.ATTR</a> format can be applied to bean
properties to serialize them as XML attributes instead of elements.
Note that this only supports properties of simple types (e.g.
strings, numbers, booleans).

##### Example

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotation</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.ATTR)
  public String a;
}
```

</td>
<td>

```json
{
  a: 'foo'
}
```

</td>
<td>

```xml
<object>
  <a>foo</a>
</object>
```

</td>
<td>

```xml
<object a='foo'/>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS" target="_blank">XmlFormat.ATTRS</a> format can be applied to bean
classes to force all bean properties to be serialized as XML attributes instead of child elements.

##### Example

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotation</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
@Xml(format=XmlFormat.ATTRS)
class MyBean {
  public String a;
  public int b;
}
```

</td>
<td>

```json
{
  a: 'foo',
  b: 123
}
```

</td>
<td>

```xml
<object>
  <a>foo</a>
  <b>123</b>
</object>
```

</td>
<td>

```xml
<object a='foo' b='123'/>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENT" target="_blank">XmlFormat.ELEMENT</a> format can be applied to
bean properties to override the <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS" target="_blank">XmlFormat.ATTRS</a>
format applied on the bean class.

##### Example

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotation</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
@Xml(format=XmlFormat.ATTRS)
class MyBean {
  public String a;
  @Xml(format=XmlFormat.ELEMENT)
  public int b;
}
```

</td>
<td>

```json
{
  a: 'foo',
  b: 123
}
```

</td>
<td>

```xml
<object>
  <a>foo</a>
  <b>123</b>
</object>
```

</td>
<td>

```xml
<object a='foo'>
  <b>123</b>
</object>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ATTRS" target="_blank">XmlFormat.ATTRS</a> format can be applied to a
single bean property of type `Map` to denote arbitrary XML attribute values on the element.
These can be mixed with other <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ATTR" target="_blank">XmlFormat.ATTR</a>
annotated properties but there must not be an overlap in bean property names and map keys.

##### Example

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotation</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.ATTRS)
  public Map<String,Object> a;
  @Xml(format=XmlFormat.ATTR)
  public int b;
}
```

</td>
<td>

```json
{
  a: {
    k1: 'foo',
    k2: 123
  },
  b: 456
}
```

</td>
<td>

```xml
<object>
  <a>
    <k1>foo</k1>
    <k2 _type='number'>123</k2>
  </a>
  <b>456</b>
</object>
```

</td>
<td>

```xml
<object k1='foo' k2='123' b='456'/>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#COLLAPSED" target="_blank">XmlFormat.COLLAPSED</a> format can be applied
to bean properties of type array/`Collection`.
This causes the child objects to be serialized directly inside the bean element.
This format must be used in conjunction with <a href="/site/apidocs/org/apache/juneau/xml/annotation/Xml.html#childName()" target="_blank">@Xml(childName)</a> to differentiate which collection the values came from if you plan on parsing the output back into beans.
Note that child names must not conflict with other property names.

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotation</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(childName="A",format=XmlFormat.COLLAPSED)
  public String[] a;
  @Xml(childName="B",format=XmlFormat.COLLAPSED)
  public int[] b;
}
```

</td>
<td>

```json
{
  a: ['foo','bar'],
  b: [123,456]
}
```

</td>
<td>

```xml
<object>
  <a>
    <string>foo</string>
    <string>bar</string>
  </a>
  <b>
    <number>123</number>
    <number>456</number>
  </b>
</object>
```

</td>
<td>

```xml
<object>
  <A>foo</A>
  <A>bar</A>
  <B>123</B>
  <B>456</B>
</object>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENTS" target="_blank">XmlFormat.ELEMENTS</a> format can be applied to
a single bean property of either a simple type or array/`Collection`.
It allows free-form child elements to be formed.
All other properties on the bean MUST be serialized as attributes.

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>With annotation</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.ATTR)
  public String a;
  @Xml(format=XmlFormat.ELEMENTS)
  public String b;
}
```

</td>
<td>

```json
{
  a: 'foo',
  b: 'bar'
}
```

</td>
<td>

```xml
<object a='foo'>
  bar
</object>
```

</td>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.ATTR)
  public String a;
  @Xml(format=XmlFormat.ELEMENTS)
  public Object[] b;
}
```

</td>
<td>

```json
{
  a: 'foo',
  b: ['bar', 'baz', 123, true, null]
}
```

</td>
<td>

```xml
<object a='foo'>
  bar
  baz
  123
  true
</object>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#MIXED" target="_blank">XmlFormat.MIXED</a> format is similar to <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#ELEMENTS" target="_blank">XmlFormat.ELEMENTS</a> except elements names on primitive types (string/number/boolean/null) are stripped from the output.
This format particularly useful when combined with bean dictionaries to produce mixed content.
The bean dictionary isn't used during serializationbut it is needed during parsing to resolve bean types.
The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#MIXED_PWS" target="_blank">XmlFormat.MIXED_PWS</a> format identical to <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#MIXED" target="_blank">XmlFormat.MIXED</a> except whitespace characters are preserved in the output.

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotations</th>
<th>With annotations</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  @Beanp(dictionary={MyBeanX.class, MyBeanY.class})
  public Object[] a;
}

@Bean(typeName="X")
class MyBeanX {
  @Xml(format=XmlFormat.ATTR)
  public String b;
}

@Bean(typeName="Y")
class MyBeanY {
  @Xml(format=XmlFormat.ATTR)
  public String c;
}
```

</td>
<td>

```json
{
  a: [
    'foo',
    { _type:'X', b:'bar' },
    'baz',
    { _type:'Y', c:'qux' },
    'quux'
  ]
}
```

</td>
<td>

```xml
<object>
  <a>
    <string>foo</string>
    <object>
      <b>bar</b>
    </object>
    <string>baz</string>
    <object>
      <c>qux</c>
    </object>
    <string>quux</string>
  </a>
</object>
```

</td>
<td>

```xml
<object>
  foo<X b='bar'/>baz<Y c='qux'/>quux
</object>
```

</td>
</tr>
</table>

Whitespace (tabs and newlines) are not added to MIXED child nodes in readable-output mode.
This helps ensures strings in the serialized output can be losslessly parsed back into their original forms when they
contain whitespace characters.
If the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/javax/xml/stream/XMLInputFactory.html#IS_REPLACING_ENTITY_REFERENCES" target="_blank">XMLInputFactory.IS_REPLACING_ENTITY_REFERENCES</a> setting was not useless in Java, we could support lossless readable XML for MIXED content.
But as of Java 8, it still does not work.
XML suffers from other deficiencies as well that affect MIXED content.
For example,  and  are equivalent in XML and indistinguishable by the Java XML parsers.
This makes it impossible to differentiate between an empty element and an element containing an empty string.
This causes empty strings to get lost in translation.
To alleviate this, we use the constructs "_xE000_" to represent an empty string, and "_x0020_" to represent leading and
trailing spaces.
The examples below show how whitespace is handled under various circumstances:

<table class="code-table">
<tr>
<th>Data type</th>
<th>XML</th>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a = null;
}
```

</td>
<td>

```xml
<X/>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a = "";
}
```

</td>
<td>

```xml
<X>_xE000_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a = " ";
}
```

</td>
<td>

```xml
<X>_x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a = "  ";
}
```

</td>
<td>

```xml
<X>_x0020__x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a = "  foobar  ";
}
```

</td>
<td>

```xml
<X>_x0020_ foobar _x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT_PWS)
  public String a = null;
}
```

</td>
<td>

```xml
<X/>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT_PWS)
  public String a = "";
}
```

</td>
<td>

```xml
<X>_xE000_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT_PWS)
  public String a = " ";
}
```

</td>
<td>

```xml
<X> </X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT_PWS)
  public String a = "  ";
}
```

</td>
<td>

```xml
<X>  </X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.TEXT_PWS)
  public String a = "  foobar  ";
}
```

</td>
<td>

```xml
<X>  foobar  </X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  public String[] a = null;
}
```

</td>
<td>

```xml
<X/>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  public String[] a = {""};
}
```

</td>
<td>

```xml
<X>_xE000_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  public String[] a = {" "};
}
```

</td>
<td>

```xml
<X>_x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  public String[] a = {"  "};
}
```

</td>
<td>

```xml
<X>_x0020__x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED)
  public String[] a = {"  foobar  "};
}
```

</td>
<td>

```xml
<X>_x0020_ foobar _x0020_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED_PWS)
  public String[] a = null;
}
```

</td>
<td>

```xml
<X/>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED_PWS)
  public String[] a = {""};
}
```

</td>
<td>

```xml
<X>_xE000_</X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED_PWS)
  public String[] a = {" "};
}
```

</td>
<td>

```xml
<X> </X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED_PWS)
  public String[] a = {"  "};
}
```

</td>
<td>

```xml
<X>  </X>
```

</td>
</tr>
<tr>
<td>

```java
@Bean(typeName="X")
class MyBean {
  @Xml(format=XmlFormat.MIXED_PWS)
  public String[] a = {"  foobar  "};
}
```

</td>
<td>

```xml
<X>  foobar  </X>
```

</td>
</tr>
</table>

It should be noted that when using MIXED, you are not guaranteed to parse back the exact same content since side-by-side
strings in the content will end up concatenated when parsed.

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#TEXT" target="_blank">XmlFormat.TEXT</a> format is similar to <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#MIXED" target="_blank">XmlFormat.MIXED</a> except it's meant for solitary objects that get serialized as simple child text nodes.
Any object that can be serialize to a `String` can be used.
The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#TEXT_PWS" target="_blank">XmlFormat.TEXT_PWS</a> is the same except
whitespace is preserved in the output.

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>Without annotations</th>
<th>With annotations</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.TEXT)
  public String a;
}
```

</td>
<td>

```json
{
  a: 'foo'
}
```

</td>
<td>

```xml
<object>
  <a>foo</a>
</object>
```

</td>
<td>

```xml
<object>
  foo
</object>
```

</td>
</tr>
</table>

The <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#XMLTEXT" target="_blank">XmlFormat.XMLTEXT</a> format is similar to <a href="/site/apidocs/org/apache/juneau/xml/annotation/XmlFormat.html#TEXT" target="_blank">XmlFormat.TEXT</a> except it's meant for strings containing XML that should be serialized as-is to the document.
Any object that can be serialize to a `String` can be used.
During parsing, the element content gets parsed with the rest of the document and then re-serialized to XML before being
set as the property value.
This process may not be perfect (e.g.
double quotes may be replaced by single quotes, etc...).

<table class="code-table">
<tr>
<th>Data type</th>
<th>JSON example</th>
<th>With TEXT annotation</th>
<th>With XMLTEXT annotation</th>
</tr>
<tr>
<td>

```java
class MyBean {
  @Xml(format=XmlFormat.XMLTEXT)
  public String a;
}
```

</td>
<td>

```json
{
  a: 'Some <b>XML</b> text'
}
```

</td>
<td>

```xml
<object>
  Some &lt;b&gt;XML&lt;/b&gt; text
</object>
```

</td>
<td>

```xml
<object>
  Some <b>XML</b> text
</object>
```

</td>
</tr>
</table>