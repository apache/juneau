---
title: "Listeners"
---

Configuration change events can be listened for using the following methods:

<tree>
<node-0><java-class>[Config](API_DOCS/org/apache/juneau/config/Config.html)</java-class></node-0>
<node-1><java-method>[addListener(ConfigEventListener)](API_DOCS/org/apache/juneau/config/Config.html#addListener(ConfigEventListener))</java-method></node-1>
<node-1><java-method>[removeListener(ConfigEventListener)](API_DOCS/org/apache/juneau/config/Config.html#removeListener(ConfigEventListener))</java-method></node-1>
</tree>

The [ConfigEventListener](API_DOCS/org/apache/juneau/config/event/ConfigEventListener.html) interface consists of
the following method:

<tree>
<node-0><java-class>[ConfigEventListener](API_DOCS/org/apache/juneau/config/event/ConfigEventListener.html)</java-class></node-0>
<node-1><java-method>[onConfigChange(ConfigEvents)](API_DOCS/org/apache/juneau/config/event/ConfigEventListener.html#onConfigChange(ConfigEvents))</java-method></node-1>
</tree>

The [ConfigEvent](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html) class provides access to all the
information about the updated entry:

<tree>
<node-0><java-class>[ConfigEvent](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html)</java-class></node-0>
<node-1><java-method>[getType()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getType())</java-method></node-1>
<node-1><java-method>[getSection()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getSection())</java-method></node-1>
<node-1><java-method>[getKey()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getKey())</java-method></node-1>
<node-1><java-method>[getValue()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getValue())</java-method></node-1>
<node-1><java-method>[getModifiers()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getModifiers())</java-method></node-1>
<node-1><java-method>[getComment()](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getComment())</java-method></node-1>
<node-1><java-method>[getPreLines](API_DOCS/org/apache/juneau/config/event/ConfigEvent.html#getPreLines())</java-method></node-1>
</tree>

The listener method is triggered:

- After [Config.commit()](API_DOCS/org/apache/juneau/config/Config.html#commit()) is called.
- When the file changes on the file system.

In both cases, the listener is triggered after the changes have been committed.

```java
final Config config = Config.create("MyConfig.cfg").build();

// Add a listener for changes to MySection/key1
config.addListener(
    new ConfigEventListener() {
        @Override
        public void onConfigChange(ConfigEvents events) {
            for (ConfigEvent event : events) {
                if (event.getType() == SET_ENTRY) {

                    String section = event.getSection();
                    String key = event.getKey();

                    if (section.equals("MySection") && key.equals("key1")) {

                        // Get the new value from the event.
                        String newVal = event.getValue();

                        // Or get the new value from the config (since the change has already been committed).
                        newVal = config.getString("MySection/key1");
                    }
                }
            }
        }
    }
)
```
