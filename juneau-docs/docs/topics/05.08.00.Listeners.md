---
title: "Listeners"
slug: ConfigListeners
---

Configuration change events can be listened for using the following methods:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/config/Config.html" target="_blank">Config</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/Config.html#addListener(org.apache.juneau.config.event.ConfigEventListener)" target="_blank">addListener(ConfigEventListener)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/Config.html#removeListener(org.apache.juneau.config.event.ConfigEventListener)" target="_blank">removeListener(ConfigEventListener)</a></java-method></node-1>
</tree>

The <a href="/site/apidocs/org/apache/juneau/config/event/ConfigEventListener.html" target="_blank">ConfigEventListener</a> interface consists of
the following method:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEventListener.html" target="_blank">ConfigEventListener</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEventListener.html#onConfigChange(org.apache.juneau.config.event.ConfigEvents)" target="_blank">onConfigChange(ConfigEvents)</a></java-method></node-1>
</tree>

The <a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html" target="_blank">ConfigEvent</a> class provides access to all the
information about the updated entry:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html" target="_blank">ConfigEvent</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getType()" target="_blank">getType()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getSection()" target="_blank">getSection()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getKey()" target="_blank">getKey()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getValue()" target="_blank">getValue()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getModifiers()" target="_blank">getModifiers()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getComment()" target="_blank">getComment()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/config/event/ConfigEvent.html#getPreLines()" target="_blank">getPreLines</a></java-method></node-1>
</tree>

The listener method is triggered:

- After <a href="/site/apidocs/org/apache/juneau/config/Config.html#commit()" target="_blank">Config.commit()</a> is called.
- When the file changes on the file system.

In both cases, the listener is triggered after the changes have been committed.

```java
final Config config = Config.create("MyConfig.cfg").build();

// Add a listener for changes to MySection/key1
config.addListener(
    new ConfigEventListener() {
        @Override
        public void onConfigChange(ConfigEvents events) {
            for (ConfigEvent event : events) {
                if (event.getType() == SET_ENTRY) {

                    String section = event.getSection();
                    String key = event.getKey();

                    if (section.equals("MySection") && key.equals("key1")) {

                        // Get the new value from the event.
                        String newVal = event.getValue();

                        // Or get the new value from the config (since the change has already been committed).
                        newVal = config.getString("MySection/key1");
                    }
                }
            }
        }
    }
)
```
