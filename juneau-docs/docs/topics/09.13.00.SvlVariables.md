---
title: "SVL Variables"
slug: RestServerSvlVariables
---

In the previous examples, there were several cases where embedded variables were contained within annotation values:

```java
@Rest(
    title="$L{my.label}"
)
```

Variables take the form `$X{contents}` where `X` can consist of zero or more ASCII characters and contents can be
virtually anything.
This is called Simple Variable Language, or SVL, and is defined here: [Simple Variable Language](/docs/topics/SimpleVariableLanguageBasics).

#### Features

- Variables can be nested arbitrarily deep (e.g.

`$X{$Y{foo}}`).

- Variables can contain arguments (e.g.

`$L{my.label,arg1,arg2}`).

- Variables are recursively resolved.
  i.e., if a variable results to a value with another variable in it, that variable will also be resolved (restricted for security reasons on variables that involve user input).

There are two distinct groups of variables:

- **Initialization-time variables:** These are variables that can be used in many of the annotations in <a href="/site/apidocs/org/apache/juneau/rest/annotation/Rest.html" target="_blank">@Rest</a>. The <a href="/site/apidocs/org/apache/juneau/rest/RestContext.html#getVarResolver()" target="_blank">RestContext.getVarResolver()</a> method returns initialization-time variables only.
- **Request-time variables:** These are variables that are available during HTTP-requests and can be used on annotation such as <a href="/site/apidocs/org/apache/juneau/html/annotation/Html.html" target="_blank">@HtmlDoc</a>. <a href="/site/apidocs/org/apache/juneau/rest/RestRequest.html#getVarResolverSession()" target="_blank">RestRequest.getVarResolverSession()</a> method returns initialization and request-time variables.

The following is the default list of supported variables:

#### Default REST SVL Variables:

| Module | Class | Pattern | Initialization time | Request time | Examples |
|--------|-------|---------|-------------------|--------------|----------|
| **juneau-svl** | <a href="/site/apidocs/org/apache/juneau/svl/vars/EnvVariablesVar.html" target="_blank">EnvVariablesVar</a> | `$E{key[,default]}` | yes | yes | `$E{PATH}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/SystemPropertiesVar.html" target="_blank">SystemPropertiesVar</a> | `$S{key[,default]}` | yes | yes | `$S{java.home}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/ArgsVar.html" target="_blank">ArgsVar</a> | `$A{key[,default]}` | yes | yes | `$A{foo,null}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/ManifestFileVar.html" target="_blank">ManifestFileVar</a> | `$MF{key[,default]}` | yes | yes | `$MF{Main-Class}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/IfVar.html" target="_blank">IfVar</a> | `$IF{arg,then[,else]}` | yes | yes | `$IF{$S{my.boolean.property},foo,bar}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/SwitchVar.html" target="_blank">SwitchVar</a> | `$SW{arg,p1:then1[,p2:then2...]}` | yes | yes | `$SW{$S{os.name},*win*:Windows,*:Something else}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/CoalesceVar.html" target="_blank">CoalesceVar</a> | `$CO{arg1[,arg2...]}` | yes | yes | `$CO{$S{my.property},$E{my.property},n/a}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/PatternMatchVar.html" target="_blank">PatternMatchVar</a> | `$PM{arg,pattern}` | yes | yes | `$PM{$S{os.name},*win*}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/NotEmptyVar.html" target="_blank">NotEmptyVar</a> | `$NE{arg}` | yes | yes | `$NE{$S{foo}}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/UpperCaseVar.html" target="_blank">UpperCaseVar</a> | `$UC{arg}` | yes | yes | `$UC{$S{foo}}` |
| | <a href="/site/apidocs/org/apache/juneau/svl/vars/LowerCaseVar.html" target="_blank">LowerCaseVar</a> | `$LC{arg}` | yes | yes | `$LC{$S{foo}}` |
| **juneau-config** | <a href="/site/apidocs/org/apache/juneau/config/vars/ConfigVar.html" target="_blank">ConfigVar</a> | `$C{key[,default]}` | yes | yes | `$C{REST/staticFiles}` |
| **juneau-rest-server** | <a href="/site/apidocs/org/apache/juneau/rest/vars/FileVar.html" target="_blank">FileVar</a> | `$F{path[,default]}` | yes | yes | `$F{resources/MyAsideMessage.html, Oops not found!}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/ServletInitParamVar.html" target="_blank">ServletInitParamVar</a> | `$I{name[,default]}` | yes | yes | `$I{my.param}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/LocalizationVar.html" target="_blank">LocalizationVar</a> | `$L{key[,args...]}` | no | yes | `$L{MyMessage,foo,bar}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestAttributeVar.html" target="_blank">RequestAttributeVar</a> | `$RA{key1[,key2...]}` | no | yes | `$RA{attrName}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestFormDataVar.html" target="_blank">RequestFormDataVar</a> | `$RF{key1[,key2...]}` | no | yes | `$RF{paramName}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestHeaderVar.html" target="_blank">RequestHeaderVar</a> | `$RH{key1[,key2...]}` | no | yes | `$RH{Header-Name}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestPathVar.html" target="_blank">RequestPathVar</a> | `$RP{key1[,key2...]}` | no | yes | `$RP{pathVar}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestQueryVar.html" target="_blank">RequestQueryVar</a> | `$RQ{key1[,key2...]}` | no | yes | `$RQ{paramName}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestSwaggerVar.html" target="_blank">RequestSwaggerVar</a> | `$RS{key}` | no | yes | `$RS{title}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/RequestVar.html" target="_blank">RequestVar</a> | `$R{key1[,key2...]}` | no | yes | `$R{contextPath}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/SerializedRequestAttrVar.html" target="_blank">SerializedRequestAttrVar</a> | `$SA{contentType,key[,default]}` | no | yes | `$SA{application/json,$RA{foo}}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/UrlVar.html" target="_blank">UrlVar</a> | `$U{uri}` | no | yes | `$U{servlet:/foo}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/vars/UrlEncodeVar.html" target="_blank">UrlEncodeVar</a> | `$UE{uriPart}` | yes | yes | `$U{servlet:/foo?bar=$UE{$RA{bar}}}` |
| | <a href="/site/apidocs/org/apache/juneau/rest/widget/Widget.html" target="_blank">Widget</a> | `$W{name}` | no | yes | `$W{MenuItemWidget}` |

Custom variables can be defined on resources via the following API:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/rest/RestContext.Builder.html" target="_blank">RestContext.Builder</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/RestContext.Builder.html#varResolver()" target="_blank">varResolver()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/RestContext.Builder.html#vars(java.lang.Class...)" target="_blank">vars(Class...)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/RestContext.Builder.html#vars(org.apache.juneau.svl.Var...)" target="_blank">vars(Var...)</a></java-method></node-1>
</tree>

:::tip Example
```java
// Defined a variable that simply wrapps all strings inside [] brackets.
// e.g. "$BRACKET{foobar}" -> "[foobar]"
public class BracketVar extends SimpleVar {

    public BracketVar() {
        super("BRACKET");
    }

    @Override /* Var */
    public String resolve(VarResolverSession session, String arg) {
        return '[' + arg + ']';
    }
}

// Register it with our resource.
@Rest(...)
public class MyResource extends BasicRestObject {

    @RestInit
    public void init(RestContext.Builder builder) {
        builder.vars(BracketVar.class);
    }
}
```
:::

The methods involved with variables are:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/rest/RestContext.html" target="_blank">RestContext</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/RestContext.html#getVarResolver()" target="_blank">getVarResolver()</a></java-method></node-1>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/rest/RestRequest.html" target="_blank">RestRequest</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/RestRequest.html#getVarResolverSession()" target="_blank">getVarResolverSession()</a></java-method></node-1>
</tree>
