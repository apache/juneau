---
title: "OpenAPI Parsers"
slug: OpenApiParsers
---

The <a href="/site/apidocs/org/apache/juneau/oapi/OpenApiParser.html" target="_blank">OpenApiParser</a> class is used to convert HTTP parts back
into POJOs.

The class hierarchy for the builder of this parser is:

<tree>
<node-0><java-abstract-class><a href="/site/apidocs/org/apache/juneau/Context.Builder.html" target="_blank">Context.Builder</a></java-abstract-class></node-0>
<node-1><java-abstract-class><a href="/site/apidocs/org/apache/juneau/BeanContextable.Builder.html" target="_blank">BeanContextable.Builder</a></java-abstract-class></node-1>
<node-2><java-abstract-class><a href="/site/apidocs/org/apache/juneau/parser/Parser.Builder.html" target="_blank">Parser.Builder</a></java-abstract-class></node-2>
<node-3><java-abstract-class><a href="/site/apidocs/org/apache/juneau/parser/ReaderParser.Builder.html" target="_blank">ReaderParser.Builder</a></java-abstract-class></node-3>
<node-4><java-class><a href="/site/apidocs/org/apache/juneau/uon/UonParser.Builder.html" target="_blank">UonParser.Builder</a></java-class></node-4>
<node-5><java-class><a href="/site/apidocs/org/apache/juneau/oapi/OpenApiParser.Builder.html" target="_blank">OpenApiParser.Builder</a></java-class></node-5>
</tree>

Refer to the builder javadocs for configurable settings.

The following is the previous example of a schema that defines the format of a pipe-delimited list of comma-delimited
numbers (e.g.
`"1,2,3|4,5,6|7,8,9"`):

```java
import static org.apache.juneau.httppart.HttpPartSchema.*;

HttpPartSchema schema = tArrayPipes(
    tArrayCsv(
        tInt64().min(0).max(100).minl(1).maxl(10)
    )
).build();
```

The following code shows how the schema above can be used to parse our input into a POJO:

```java
// Our input being parsed.
String input = "1,2,3|4,5,6|7,8,9"

// Convert string to a POJO.
try {
    Long[][] pojo = OpenApi.to(schema, input, Long[][].class);
} catch (SchemaValidationException e) {
    // Oops, one of the restrictions were not met.
}
```

As a general rule, any POJO convertible from the intermediate type for the `type/format` of the schema can be parsed
using the OpenAPI parser.

Here are the rules of POJO types allowed for various type/format combinations:

<table class="code-table">
<tr>
<th>Type</th>
<th>Format</th>
<th>Valid parameter types</th>
</tr>
<tr>
<td rowSpan="4">`string` or empty</td>
<td>`byte`<br/>`binary`<br/>`binary-spaced`</td>
<td>
• `byte[]` (default)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" target="_blank">InputStream</a> - Returns a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html" target="_blank">ByteArrayInputStream</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html" target="_blank">Reader</a> - Returns a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html" target="_blank">InputStreamReader</a> wrapped around a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html" target="_blank">ByteArrayInputStream</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a> - Constructed using <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/lang/String.html#String(byte[])" target="_blank">String()</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default `byte[]`<br/>
• Any POJO transformable from a `byte[]` (via constructors or static create methods)
</td>
</tr>
<tr>
<td>`date`<br/>`date-time`</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html" target="_blank">Calendar</a> (default)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html" target="_blank">Date</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/GregorianCalendar.html" target="_blank">GregorianCalendar</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a> - Converted using <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/util/Calendar.html#toString()" target="_blank">Calendar.toString()</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html" target="_blank">Calendar</a><br/>
• Any POJO transformable from a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Calendar.html" target="_blank">Calendar</a> (via constructors or static create
methods)
</td>
</tr>
<tr>
<td>`uon`</td>
<td>• Any [Parsable POJO](/docs/topics/PojoCategories) type</td>
</tr>
<tr>
<td>empty</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a> (default)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• Any POJO transformable from a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a> (via constructors, static create methods,
or swaps)
</td>
</tr>
<tr>
<td>`boolean`</td>
<td>empty</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" target="_blank">Boolean</a> (default)<br/>
• boolean<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" target="_blank">Boolean</a><br/>
• Any POJO transformable from a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" target="_blank">Boolean</a> (via constructors, static create methods,
or swaps)
</td>
</tr>
<tr>
<td rowSpan="2">`integer`</td>
<td>`int32`</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" target="_blank">Integer</a> (default)<br/>
• Any subclass of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Number.html" target="_blank">Number</a><br/>
• Any primitive number (e.g. int, float...)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" target="_blank">Integer</a><br/>
• Any POJO transformable from an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html" target="_blank">Integer</a> (via constructors, static create
methods, or swaps)
</td>
</tr>
<tr>
<td>`int64`</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" target="_blank">Long</a> (default)<br/>
• Any subclass of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Number.html" target="_blank">Number</a><br/>
• Any primitive number (e.g. int, float...)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" target="_blank">Long</a><br/>
• Any POJO transformable from an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Long.html" target="_blank">Long</a> (via constructors, static create methods, or
swaps)
</td>
</tr>
<tr>
<td rowspan="2">`number`</td>
<td>`float`</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html" target="_blank">Float</a> (default)<br/>
• Any subclass of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Number.html" target="_blank">Number</a><br/>
• Any primitive number (e.g. int, float...)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html" target="_blank">Float</a><br/>
• Any POJO transformable from an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Float.html" target="_blank">Float</a> (via constructors, static create methods, or
swaps)
</td>
</tr>
<tr>
<td>`double`</td>
<td>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" target="_blank">Double</a> (default)<br/>
• Any subclass of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Number.html" target="_blank">Number</a><br/>
• Any primitive number (e.g. int, float...)<br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" target="_blank">String</a><br/>
• <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" target="_blank">Object</a> - Returns the default <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" target="_blank">Double</a><br/>
• Any POJO transformable from an <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Double.html" target="_blank">Double</a> (via constructors, static create methods,
or swaps)
</td>
</tr>
<tr>
<td rowspan="2">`array`</td>
<td>empty</td>
<td>
• Arrays or `Collections` of anything on this list<br/>
• Any POJO transformable from arrays of the default types (e.g. `Integer[]`, `Boolean[][]`, etc...)
</td>
</tr>
<tr>
<td>`uon`</td>
<td>• Any [Parsable POJO](/docs/topics/PojoCategories) type</td>
</tr>
<tr>
<td rowspan="2">`object`</td>
<td>empty</td>
<td>
• `Map` (default)<br/>
• Beans with properties of anything on this list<br/>
• `Maps` with string keys
</td>
</tr>
<tr>
<td>`uon`</td>
<td>• Any [Parsable POJO](/docs/topics/PojoCategories) type</td>
</tr>
</table>

Additionally, any of the type above can also be wrapped as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html" target="_blank">Optionals</a>.
For arrays, an example of "Any POJO transformable from arrays of the default types" is:

```java
// Sample POJO class convertable from a Long[][].
public class MyPojo {

    // Constructor used by parser.
    public MyPojo(Long[][] from2dLongs) {...}
}
```

In the example above, our POJO class can be constructed from our pipe-delimited list of comma-delimited numbers:

```java
// Our input being parsed.
String input = "1,2,3|4,5,6|7,8,9"

// Convert string to a POJO.
try {
    MyPojo pojo = OpenApi.to(schema, input, MyPojo.class);
} catch (SchemaValidationException e) {
    // Oops, one of the restrictions were not met.
}
```

Just like serialization, the `object` type is not officially part of the OpenAPI standard but Juneau supports parsing
HTTP parts in UON notation to `Maps` and beans.
The following shows an example of a bean with several properties of various types.

```java
public class MyBean {
    public String f1;
    public byte[] f2;
    public byte[] f3;
    public byte[] f4;
    public Calendar f5;
    public String f6;
    public int f7;
    public Long f8;
    public float f9;
    public Double f10;
    public Boolean f11;
    public Object fExtra;
}
```

We define the following schema again:

```java
import static org.apache.juneau.httppart.HttpPartSchema.*;

HttpPartSchema schema = tObject()
    .prop("f1", tString())
    .prop("f2", tByte())
    .prop("f3", tBinary())
    .prop("f4", tBinarySpaced())
    .prop("f5", tDateTime())
    .prop("f6", tUon())
    .prop("f7", tInteger())
    .prop("f8", tInt64())
    .prop("f9", tNumber())
    .prop("f10", tDouble())
    .prop("f11", tBoolean())
    .ap(tInteger())
    .build();
```

Then we parse our input into our POJO:

```java
String input =
    "(f1=foo,f2=Zm9v,f3=666F6F,f4='66 6F 6F',f5=2012-12-21T12:34:56Z,f6=foo,"
    + "f7=1,f8=2,f9=1.0,f10=1.0,f11=true,fExtra=1)";

MyBean bean = OpenApi.to(schema, input, MyBean.class);
```

Note that serializing into generic `Object` properties would have produced similar results:

```java
public class MyBean {
    public Object f1;
    public Object f2;
    public Object f3;
    public Object f4;
    public Object f5;
    public Object f6;
    public Object f7;
    public Object f8;
    public Object f9;
    public Object f10;
    public Object f11;
    public Object fExtra;
}
```

We can also parse into `Maps` as well:

```java
String input =
    "(f1=foo,f2=Zm9v,f3=666F6F,f4='66 6F 6F',f5=2012-12-21T12:34:56Z,f6=foo,"
    + "f7=1,f8=2,f9=1.0,f10=1.0,f11=true,fExtra=1)";

JsonMap map = OpenApi.to(schema, input, JsonMap.class);
```

:::note
- Array properties can also use CSV/SSV/PIPES for array notation.
- Various notations can be mixed throughout.
- Schemas and POJOs can be defined arbitrarily deep.
- Schemas are optional.  They can be skipped or partially defined.
:::

We make our best attempt to convert the output to the matching type.
However, you will get `ParseExceptions` if you attempt an impossible conversion. (e.g.trying to parse the string "foo"
into a boolean).
