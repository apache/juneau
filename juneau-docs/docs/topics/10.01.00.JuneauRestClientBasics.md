---
title: "juneau-rest-client Basics"
slug: JuneauRestClientBasics
---

#### Maven Dependency

```xml
<dependency>
    <groupId>org.apache.juneau</groupId>
    <artifactId>juneau-rest-client</artifactId>
    <version>${juneau.version}</version>
</dependency>
```

#### Java Library

```text
juneau-rest-client-0.0.0.jar
```

#### OSGi Module

```text
org.apache.juneau.rest.client_0.0.0.jar
```

#### Contents/Features

Built upon the feature-rich Apache HttpClient library, the Juneau RestClient API adds support for fluent-style REST 
calls and the ability to perform marshalling of POJOs to and from HTTP parts.

:::tip Example
```java
// Create a basic REST client with JSON support and download a bean.
MyBean bean = RestClient.create()
    .json5()
    .build()
    .get(URI)
    .run()
    .assertStatus().asCode().is(200)
    .assertHeader("Content-Type").matchesSimple("application/json*")
    .getContent().as(MyBean.class);
```
:::

Breaking apart the fluent call, we can see the classes being used:

```java
RestClient.Builder builder = RestClient.create().json5();
RestClient client = builder.build();
RestRequest req = client.get(URI);
RestResponse res = req.run();
RestResponseStatusLineAssertion statusLineAssertion = res.assertStatus();
FluentIntegerAssertion codeAssertion = statusLineAssertion.asCode();
res = codeAssertion.is(200);
FluentStringAssertion headerAssertion = res.assertHeader("Content-Type");
res = headerAssertion.matchesSimple("application/json*");
ResponseContent content = res.getContent();
MyBean bean = content.as(MyBean.class);
```

It additionally provides support for creating remote proxy interfaces using REST as the transport medium.

:::tip Example
```java
// Define a Remote proxy for interacting with a REST interface.
@Remote(path="/petstore")
public interface PetStore {

    @RemotePost("/pets")
    Pet addPet(
        @Content CreatePet pet,
        @Header("E-Tag") UUID etag,
        @Query("debug") boolean debug
    );
}

PetStore store = RestClient
    .create()
    .json5()
    .build()
    .getRemote(PetStore.class, "http://localhost:10000");
CreatePet createPet = new CreatePet("Fluffy", 9.99);
Pet pet = store.addPet(createPet, UUID.randomUUID(), true);
```
:::

The classes are closely tied to Apache HttpClient, yet provide lots of additional functionality:

<tree>
<node-0>REST Client Class Hierarchy</node-0>
<node-1><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html" target="_blank">RestClient</a></java-class> implements <a href="https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/client/HttpClient.html" target="_blank">HttpClient</a>, creates <a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html" target="_blank">RestRequest</a> objects</node-1>
<node-1><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html" target="_blank">RestRequest</a></java-class> implements <a href="https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/client/methods/HttpUriRequest.html" target="_blank">HttpUriRequest</a>, creates <a href="/site/apidocs/org/apache/juneau/rest/client/RestResponse.html" target="_blank">RestResponse</a> objects</node-1>
<node-1><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/RestResponse.html" target="_blank">RestResponse</a></java-class> implements <a href="https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpResponse.html" target="_blank">HttpResponse</a>, creates <a href="/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html" target="_blank">ResponseContent</a> and <a href="/site/apidocs/org/apache/juneau/rest/client/ResponseHeader.html" target="_blank">ResponseHeader</a> objects</node-1>
<node-1><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html" target="_blank">ResponseContent</a></java-class> implements <a href="https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html" target="_blank">HttpEntity</a></node-1>
</tree>

Instances of this class are built using the <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.Builder.html" target="_blank">RestClient.Builder</a> 
class which can be constructed using the <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#create()" target="_blank">RestClient.create()</a> 
method as shown above.

Clients are typically created with a root URI so that relative URIs can be used when making requests.

This is done using the <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.Builder.html#rootUrl(java.lang.Object)" target="_blank">RestClient.Builder.rootUrl(Object)</a> 
method.

:::tip Example
```java
// Create a client where all URIs are relative to localhost.
RestClient client = RestClient.create().json().rootUrl("http://localhost:10000").build();

// Use relative paths.
String content = client.get("/subpath").run().getContent().asString();
```
:::

The <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html" target="_blank">RestClient</a> class creates <a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html" target="_blank">RestRequest</a> 
objects using the following methods:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html" target="_blank">RestClient</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#get()" target="_blank">get(uri)</a> / <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#get()" target="_blank">get()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#put(java.lang.Object)" target="_blank">put(uri,body)</a> / <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#put(java.lang.Object)" target="_blank">put(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#post(java.lang.Object)" target="_blank">post(uri,body)</a> / <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#post(java.lang.Object)" target="_blank">post(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#patch(java.lang.Object)" target="_blank">patch(uri,body)</a> / <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#patch(java.lang.Object)" target="_blank">patch(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#delete(java.lang.Object)" target="_blank">delete(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#head(java.lang.Object)" target="_blank">head(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#options(java.lang.Object)" target="_blank">options(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#formPost(java.lang.Object)" target="_blank">formPost(uri,body)</a> / <a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#formPost(java.lang.Object)" target="_blank">formPost(uri)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#formPostPairs(java.lang.Object,java.lang.String...)" target="_blank">formPostPairs(uri,parameters...)</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestClient.html#request(java.lang.String,java.lang.Object)" target="_blank">request(method,uri,body)</a></java-method></node-1>
</tree>

The <a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html" target="_blank">RestRequest</a> class creates 
<a href="/site/apidocs/org/apache/juneau/rest/client/RestResponse.html" target="_blank">RestResponse</a> objects using the following methods:

<tree>
<node-0><java-class><a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html" target="_blank">RestRequest</a></java-class></node-0>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html#run()" target="_blank">run()</a></java-method></node-1>
<node-1><java-method><a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html#complete()" target="_blank">complete()</a></java-method></node-1>
</tree>

The distinction between the two methods is that <a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html#complete()" target="_blank">complete()</a> 
automatically consumes the response body and <a href="/site/apidocs/org/apache/juneau/rest/client/RestRequest.html#run()" target="_blank">run()</a>
does not.

Note that you must consume response bodies in order for HTTP connections to be freed up for reuse!

The <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html" target="_blank">InputStreams</a> returned by the <a href="/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html" target="_blank">ResponseContent</a> 
object are auto-closing once they are exhausted, so it is often not necessary to explicitly close them.

The following examples show the distinction between the two calls:

```java
// Consuming the response, so use run().
String content = client.get(URI).run().getContent().asString();

// Only interested in response status code, so use complete().
int status = client.get(URI).complete().getStatusCode();
```
