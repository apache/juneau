---
title: "I/O Package"
slug: JuneauCommonsIO
---

The `org.apache.juneau.commons.io` package provides file and stream utilities, console support, MIME type detection, and path builders for working with files and I/O operations.

## Key Classes

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/LocalFile.html" target="_blank">LocalFile</a></java-class>
Represents a file that can be located either on the classpath or in the file system.

```java
// Classpath file
LocalFile classpathFile = new LocalFile(MyClass.class, "config.properties");
InputStream is = classpathFile.read();

// File system file
LocalFile fsFile = new LocalFile(Paths.get("/path/to/file.txt"));
InputStream is2 = fsFile.read();

// With caching for repeated access
LocalFile cachedFile = new LocalFile(MyClass.class, "template.html");
cachedFile.cache();  // Cache contents in memory
InputStream is3 = cachedFile.read();  // Fast - uses cache
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/LocalDir.html" target="_blank">LocalDir</a></java-class>
Represents a directory that can be located either on the classpath or in the file system.

```java
// Classpath directory
LocalDir classpathDir = new LocalDir(MyClass.class, "templates");
LocalFile file = classpathDir.resolve("index.html");

// File system directory
LocalDir fsDir = new LocalDir(Paths.get("/var/config"));
LocalFile file2 = fsDir.resolve("app.properties");

// Package directory (null or empty path)
LocalDir packageDir = new LocalDir(MyClass.class, null);
LocalFile file3 = packageDir.resolve("resource.txt");
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/FileReaderBuilder.html" target="_blank">FileReaderBuilder</a></java-class>
Fluent builder for creating `Reader` instances from files.

```java
FileReaderBuilder builder = FileReaderBuilder.create()
    .file(Paths.get("file.txt"))
    .charset(StandardCharsets.UTF_8)
    .buffered(true);

Reader reader = builder.build();
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/FileWriterBuilder.html" target="_blank">FileWriterBuilder</a></java-class>
Fluent builder for creating `Writer` instances for files.

```java
FileWriterBuilder builder = FileWriterBuilder.create()
    .file(Paths.get("output.txt"))
    .charset(StandardCharsets.UTF_8)
    .append(true)
    .buffered(true);

Writer writer = builder.build();
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/PathReaderBuilder.html" target="_blank">PathReaderBuilder</a></java-class>
Fluent builder for creating `Reader` instances from `Path` objects.

```java
PathReaderBuilder builder = PathReaderBuilder.create()
    .path(Paths.get("file.txt"))
    .charset(StandardCharsets.UTF_8);

Reader reader = builder.build();
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/Console.html" target="_blank">Console</a></java-class>
Utility for logging formatted messages to the console.

```java
Console console = new Console();
console.log("Hello {0}, you have {1} items", "John", 5);
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/MimeTypeDetector.html" target="_blank">MimeTypeDetector</a></java-class>
Utility for detecting MIME types from file extensions or content.

```java
MimeTypeDetector detector = new MimeTypeDetector();

// Detect from file extension
String mimeType = detector.detect("file.pdf");  // "application/pdf"

// Detect from path
String mimeType2 = detector.detect(Paths.get("image.jpg"));  // "image/jpeg"
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/CharSequenceReader.html" target="_blank">CharSequenceReader</a></java-class>
A `Reader` implementation that reads from a `CharSequence`.

```java
CharSequenceReader reader = new CharSequenceReader("Hello World");
int ch = reader.read();  // 'H'
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/ReaderInputStream.html" target="_blank">ReaderInputStream</a></java-class>
An `InputStream` implementation that reads from a `Reader`.

```java
Reader reader = new StringReader("Hello World");
ReaderInputStream inputStream = new ReaderInputStream(reader, StandardCharsets.UTF_8);
byte[] bytes = inputStream.readAllBytes();
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/StringBuilderWriter.html" target="_blank">StringBuilderWriter</a></java-class>
A `Writer` implementation that writes to a `StringBuilder`.

```java
StringBuilderWriter writer = new StringBuilderWriter();
writer.write("Hello");
writer.write(" World");
String result = writer.toString();  // "Hello World"
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/NoCloseOutputStream.html" target="_blank">NoCloseOutputStream</a></java-class>
An `OutputStream` wrapper that prevents the underlying stream from being closed.

```java
OutputStream original = new FileOutputStream("file.txt");
NoCloseOutputStream wrapped = new NoCloseOutputStream(original);
wrapped.close();  // Does not close the original stream
```

### <java-class><a href="/site/apidocs/org/apache/juneau/commons/io/NoCloseWriter.html" target="_blank">NoCloseWriter</a></java-class>
A `Writer` wrapper that prevents the underlying writer from being closed.

```java
Writer original = new FileWriter("file.txt");
NoCloseWriter wrapped = new NoCloseWriter(original);
wrapped.close();  // Does not close the original writer
```

## Common Patterns

### Reading Files from Classpath or File System

```java
// Try classpath first, then file system
LocalFile file = new LocalFile(MyClass.class, "config.properties");
if (!file.exists()) {
    file = new LocalFile(Paths.get("/etc/myapp/config.properties"));
}

if (file.exists()) {
    try (InputStream is = file.read()) {
        // Read file contents
    }
}
```

### Caching File Contents

```java
// Cache file for repeated access
LocalFile template = new LocalFile(MyClass.class, "template.html");
template.cache();  // Load into memory

// Multiple reads use cached content
for (int i = 0; i < 100; i++) {
    try (InputStream is = template.read()) {
        // Fast - uses cached content
    }
}
```

### Working with Directories

```java
// Resolve files within a directory
LocalDir templates = new LocalDir(MyClass.class, "templates");
LocalFile index = templates.resolve("index.html");
LocalFile about = templates.resolve("about.html");
```

### File I/O with Builders

```java
// Read file with specific charset
try (Reader reader = FileReaderBuilder.create()
        .file(Paths.get("file.txt"))
        .charset(StandardCharsets.UTF_8)
        .buffered(true)
        .build()) {
    // Read from file
}

// Write file with append mode
try (Writer writer = FileWriterBuilder.create()
        .file(Paths.get("output.txt"))
        .charset(StandardCharsets.UTF_8)
        .append(true)
        .buffered(true)
        .build()) {
    writer.write("New content");
}
```

## See Also

- [Juneau Commons Basics](JuneauCommonsBasics)
- [Juneau Commons Utils](JuneauCommonsUtils)
- [JavaDoc: I/O Package](https://juneau.apache.org/javadocs/org/apache/juneau/commons/io/package-summary.html)

