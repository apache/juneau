---
title: "REST Server"
slug: RestServer
---

#### `@Rest`-Annotated Resources

A REST resource is simply a Java class annotated with <a href="/site/apidocs/org/apache/juneau/rest/annotation/Rest.html" target="_blank">Rest</a>.
The most common case is a class that extends <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServlet.html" target="_blank">BasicRestServlet</a>, which itself is simply an extension of <a href="https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta/servlet/http/HttpServlet.html" target="_blank">HttpServlet</a> which allows it to be deployed as a servlet.

```java
// Sample REST resource that prints out a simple "Hello world!" message.
@Rest(
    path="/helloWorld",
    title="Hello World",
    description="An example of the simplest-possible resource"
)
@HtmlDoc(
    navlinks={
        "up: request:/..",
        "options: servlet:/?method=OPTIONS"
    },
    aside={
        "This page shows a resource that simply response with a 'Hello world!' message",
        "The POJO serialized is a simple String.",
    }
)
@BeanConfig(sortProperties="true")
public class HelloWorldResource extends BasicRestServlet {

    @RestGet(path="/*", summary="Responds with \"Hello world!\"")
    public String sayHello() {
        return "Hello world!";
    }
}
```

This is what it looks like in a browser.

```text
http://localhost:10000/helloWorld
```

![Hello World Example](/img/doc-files/jrs.HelloWorldExample.1.png)

- Parsers for request bodies are selected based on the request `Content-Type` header.
- Serializers for response bodies are selected based on the request `Accept` header.
- In this case, it's the <a href="/site/apidocs/org/apache/juneau/html/HtmlDocSerializer.html" target="_blank">HtmlDocSerializer</a> serializer based on the browser's default `Accept` header that's asking for HTML.

REST resource classes and methods can be annotated with configuration annotations for the serializers and parsers (such
as `@HtmlConfig` and `@BeanConfig` shown above).

- Annotations such as the title, summary, and descriptions shown above are used for auto-generated Swagger UI pages (described later).

#### REST Children

Child Resources are REST servlets or objects that are linked to parent resources through the <a href="/site/apidocs/org/apache/juneau/rest/annotation/Rest.html#children()" target="_blank">@Rest(children)</a> annotation.

:::tip Example
```java
/** Parent Resource */
@Rest(
    path="/parent",
    children={
        MyChildResource.class
    }
)
public MyParentResource extends BasicRestServlet {...}
```

```java
/** Child Resource */
@Rest(
    path="/child"  // Path relative to parent resource.
)
// Note that we don't need to extend from RestServlet.
public MyChildResource implements BasicRestObject {
    ...
}
```
:::

The path of the child resource gets appended to the path of the parent resource.
So in the example above, the child resource is accessed through the URL /parent/child.

The advantage of using child resources is that they do not need to be declared in the JEE web.xml file.

Initialization of and access to the child resources occurs through the parent resource.

Children can be nested arbitrary deep to create complex REST interfaces with a single top-level REST servlet.

#### Predefined Configuration Interfaces

The servlets in the previous section implemented the <a href="/site/apidocs/org/apache/juneau/rest/config/BasicUniversalConfig.html" target="_blank">BasicUniversalConfig</a> which simply defines a preconfigured set of annotations that get inherited by the child classes:

```java
/**
* Predefined configuration for a REST resource that supports all languages
* and provides common default configuration values.
*/
@Rest(

    // Default serializers for all Java methods in the class.
    serializers={
        HtmlDocSerializer.class,
        HtmlStrippedDocSerializer.class,
        HtmlSchemaDocSerializer.class,
        JsonSerializer.class,
        Json5Serializer.class,
        JsonSchemaSerializer.class,
        XmlDocSerializer.class,
        UonSerializer.class,
        UrlEncodingSerializer.class,
        OpenApiSerializer.class,
        MsgPackSerializer.class,
        SoapXmlSerializer.class,
        PlainTextSerializer.class,
        CsvSerializer.class
    },

    // Default parsers for all Java methods in the class.
    parsers={
        JsonParser.class,
        Json5Parser.class,
        XmlParser.class,
        HtmlParser.class,
        UonParser.class,
        UrlEncodingParser.class,
        OpenApiParser.class,
        MsgPackParser.class,
        PlainTextParser.class,
        CsvParser.class
    }
)
public interface BasicUniversalConfig extends DefaultConfig, DefaultHtmlConfig {}
```

```java
/**
* Predefined REST configuration that defines common default values for all configurations.
*/
@Rest(
    // Configuration file.
    config="$S{j.configFile,$E{J_CONFIG_FILE,SYSTEM_DEFAULT}}",

    // Standard fields.
    path="",
    roleGuard="",
    rolesDeclared="",

    // Configuration beans.
    converters={},
    encoders={IdentityEncoder.class},
    guards={},
    parsers={},
    partParser=OpenApiParser.class,
    partSerializer=OpenApiSerializer.class,
    responseProcessors={
        ReaderProcessor.class,
        InputStreamProcessor.class,
        ThrowableProcessor.class,
        HttpResponseProcessor.class,
        HttpResourceProcessor.class,
        HttpEntityProcessor.class,
        ResponseBeanProcessor.class,
        PlainTextPojoProcessor.class,
        SerializedPojoProcessor.class
    },
    restOpArgs={
        AttributeArg.class,
        ContentArg.class,
        FormDataArg.class,
        HasFormDataArg.class,
        HasQueryArg.class,
        HeaderArg.class,
        HttpServletRequestArgs.class,
        HttpServletResponseArgs.class,
        HttpSessionArgs.class,
        InputStreamParserArg.class,
        MethodArg.class,
        ParserArg.class,
        PathArg.class,
        QueryArg.class,
        ReaderParserArg.class,
        RequestBeanArg.class,
        ResponseBeanArg.class,
        ResponseHeaderArg.class,
        ResponseCodeArg.class,
        RestContextArgs.class,
        RestSessionArgs.class,
        RestOpContextArgs.class,
        RestOpSessionArgs.class,
        RestRequestArgs.class,
        RestResponseArgs.class,
        DefaultArg.class
    },
    serializers={},

    // Configurable settings.
    allowedHeaderParams="$S{j.allowedHeaderParams,$E{J_ALLOWED_HEADER_PARAMS,Accept,Content-Type}}",
    allowedMethodHeaders="$S{j.allowedMethodHeaders,$E{J_ALLOWED_METHOD_HEADERS,}}",
    allowedMethodParams="$S{j.allowedMethodParams,$E{J_ALLOWED_METHOD_PARAMS,HEAD,OPTIONS}}",
    clientVersionHeader="$S{j.clientVersionHeader,$E{J_CLIENT_VERSION_HEADER,Client-Version}}",
    debug="$S{j.debug,$E{J_DEBUG,}}",
    debugOn="$S{j.debugOn,$E{J_DEBUG_ON,}}",
    defaultAccept="$S{j.defaultAccept,$E{J_DEFAULT_ACCEPT,}}",
    defaultCharset="$S{j.defaultCharset,$E{J_DEFAULT_CHARSET,UTF-8}}",
    defaultContentType="$S{j.defaultContentType,$E{J_DEFAULT_CONTENT_TYPE,}}",
    defaultRequestAttributes="$S{j.defaultRequestAttributes,$E{J_DEFAULT_REQUEST_ATTRIBUTES,}}",
    defaultRequestHeaders="$S{j.defaultRequestHeaders,$E{J_DEFAULT_REQUEST_HEADERS,}}",
    defaultResponseHeaders="$S{j.defaultResponseHeaders,$E{J_DEFAULT_RESPONSE_HEADERS,}}",
    disableContentParam="$S{j.disableContentParam,$E{J_DISABLE_CONTENT_PARAM,false}}",
    maxInput="$S{j.maxInput,$E{J_MAX_INPUT,1000000}}",
    messages="$S{j.messages,$E{J_MESSAGES,}}",
    renderResponseStackTraces="$S{j.renderResponseStackTraces,$E{J_RENDER_RESPONSE_STACK_TRACES,false}}",
    uriAuthority="$S{j.uriAuthority,$E{J_URI_AUTHORITY,}}",
    uriContext="$S{j.uriContext,$E{J_URI_CONTEXT,}}",
    uriRelativity="$S{j.uriRelativity,$E{J_URI_RELATIVITY,}}",
    uriResolution="$S{j.uriResolution,$E{J_URI_RESOLUTION,}}",

    // Metadata settings.
    consumes={},
    description="",
    produces={},
    siteName="$S{j.siteName,$E{J_SITE_NAME,}}",
    swagger=@Swagger,
    title="$S{j.title,$E{J_TITLE,}}",

    // Injectable/overridable beans.
    beanStore=BeanStore.Void.class,  // Defaults to BeanStore.
    callLogger=CallLogger.Void.class,  // Defaults to BasicCallLogger.
    debugEnablement=DebugEnablement.Void.class,  // Defaults to BasicDefaultEnablement.
    fileFinder=FileFinder.Void.class,  // Defaults to BasicFileFinder.
    staticFiles=StaticFiles.Void.class,  // Defaults to BasicStaticFiles.
    swaggerProvider=SwaggerProvider.Void.class,  // Defaults to BasicSwaggerProvider.

    // Overridable context classes.
    contextClass=RestContext.class,
    restChildrenClass=RestChildren.class,
    restOpContextClass=RestOpContext.class,
    restOperationsClass=RestOperations.class
)
@BeanConfig(
    // When parsing generated beans, ignore unknown properties
    // that may only exist as getters and not setters.
    ignoreUnknownBeanProperties="true",
    ignoreUnknownEnumValues="true"
)
@SerializerConfig(
    // Enable automatic resolution of URI objects to root-relative values.
    uriResolution="ROOT_RELATIVE"
)
public interface DefaultConfig {}
```

```java
/**
* Predefined REST configuration that defines common default values the HTML Doc serializer.
*/
@HtmlDocConfig(

    // Default page header contents.
    header={
        "$RS{title}",  // Use @Rest(title)
        "$RS{operationSummary,description}", // Use either @RestOp(summary) or @Rest(description)
        "$C{REST/header}"  // Extra header HTML defined in external config file.
    },

    // Basic page navigation links.
    navlinks={
        "up: request:/.."
    },

    // Default stylesheet to use for the page.
    // Can be overridden from external config file.
    // Default is DevOps look-and-feel (aka Depression look-and-feel).
    stylesheet="$C{REST/theme,servlet:/htdocs/themes/devops.css}",

    // Default contents to add to the  section of the HTML page.
    // Use it to add a favicon link to the page.
    head="$C{REST/head}",

    // No default page footer contents.
    // Can be overridden from external config file.
    footer="$C{REST/footer}",

    // By default, table cell contents should not wrap.
    nowrap="true"
)
public interface DefaultHtmlConfig {}
```

The <a href="/site/apidocs/org/apache/juneau/rest/config/package-summary.html" target="_blank">org.apache.juneau.rest.config</a> package contains other basic configurations for use.
Annotations are aggregated from child-to-parent order allowing for these basic configurations to be extended and
modified, or you can create your own annotations from scratch.

#### REST Group Pages

The <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServletGroup.html" target="_blank">BasicRestServletGroup</a> class provides a
default "router" page for child resources when a parent resource is nothing more than a grouping of child resources.
The RootResources class in the Samples project is an example of a router page:

```java
/**
* Sample REST resource showing how to implement a "router" resource page.
*/
@Rest(
    path="/",
    title="Root resources",
    description="Example of a router resource page.",
    children={
        HelloWorldResource.class,
        PetStoreResource.class,
        DtoExamples.class,
        ConfigResource.class,
        LogsResource.class,
        ShutdownResource.class
    }
)
public class RootResources extends BasicRestServletGroup {
    // NO CODE!!!
}
```

When you bring up this resource in a browser, you see the following that provides a list of navigable links to your
child resources:

```text
http://localhost:10000
```

![Router Pages Example](/img/doc-files/jrs.RouterPages.1.png)

#### REST Resource Methods

The real power behind the REST server API is the ability to define Java methods as REST endpoints.

:::tip Example
```java
@RestPost(path="/pets", guards=AdminGuard.class)
public Ok addPet(
    @Content CreatePet createPetBean,
    @Header("E-Tag") UUID etag,
    @Query("debug") boolean debug
) throws BadRequest, Unauthorized, InternalServerError {
    // Process request.
    return Ok.OK;
}
```
:::

Java methods on <a href="/site/apidocs/org/apache/juneau/rest/annotation/Rest.html" target="_blank">@Rest</a>-annotated classes have the following
format:

```java
@RestOp(method="...", path="...")

public  method() throws  {
    ...
}
```

The various parts require their own topics to fully appreciate the scope of abilities but the following is a summary:

- Annotated with <a href="/site/apidocs/org/apache/juneau/rest/annotation/RestOp.html" target="_blank">@RestOp</a>.
- Also available: <a href="/site/apidocs/org/apache/juneau/rest/annotation/RestGet.html" target="_blank">@RestGet</a> / <a href="/site/apidocs/org/apache/juneau/rest/annotation/RestPut.html" target="_blank">@RestPut</a> / <a href="/site/apidocs/org/apache/juneau/rest/annotation/RestPost.html" target="_blank">@RestPost</a> / <a href="/site/apidocs/org/apache/juneau/rest/annotation/RestDelete.html" target="_blank">@RestDelete</a>.
- Annotation optional if using standard naming conventions (e.g. `getFoo()` equivalent to `@RestGet(path="/foo")`).
- Optionally annotated with config annotations such as <a href="/site/apidocs/org/apache/juneau/annotation/BeanConfig.html" target="_blank">@BeanConfig</a> and <a href="/site/apidocs/org/apache/juneau/html/annotation/HtmlDocConfig.html" target="_blank">@HtmlDocConfig</a> that customize the behavior of serializers and parsers at the method level.
- Returned object gets serialized as the HTTP response body.
- Typically a POJO serialized based on <a href="/site/apidocs/org/apache/juneau/http/header/Accept.html" target="_blank">Accept</a> request header.
- Support for raw values such as `Readers` and `InputStreams` (among others).
- Support for response beans annotated with <a href="/site/apidocs/org/apache/juneau/http/annotation/Response.html" target="_blank">@Response</a>.
- Support for Apache Http Core interfaces: <a href="https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html" target="_blank">HttpEntity</a> / <a href="https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpResponse.html" target="_blank">HttpResponse</a> / <a href="/site/apidocs/org/apache/juneau/http/resource/HttpResource.html" target="_blank">HttpResource</a>.
- Standard HTTP responses such as <a href="/site/apidocs/org/apache/juneau/http/response/Ok.html" target="_blank">Ok</a> and <a href="/site/apidocs/org/apache/juneau/http/response/TemporaryRedirect.html" target="_blank">TemporaryRedirect</a> provided in <a href="/site/apidocs/org/apache/juneau/http/response/package-summary.html" target="_blank">org.apache.juneau.http.response</a> package.
- Extensible API for defining custom return types.
- A wide range of possible argument types including:
- Standard <a href="https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta/servlet/http/HttpServletRequest.html" target="_blank">HttpServletRequest</a> / <a href="https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta/servlet/http/HttpServletResponse.html" target="_blank">HttpServletResponse</a> objects.
- Extended <a href="/site/apidocs/org/apache/juneau/rest/RestRequest.html" target="_blank">RestRequest</a> / <a href="/site/apidocs/org/apache/juneau/rest/RestResponse.html" target="_blank">RestResponse</a> objects.
- Parsed HTTP parts with either the arguments or beans annotated with <a href="/site/apidocs/org/apache/juneau/http/annotation/Path.html" target="_blank">@Path</a> / <a href="/site/apidocs/org/apache/juneau/http/annotation/Header.html" target="_blank">@Header</a> / <a href="/site/apidocs/org/apache/juneau/http/annotation/Query.html" target="_blank">@Query</a> / <a href="/site/apidocs/org/apache/juneau/http/annotation/FormData.html" target="_blank">@FormData</a>.
- Parsed HTTP body with either the argument or bean annotated with <a href="/site/apidocs/org/apache/juneau/http/annotation/Content.html" target="_blank">@Content</a>.
- Raw HTTP request body with `InputStream` or `Reader`.
- Raw HTTP response body with `OutputStream` or `Writer`.
- Request beans annotated with <a href="/site/apidocs/org/apache/juneau/http/annotation/Request.html" target="_blank">@Request</a>.
- Response beans annotated with <a href="/site/apidocs/org/apache/juneau/http/annotation/Response.html" target="_blank">@Response</a>.
- Standard HTTP headers such as <a href="/site/apidocs/org/apache/juneau/http/header/Accept.html" target="_blank">Accept</a> and <a href="/site/apidocs/org/apache/juneau/http/header/ContentType.html" target="_blank">ContentType</a>  provided in <a href="/site/apidocs/org/apache/juneau/http/header/package-summary.html" target="_blank">org.apache.juneau.http.header</a> package.
- Auto-generated <a href="/site/apidocs/org/apache/juneau/bean/swagger/Swagger.html" target="_blank">Swagger</a>.
- Various other standard objects such as <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/Principal.html" target="_blank">Principal</a>, <a href="https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta/servlet/http/Cookie.html" target="_blank">Cookie</a>, <a href="https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta/servlet/http/HttpSession.html" target="_blank">HttpSession</a>, and <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.html" target="_blank">ResourceBundle</a>.
- Spring beans or other injectable beans.
- Extensible API for defining custom argument types.
- Throwables can be anything.
- Typically one of the standard HTTP responses such as <a href="/site/apidocs/org/apache/juneau/http/response/BadRequest.html" target="_blank">BadRequest</a> or <a href="/site/apidocs/org/apache/juneau/http/response/NotFound.html" target="_blank">NotFound</a> provided in <a href="/site/apidocs/org/apache/juneau/http/response/package-summary.html" target="_blank">org.apache.juneau.http.response</a> package.
- Can define your own <a href="/site/apidocs/org/apache/juneau/http/annotation/Response.html" target="_blank">@Response</a>-annotated throwables.
- Anything else gets converted to an <a href="/site/apidocs/org/apache/juneau/http/response/InternalServerError.html" target="_blank">InternalServerError</a>.

#### Deploying as a Servlet

The <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServlet.html" target="_blank">BasicRestServlet</a> class is the entry point for
your REST resources.
It extends directly from HttpServlet and is deployed like any other servlet (such as a standard `web.xml` file).
When the servlet init() method is called, it triggers the code to find and process the @Rest annotations on that class
and all child classes.
These get constructed into a <a href="/site/apidocs/org/apache/juneau/rest/RestContext.html" target="_blank">RestContext</a> object that holds all
the configuration information about your resource in a read-only object.

Most developers are not going to be using the RestServlet class itself, and instead will extend from one of the
preconfigured default servlets such as <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServlet.html" target="_blank">BasicRestServlet</a> and <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServletGroup.html" target="_blank">BasicRestServletGroup</a> which provides universal language support, basic instrumentation, and auto-generated Swagger UI.

#### Deploying in Spring Boot

The <a href="/site/apidocs/org/apache/juneau/rest/springboot/BasicSpringRestServlet.html" target="_blank">BasicSpringRestServlet</a> class is
typically entry point for your REST resources when working within a Spring Boot environment.
It extends from <a href="/site/apidocs/org/apache/juneau/rest/springboot/SpringRestServlet.html" target="_blank">SpringRestServlet</a> which
provides additional capabilities including:

- Your REST resources can be defined as injectable Spring beans.
- Various capabilities within the REST Server library (e.g. logging, instrumentation, call handling, API extensions) can be defined via

Spring beans and automatically pulled into the framework.

Most developers are not going to be using the RestServlet class itself, and instead will extend from one of the
preconfigured default servlets such as <a href="/site/apidocs/org/apache/juneau/rest/springboot/BasicSpringRestServlet.html" target="_blank">BasicSpringRestServlet</a> and <a href="/site/apidocs/org/apache/juneau/rest/springboot/BasicSpringRestServletGroup.html" target="_blank">BasicSpringRestServletGroup</a> that have the same capabilites as the <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServlet.html" target="_blank">BasicRestServlet</a> and <a href="/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServletGroup.html" target="_blank">BasicRestServletGroup</a> counterparts.

:::tip Example configuration file
```java
@Configuration
public class MySpringConfiguration {

    /**
    * Our root REST bean.
    * Note that this must extend from SpringRestServlet so that child resources can be
    * resolved as Spring beans.
    * All REST objects are attached to this bean using the Rest.children() annotation.
    */
    @Bean
    public RootResources getRootResources() {
        return new RootResources();
    }

    /**
    * Optionally return the HelloWorldResource object as an injectable bean.
    */
    @Bean
    public HelloWorldResource getHelloWorldResource() {
        return new HelloWorldResource();
    }

    /**
    * Map our servlet to a path.
    */
    @Bean
    public ServletRegistrationBean getRootServlet(RootResources rootResources) {
        return new ServletRegistrationBean(rootResources, "/*");
    }
}
```

```java
@Rest(
    children={
        HelloWorldResource.class
    }
)
public class RootResources extends BasicSpringRestServletGroup {
    // No code!
}
```
:::

:::info See Also
juneau-rest-server for more information.
:::