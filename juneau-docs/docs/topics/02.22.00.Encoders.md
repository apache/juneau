---
title: "Encoders"
---

The [org.apache.juneau.encoders](API_DOCS/org/apache/juneau/encoders.html) package defines an API for handling encoding-based matching
of `Accept-Encoding`/`Content-Encoding` HTTP headers.

It consists of the following classes:

<tree>
<node-0><java-class>[EncoderSet](API_DOCS/org/apache/juneau/encoders/EncoderSet.html)</java-class></node-0>
<node-0><java-abstract-class>[Encoder](API_DOCS/org/apache/juneau/encoders/Encoder.html)</java-abstract-class></node-0>
<node-1><java-class>[IdentityEncoder](API_DOCS/org/apache/juneau/encoders/IdentityEncoder.html)</java-class></node-1>
<node-1><java-class>[GzipEncoder](API_DOCS/org/apache/juneau/encoders/GzipEncoder.html)</java-class></node-1>
</tree>

#### EncoderSet

The [EncoderSet](API_DOCS/org/apache/juneau/encoders/EncoderSet.html) class represents the set of [org.apache.juneau.encoders](API_DOCS/org/apache/juneau/encoders/Encoder.html) keyed by codings.
It maintains a set of encoders and the codings that they can handle.

The [getEncoderMatch(String)](API_DOCS/org/apache/juneau/encoders/EncoderSet.html#getEncoderMatch(String)) and [EncoderSet.getEncoder(String)](API_DOCS/org/apache/juneau/encoders/EncoderSet.html#getEncoder(String)) methods are then used to find appropriate encoders for specific `Accept-Encoding` and `Content-Encoding` header values.

#### Match ordering

Encoders are tried in the order they appear in the set.
The [EncoderSet.Builder.add(Class...)](API_DOCS/org/apache/juneau/encoders/EncoderSet/Builder.html#add(Class...)) / [EncoderSet.Builder.add(Encoder...)](API_DOCS/org/apache/juneau/encoders/EncoderSet/Builder.html#add(Encoder...)) methods prepend the values to the list to allow them the opportunity to override encoders already in the list.

For example, calling `builder.add(E1.class,E2.class).add(E3.class, E4.class)` will result in the order `E3, E4, E1, E2`.

:::tip Example
```java
// Create an encoder group with support for gzip compression.
EncoderSet encoders = EncoderSet
    .create()
    .add(GzipEncoder.class)
    .build();

// Should return "gzip"
String matchedCoding = encoders.findMatch("compress;q=1.0, gzip;q=0.8, identity;q=0.5, *;q=0");

// Get the encoder
Encoder encoder = encoders.getEncoder(matchedCoding);
```
:::

#### Encoder API

The [Encoder](API_DOCS/org/apache/juneau/encoders/Encoder.html) interface is used for enabling decompression on
requests and compression on responses, such as support for GZIP compression.
It is used to wrap input and output streams within compression/decompression streams.

<tree>
<node-0><java-abstract-class>[Encoder](API_DOCS/org/apache/juneau/encoders/Encoder.html)</java-abstract-class></node-0>
<node-1><java-method>[getCodings()](API_DOCS/org/apache/juneau/encoders/Encoder.html#getCodings())</java-method></node-1>
<node-1><java-method>[getInputStream(InputStream)](API_DOCS/org/apache/juneau/encoders/Encoder.html#getInputStream(InputStream))</java-method></node-1>
<node-1><java-method>[getOutputStream(OutputStream)](API_DOCS/org/apache/juneau/encoders/Encoder.html#getOutputStream(OutputStream))</java-method></node-1>
</tree>

:::note
Encoders are registered with [RestServlets](API_DOCS/org/apache/juneau/rest/servlet/RestServlet.html) through the [@Rest(encoders)](API_DOCS/org/apache/juneau/rest/annotation/Rest.html#encoders()) annotation.
:::