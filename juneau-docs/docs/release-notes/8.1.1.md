---
title: "Release 8.1.1"
---

# Release 8.1.1

**Date:** Sept 20, 2019

Juneau 8.1.1 is a minor release but introduces some new features/modifications.

### juneau-marshall

- Support for serializing/parsing [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) objects and bean properties.

- Fixed a bug in the parsers where the generic subtype of a complex bean property type involving both collections and arrays was not being found. (e.g. `List<Long>[]`)

- New packages of HTTP response/exceptions beans from `juneau-rest-server` bundle and REST proxy annotations from `juneau-rest-client` so that they can be used when building REST proxy interfaces while only pulling in the marshall bundle.

  <tree>
  <node-0><java-package>[org.apache.juneau.http.response](API_DOCS/org/apache/juneau/http/response.html)</java-package></node-0>
  <node-0><java-package> ~~org.apache.juneau.http.exception~~</java-package></node-0>
  <node-0><java-package>[org.apache.juneau.http.remote](API_DOCS/org/apache/juneau/http/remote.html)</java-package></node-0>
  </tree>

These replace the `org.apache.juneau.rest.response`, `org.apache.juneau.rest.exception`, and `org.apache.juneau.rest.client.remote` packages.

- Defaulting SVL variables now won't ignore additional parameters.
  `"$S{Foo,bar,baz}"` used to default to `"bar"` but now will default to `"bar,baz"`.

- Ranking support has been added to all `@XConfig` annotations.
  This allows you to override the normal precedence of application of config annotations on class and method hierarchies.

### juneau-rest-server

- Support for [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) on method parameters annotated with [@Header](API_DOCS/org/apache/juneau/http/annotation/Header.html), [@FormData](API_DOCS/org/apache/juneau/http/annotation/FormData.html), [@Query](API_DOCS/org/apache/juneau/http/annotation/Query.html), [@Path](API_DOCS/org/apache/juneau/http/annotation/Path.html).

- Fixed issue where ~~RestMethod.debug()~~ annotation wasn't resulting in the HTTP request being logged.

-  ~~RestException~~ has been deprecated and replaced by  ~~HttpException~~.

- Resolved issue where parameterized types on `@RestMethod`-annotated method parameters of Spring beans.
  This is due to Spring relying on CGLIB for runtime-recompilation of beans that results in loss of parameterized-type information.

  In the following example, the `beans` parameter would resolve as an unparameterized `List<Object>` which would typically result in getting a `List<ObjectMap>` and subsequent `ClassCastExceptions`.

  ```java
  @RestMethod
  public void doFoo(@Body List<MyBean> beans) {...}
  ```

  The fix involves resolving the original bean class for resolving parameterized type while leaving method invocation on the proxy method so as not to bypass Spring features.

- New methods on  ~~BasicRest~~ to provide feature-parity with  ~~RestServlet~~:

  <tree>
  <node-0><java-class> ~~BasicRest~~</java-class></node-0>
  <node-1><java-method> ~~BasicRest.getContext() getContext()~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.getRequest() getRequest()~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.getResponse() getResponse()~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.log(String) log(String)~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.log(String,Throwable) log(String,Throwable)~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.log(Level,String,Object[]) log(Level,String,Object[])~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.logObjects(Level,String,Object[])~~</java-method></node-1>
  <node-1><java-method> ~~BasicRest.log(Level,Throwable,String,Object[]) log(Level,Throwable,String,Object[])~~</java-method></node-1>
  </tree>

- The ~~@RestResource(staticFiles)~~ annotation now supports absolute path locations and multiple mappings:

  ```java
  // Resolves static files in root package "htdocs" or working directory "htdocs", and then relative package "htdocs".
  @RestResource(staticFiles="htdocs:/htdocsfolder,htdocs:htdocs.package")
  ```

- Fixed a bug in ~~@RestResource(staticFiles)~~ where the order of lookup between parent and child resources was wrong.

### juneau-rest-client

- Removed the dependency on the `juneau-rest-server` module.
  Allows the client API to be used without pulling in all the javax.servlet and server dependencies.

- Support for [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html) return types on remote proxy methods.

### juneau-examples

- The PetStore application has been moved to a separate Git repository.
  - [GitHub Repo](https://github.com/apache/juneau-petstore)
  - [Documentation](http://juneau.apache.org/index.html#petstore.html)