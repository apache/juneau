---
title: "Collections Package"
slug: JuneauCommonsCollections
---

The `org.apache.juneau.commons.collections` package provides enhanced collection utilities that extend the standard Java Collections Framework with fluent APIs, specialized collection types, and caching capabilities.

## Key Classes

### Collection Builders

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/Lists.html" target="_blank">Lists</a></java-class>
Fluent builder for constructing `List` instances with various configuration options.

```java
import static org.apache.juneau.commons.utils.CollectionUtils.*;

// Basic usage
List<String> list = listb(String.class)
    .add("apple", "banana", "cherry")
    .build();

// With sorting
List<Integer> sorted = listb(Integer.class)
    .add(3, 1, 4, 1, 5, 9, 2, 6)
    .sorted()
    .build();

// Conditional elements
List<String> filtered = listb(String.class)
    .add("always")
    .addIf(includeOptional, "optional")
    .build();

// Immutable list
List<String> immutable = listb(String.class)
    .add("read", "only")
    .unmodifiable()
    .build();
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/Maps.html" target="_blank">Maps</a></java-class>
Fluent builder for constructing `Map` instances.

```java
import static org.apache.juneau.commons.utils.CollectionUtils.*;

// Basic usage
Map<String, Integer> map = mapb(String.class, Integer.class)
    .add("one", 1)
    .add("two", 2)
    .add("three", 3)
    .build();

// Using pairs
Map<String, String> props = mapb(String.class, String.class)
    .addPairs("host", "localhost", "port", "8080")
    .build();

// With sorting by key
Map<String, Integer> sorted = mapb(String.class, Integer.class)
    .add("zebra", 3)
    .add("apple", 1)
    .add("banana", 2)
    .sorted()
    .build();
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/Sets.html" target="_blank">Sets</a></java-class>
Fluent builder for constructing `Set` instances with automatic deduplication.

```java
import static org.apache.juneau.commons.utils.CollectionUtils.*;

// Basic usage
Set<String> set = setb(String.class)
    .add("apple", "banana", "cherry")
    .build();

// Automatic deduplication
Set<Integer> unique = setb(Integer.class)
    .add(1, 2, 3, 2, 1)  // Duplicates ignored
    .build();  // Contains: 1, 2, 3
```

### Fluent Collections

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FluentMap.html" target="_blank">FluentMap</a></java-class>
A fluent wrapper around an arbitrary map that provides convenient methods for adding entries.

```java
FluentMap<String, String> map = new FluentMap<>(new LinkedHashMap<>());

map
    .a("key1", "value1")
    .a("key2", "value2")
    .ai(true, "key3", "value3")   // Added
    .ai(false, "key4", "value4");  // Not added

// Add all entries from another map
Map<String, String> other = Map.of("key5", "value5", "key6", "value6");
map.aa(other);
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FluentList.html" target="_blank">FluentList</a></java-class>
A fluent wrapper around a list for convenient element addition.

```java
FluentList<String> list = new FluentList<>(new ArrayList<>());

list
    .a("item1")
    .a("item2")
    .ai(true, "item3")   // Added
    .ai(false, "item4"); // Not added
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FluentSet.html" target="_blank">FluentSet</a></java-class>
A fluent wrapper around a set for convenient element addition.

```java
FluentSet<String> set = new FluentSet<>(new LinkedHashSet<>());

set
    .a("item1")
    .a("item2")
    .ai(true, "item3");  // Added
```

### Specialized Collections

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/MultiMap.html" target="_blank">MultiMap</a></java-class>
A composite map that presents multiple maps as a single unified map.

```java
Map<String, String> map1 = Map.of("key1", "value1", "key2", "value2");
Map<String, String> map2 = Map.of("key3", "value3", "key2", "value2b");
Map<String, String> map3 = Map.of("key4", "value4");

MultiMap<String, String> multiMap = new MultiMap<>(map1, map2, map3);

// Access entries by key
multiMap.get("key1");  // Returns "value1" from map1
multiMap.get("key2");  // Returns "value2" from map1 (first match wins)
multiMap.get("key3");  // Returns "value3" from map2
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/MultiList.html" target="_blank">MultiList</a></java-class>
A composite list that presents multiple lists as a single unified list.

```java
List<String> list1 = List.of("a", "b", "c");
List<String> list2 = List.of("d", "e");
List<String> list3 = List.of("f", "g", "h");

MultiList<String> multiList = new MultiList<>(list1, list2, list3);

// Access elements
multiList.get(0);  // Returns "a" from list1
multiList.get(3);  // Returns "d" from list2
multiList.size();  // Returns 8 (total elements)
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/MultiSet.html" target="_blank">MultiSet</a></java-class>
A composite set that presents multiple sets as a single unified set.

```java
Set<String> set1 = Set.of("a", "b", "c");
Set<String> set2 = Set.of("c", "d", "e");  // "c" is duplicate
Set<String> set3 = Set.of("f", "g");

MultiSet<String> multiSet = new MultiSet<>(set1, set2, set3);

// Access elements (duplicates handled automatically)
multiSet.contains("c");  // Returns true
multiSet.size();  // Returns 7 (unique elements: a, b, c, d, e, f, g)
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/BidiMap.html" target="_blank">BidiMap</a></java-class>
A bidirectional map that allows lookup by both key and value.

```java
BidiMap<String, Integer> bidiMap = new BidiMap<>();

bidiMap.put("one", 1);
bidiMap.put("two", 2);
bidiMap.put("three", 3);

// Forward lookup
bidiMap.get("one");  // Returns 1

// Reverse lookup
bidiMap.getKey(1);  // Returns "one"
bidiMap.getKey(2);  // Returns "two"
```

### Filtered Collections

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FilteredMap.html" target="_blank">FilteredMap</a></java-class>
A map that filters entries based on a predicate.

```java
FilteredMap<String, Integer> filtered = new FilteredMap<>(
    new HashMap<>(),
    (k, v) -> v > 0  // Only keep positive values
);

filtered.put("a", 5);   // Added
filtered.put("b", -1);  // Filtered out
filtered.put("c", 10);  // Added
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FilteredList.html" target="_blank">FilteredList</a></java-class>
A list that filters elements based on a predicate.

```java
FilteredList<Integer> filtered = new FilteredList<>(
    new ArrayList<>(),
    v -> v > 0  // Only keep positive values
);

filtered.add(5);   // Added
filtered.add(-1);  // Filtered out
filtered.add(10);  // Added
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/FilteredSet.html" target="_blank">FilteredSet</a></java-class>
A set that filters elements based on a predicate.

```java
FilteredSet<Integer> filtered = new FilteredSet<>(
    new LinkedHashSet<>(),
    v -> v > 0  // Only keep positive values
);

filtered.add(5);   // Added
filtered.add(-1);  // Filtered out
filtered.add(10);  // Added
```

### Caching

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/Cache.html" target="_blank">Cache</a></java-class>
Simple in-memory cache for storing and retrieving objects by key.

```java
// Create a cache with default supplier
Cache<String, Pattern> patternCache = Cache
    .of(String.class, Pattern.class)
    .maxSize(100)
    .supplier(Pattern::compile)
    .build();

// Retrieve using default supplier
Pattern pattern1 = patternCache.get("[a-z]+");

// Or override the supplier
Pattern pattern2 = patternCache.get("[0-9]+", 
    () -> Pattern.compile("[0-9]+", Pattern.CASE_INSENSITIVE));
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/HashKey.html" target="_blank">HashKey</a></java-class>
A composite key composed of multiple values, suitable for use as a key in hash-based collections.

```java
// Create a composite key from multiple values
HashKey key = HashKey.of(
    "config1",
    "config2",
    true,
    42
);

// Use as a key in a cache or map
Map<HashKey, MyObject> cache = new HashMap<>();
cache.put(key, myObject);

// Retrieve using an equivalent key
HashKey lookupKey = HashKey.of("config1", "config2", true, 42);
MyObject cached = cache.get(lookupKey);  // Returns myObject
```

### Other Utilities

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/SortedArrayList.html" target="_blank">SortedArrayList</a></java-class>
An `ArrayList` that maintains elements in sorted order.

```java
SortedArrayList<String> sorted = new SortedArrayList<>();

sorted.add("zebra");
sorted.add("apple");
sorted.add("banana");

// Elements are automatically sorted
// Contains: ["apple", "banana", "zebra"]
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/SortedLinkedList.html" target="_blank">SortedLinkedList</a></java-class>
A `LinkedList` that maintains elements in sorted order.

```java
SortedLinkedList<Integer> sorted = new SortedLinkedList<>();

sorted.add(3);
sorted.add(1);
sorted.add(4);

// Elements are automatically sorted
// Contains: [1, 3, 4]
```

#### <java-class><a href="/site/apidocs/org/apache/juneau/commons/collections/ReversedList.html" target="_blank">ReversedList</a></java-class>
A list that presents a reversed view of another list.

```java
List<String> original = List.of("a", "b", "c", "d");
ReversedList<String> reversed = new ReversedList<>(original);

reversed.get(0);  // Returns "d"
reversed.get(1);  // Returns "c"
reversed.get(2);  // Returns "b"
reversed.get(3);  // Returns "a"
```

## See Also

- [Juneau Commons Basics](JuneauCommonsBasics)
- [Juneau Commons Utils](JuneauCommonsUtils)
- [JavaDoc: Collections Package](https://juneau.apache.org/javadocs/org/apache/juneau/commons/collections/package-summary.html)

