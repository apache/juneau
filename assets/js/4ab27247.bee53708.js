"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[4790],{28453:(e,s,a)=>{a.d(s,{R:()=>i,x:()=>o});var t=a(96540);const n={},r=t.createContext(n);function i(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:s},e.children)}},56697:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>h,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"topics/06.02.00.AssertionsOverview","title":"Assertions Overview","description":"The org.apache.juneau.assertions package in Juneau is a powerful API for performing","source":"@site/docs/topics/06.02.00.AssertionsOverview.md","sourceDirName":"topics","slug":"/topics/AssertionsOverview","permalink":"/docs/topics/AssertionsOverview","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/06.02.00.AssertionsOverview.md","tags":[],"version":"current","frontMatter":{"title":"Assertions Overview","slug":"AssertionsOverview"},"sidebar":"mainSidebar","previous":{"title":"6.1. juneau-assertions Basics","permalink":"/docs/topics/JuneauAssertionBasics"},"next":{"title":"7.1. juneau-rest-common Basics","permalink":"/docs/topics/JuneauRestCommonBasics"}}');var n=a(74848),r=a(28453);const i={title:"Assertions Overview",slug:"AssertionsOverview"},o=void 0,h={},l=[];function c(e){const s={admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/package-summary.html",target:"_blank",children:"org.apache.juneau.assertions"})," package in Juneau is a powerful API for performing\nfluent style assertions.\nIt is used throughout the REST client and server APIs for performing inline assertions on REST requests and responses."]}),"\n",(0,n.jsx)(s.admonition,{title:"Example",type:"tip",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-java",children:'// Create a basic REST client with JSON support and download a bean.\nMyBean bean = RestClient.create()\n    .json5()\n    .build()\n    .get(URI)\n    .run()\n    .assertStatus().asCode().is(200)\n    .assertHeader("Content-Type").isMatches("application/json*")\n    .getContent().assertValue().asString().isContains("OK")\n    .getContent().as(MyBean.class);\n'})})}),"\n",(0,n.jsx)(s.admonition,{type:"note",children:(0,n.jsx)(s.p,{children:"The REST API is described later in the documentation."})}),"\n",(0,n.jsx)(s.p,{children:"The assertions API is designed to be used in both code (as it's done in the REST APIs) or for standalone use in unit\ntests."}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html",target:"_blank",children:"Assertions"})," class provides various static methods for\ninvoking assertions on a variety of object types for simplified unit testing."]}),"\n",(0,n.jsx)("tree",{children:(0,n.jsxs)("node-0",{children:[(0,n.jsx)("javac-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html",target:"_blank",children:"Assertions"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertAny(T)",target:"_blank",children:"assertAny(T)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertArray(E[])",target:"_blank",children:"assertArray(Object[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBean(T)",target:"_blank",children:"assertBean(V)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBeanList(java.util.List)",target:"_blank",children:"assertBeanList(List)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBoolean(java.lang.Boolean)",target:"_blank",children:"assertBoolean(Boolean)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBooleanArray(boolean[])",target:"_blank",children:"assertBooleanArray(boolean[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertByteArray(byte[])",target:"_blank",children:"assertByteArray(byte[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBytes(byte[])",target:"_blank",children:"assertBytes(byte[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertBytes(byte[])",target:"_blank",children:"assertBytes(InputStream)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertCharArray(char[])",target:"_blank",children:"assertCharArray(char[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertCollection(java.util.Collection)",target:"_blank",children:"assertCollection(Collection)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertComparable(T)",target:"_blank",children:"assertComparable(T)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertDate(java.util.Date)",target:"_blank",children:"assertDate(Date)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertDoubleArray(double[])",target:"_blank",children:"assertDoubleArray(double[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertFloatArray(float[])",target:"_blank",children:"assertFloatArray(float[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertIntArray(int[])",target:"_blank",children:"assertIntArray(int[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertInteger(java.lang.Integer)",target:"_blank",children:"assertInteger(Integer)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertList(java.util.List)",target:"_blank",children:"assertList(List)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertLong(java.lang.Long)",target:"_blank",children:"assertLong(Long)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertLongArray(long[])",target:"_blank",children:"assertLongArray(long[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertMap(java.util.Map)",target:"_blank",children:"assertMap(Map)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertObject(T)",target:"_blank",children:"assertObject(T)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertOptional(java.util.Optional)",target:"_blank",children:"assertOptional(Optional)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertReader(java.io.Reader)",target:"_blank",children:"assertReader(Reader)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertShortArray(short[])",target:"_blank",children:"assertShortArray(short[])"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertString(java.lang.Object)",target:"_blank",children:"assertString(Object)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertStringList(java.util.List)",target:"_blank",children:"assertStringList(List)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertThrowable(T)",target:"_blank",children:"assertThrowable(V)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertThrown(org.apache.juneau.common.utils.Snippet)",target:"_blank",children:"assertThrown(Snippet)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertVersion(org.apache.juneau.Version)",target:"_blank",children:"assertVersion(Version)"})})," ",(0,n.jsx)("javac-method",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html#assertZonedDateTime(java.time.ZonedDateTime)",target:"_blank",children:"assertZonedDateTime(ZonedDateTime)"})})]})}),"\n",(0,n.jsx)(s.p,{children:"Assertions have 3 categories of methods:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Testing methods (",(0,n.jsx)(s.code,{children:"isX"})," methods)"]}),"\n",(0,n.jsxs)(s.li,{children:["Transform methods (",(0,n.jsx)(s.code,{children:"asX"})," methods)"]}),"\n",(0,n.jsxs)(s.li,{children:["Configuration methods (",(0,n.jsx)(s.code,{children:"setX"})," methods)"]}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{title:"Examples",type:"tip",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-java",children:'import static org.apache.juneau.assertions.Assertions.*;\nimport static org.apache.juneau.assertions.AssertionPredicates.*;\n\n// Check the contents of a string.\nassertString("foo, bar")\n    .asSplit(",")\n    .asTrimmed()\n    .isHas("foo", "bar");\n\n// Extract a subset of properties from a list of beans and compare using JSON5.\nList myListOfBeans = ...;\nassertBeanList(myListOfBeans)\n    .asPropertyMap("a,b")\n    .asJson().is("[{a:1,b:\'foo\'}]");\n\n// Perform an arbitrary Predicate check against a bean.\nMyBean myBeans = ...;\nassertBean(myBeans)\n    .is(x -> isValidCheck(x))\n\n// Check that a list of strings has less than 10 entries and the first\n// 3 entries are [foo, bar*, null] using assertion predicates.\nList myListOfStrings = ...;\nassertStringList(myListOfStrings)\n    .asSize().isLt(10)\n    .asFirst(3)\n        .isEach(eq("foo"),match("bar*"),isNull())\n\n// Check that an exception is thrown and is the specified type and has the specified message.\nassertThrown(()->myBean.runBadMethod())\n    .exists()\n    .isExactType(RuntimeException.class)\n    .asMessage().is("foo");\n'})})}),"\n",(0,n.jsxs)(s.p,{children:["Testing methods (",(0,n.jsx)(s.code,{children:"isX"})," methods) perform an assertion on the specified value and throws a ",(0,n.jsx)("a",{href:"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AssertionError.html",target:"_blank",children:"AssertionError"})," if\nthe test fails.\nOtherwise, the method returns the original assertion object to allow you to chain the command."]}),"\n",(0,n.jsx)(s.admonition,{title:"Example",type:"tip",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-java",children:"// Test a string.\nassertString(myString)\n    .isNotNull()  // Perform test and returns original FluentStringAssertion.\n    .isNotEmpty();  // Perform test and returns original FluentStringAssertion.\n"})})}),"\n",(0,n.jsxs)(s.p,{children:["Transform methods (",(0,n.jsx)(s.code,{children:"asX"})," methods) allow you to convert assertions of one type to another type or to convert the tested\nvalue to some other form wrapped in another assertion."]}),"\n",(0,n.jsx)(s.admonition,{title:"Example",type:"tip",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-java",children:'// Customize the behavior of an assertion.\nassertString(myString)\n    .asString()  // Converts to a FluentIntegerAssertion.\n        .isLt(100)  // Runs test and returns original FluentStringAssertion.\n    .asUc()  // Converts string to uppercase and returns a new FluentStringAssertion.\n        .isContains("FOO");  // Runs test and returns original FluentStringAssertion.\n'})})}),"\n",(0,n.jsxs)(s.p,{children:["Configuration methods (",(0,n.jsx)(s.code,{children:"setX"})," methods) allow you to tailor the behavior of assertions when they fail.\nThey always return the same assertion object."]}),"\n",(0,n.jsxs)(s.p,{children:["Transformed assertions inherit the configurations of the created-by assertions.\nConfiguration methods start with ",(0,n.jsx)(s.code,{children:"set"}),"."]}),"\n",(0,n.jsx)(s.admonition,{title:"Example",type:"tip",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-java",children:'// Customize the behavior of an assertion.\nassertString(myString)\n    .setMsg("My string was null.  Value was {VALUE}.")  // Custom error message when error occurs.\n    .setOut(myPrintWriter)  // Print error message to a separate writer.\n    .setThrowable(MyAssertionThrowable.class)  // Throw a customized assertion exception.\n    .isNotNull();\n'})})}),"\n",(0,n.jsxs)(s.p,{children:["The following shows the class hierarchy for the ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/IntegerAssertion.html",target:"_blank",children:"IntegerAssertion"})," class showing the general design pattern for assertion classes:"]}),"\n",(0,n.jsxs)("tree",{children:[(0,n.jsxs)("node-0",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertion.html",target:"_blank",children:"Assertion"})})," - Base class for all assertion objects containing common configuration methods."]}),(0,n.jsxs)("node-1",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentAssertion.html",target:"_blank",children:"FluentAssertion"})})," - Parent class for all fluent assertions."]}),(0,n.jsxs)("node-2",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentObjectAssertion.html",target:"_blank",children:"FluentObjectAssertion"})})," - Tests and transforms for general POJOs."]}),(0,n.jsxs)("node-3",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentComparableAssertion.html",target:"_blank",children:"FluentComparableAssertion<T extends Comparable,R>"})})," - Tests and transforms for Comparables."]}),(0,n.jsxs)("node-4",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentIntegerAssertion.html",target:"_blank",children:"FluentIntegerAssertion"})})," - Tests and transforms for Integers."]}),(0,n.jsxs)("node-5",{children:[(0,n.jsx)("java-class",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/IntegerAssertion.html",target:"_blank",children:"IntegerAssertion"})})," - Assertion that returns itself."]})]}),"\n",(0,n.jsxs)(s.p,{children:['In the design, the "Fluent" classes (e.g. ',(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentIntegerAssertion.html",target:"_blank",children:"FluentIntegerAssertion"}),") allow you to specify the object that gets returned when the test method is executed.\nWhen used in the ",(0,n.jsx)(s.code,{children:"RestClient"})," class for example, the return object is the ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html",target:"_blank",children:"RestResponse"}),' object so that you can perform multiple fluent operations against that object.\nThe "Normal" classes (e.g. ',(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/IntegerAssertion.html",target:"_blank",children:"IntegerAssertion"}),") are\nsimply subclasses of the fluent equivalent which return the assertion itself, meaning the test method returns the\noriginal ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/IntegerAssertion.html",target:"_blank",children:"IntegerAssertion"})," so that multiple tests can\nbe performed per assertion."]}),"\n",(0,n.jsxs)(s.p,{children:["For more information about the capabilities of the Assertions API, refer to the methods on the ",(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/Assertions.html",target:"_blank",children:"Assertions"})," methods above."]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);