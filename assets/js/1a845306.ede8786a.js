"use strict";(globalThis.webpackChunkjuneau_documentation=globalThis.webpackChunkjuneau_documentation||[]).push([[1503],{28453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>o});var t=s(96540);const n={},r=t.createContext(n);function i(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:a},e.children)}},68361:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"topics/02.11.08.SurrogateClasses","title":"Surrogate Classes","description":"Surrogate classes are very similar in concept to ObjectSwaps except they\'re simpler to define.","source":"@site/docs/topics/02.11.08.SurrogateClasses.md","sourceDirName":"topics","slug":"/topics/SurrogateClasses","permalink":"/docs/topics/SurrogateClasses","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/02.11.08.SurrogateClasses.md","tags":[],"version":"current","frontMatter":{"title":"Surrogate Classes","slug":"SurrogateClasses"},"sidebar":"mainSidebar","previous":{"title":"2.11.7. Templated Swaps","permalink":"/docs/topics/TemplatedSwaps"},"next":{"title":"2.12. Dynamically Applied Annotations","permalink":"/docs/topics/DynamicallyAppliedAnnotations"}}');var n=s(74848),r=s(28453);const i={title:"Surrogate Classes",slug:"SurrogateClasses"},o=void 0,l={},c=[];function u(e){const a={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Surrogate classes are very similar in concept to ",(0,n.jsx)(a.code,{children:"ObjectSwaps"})," except they're simpler to define."]}),"\n",(0,n.jsx)(a.p,{children:"For example, let's say we want to be able to serialize the following class but it's not serializable for some reason\n(for example, there are no properties exposed):"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:"// Not serializable because it's not a bean because it has no public properties.\npublic class MyNonSerializableClass {\n    protected String foo;\n}\n"})}),"\n",(0,n.jsxs)(a.p,{children:["This could be solved with the following ",(0,n.jsx)(a.code,{children:"ObjectSwap"}),"."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:"// A serializable bean with 1 property.\npublic class MySerializableSurrogate {\n    public String foo;\n}\n\n// An ObjectSwap that swaps out our non-serializable object with our serializable object.\npublic class MySwap extends ObjectSwap {\n    @Override /* ObjectSwap */\n    public MySerializableSurrogate swap(MyNonSerializableClass object) {\n        // Create some serializable class and manually copy the data into it.\n        MySerializableSurrogate surrogate = new MySerializableSurrogate();\n        surrogate.foo = object.foo;\n        return surrogate;\n    }\n}\n"})}),"\n",(0,n.jsx)(a.p,{children:"However, the same can be accomplished by using a surrogate class that simply contains a constructor with the\nnon-serializable class as an argument:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:"public class MySerializableSurrogate {\n    public String foo;\n\n    // Constructor takes in our non-serializable object!\n    public MySerializableSurrogate(MyNonSerializableClass object) {\n        this.foo = object.foo;\n    }\n}\n"})}),"\n",(0,n.jsxs)(a.p,{children:["The surrogate class is registered in the same way as a ",(0,n.jsx)(a.code,{children:"ObjectSwap"}),":"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:"// Create a JSON serializer that can serialize our unserializable object.\nWriterSerializer serializer = JsonSerializer\n    .create()\n    .swaps(MySerializableSurrogate.class)\n    .build();\n"})}),"\n",(0,n.jsx)(a.p,{children:"When the serializer encounters the non-serializable class, it will serialize an instance of the surrogate instead."}),"\n",(0,n.jsx)(a.admonition,{title:"See Also",type:"info",children:(0,n.jsx)("java-interface",{children:(0,n.jsx)("a",{href:"/site/apidocs/org/apache/juneau/swap/Surrogate.html",target:"_blank",children:"Surrogate"})})})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);