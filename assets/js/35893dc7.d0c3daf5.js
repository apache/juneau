"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[9509],{28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>l});var r=a(96540);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}},72221:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"topics/02.32.03.OpenApiSerializers","title":"OpenAPI Serializers","description":"The OpenApiSerializer class is used to convert POJOs to","source":"@site/docs/topics/02.32.03.OpenApiSerializers.md","sourceDirName":"topics","slug":"/topics/02.32.03.OpenApiSerializers","permalink":"/docs/topics/02.32.03.OpenApiSerializers","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs/topics/02.32.03.OpenApiSerializers.md","tags":[],"version":"current","frontMatter":{"title":"OpenAPI Serializers"},"sidebar":"tutorialSidebar","previous":{"title":"2.32.2. OpenAPI Methodology","permalink":"/docs/topics/02.32.02.OpenApiMethodology"},"next":{"title":"2.32.4. OpenAPI Parsers","permalink":"/docs/topics/02.32.04.OpenApiParsers"}}');var t=a(74848),i=a(28453);const s={title:"OpenAPI Serializers"},l=void 0,o={},c=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/oapi/OpenApiSerializer.html",children:"OpenApiSerializer"})," class is used to convert POJOs to\nHTTP parts."]}),"\n",(0,t.jsx)(n.p,{children:"The class hierarchy for the builder of this serializer is:"}),"\n",(0,t.jsxs)("tree",{children:[(0,t.jsx)("node-0",{children:(0,t.jsx)("java-abstract-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/...",children:"Context.Builder"})})}),(0,t.jsx)("node-1",{children:(0,t.jsx)("java-abstract-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/BeanContextable/Builder.html",children:"BeanContextable.Builder"})})}),(0,t.jsx)("node-2",{children:(0,t.jsx)("java-abstract-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/BeanTraverseContext/Builder.html",children:"BeanTraverseContext.Builder"})})}),(0,t.jsx)("node-3",{children:(0,t.jsx)("java-abstract-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/serializer/Serializer/Builder.html",children:"Serializer.Builder"})})}),(0,t.jsx)("node-4",{children:(0,t.jsx)("java-abstract-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/serializer/WriterSerializer/Builder.html",children:"WriterSerializer.Builder"})})}),(0,t.jsx)("node-5",{children:(0,t.jsx)("java-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/uon/UonSerializer/Builder.html",children:"UonSerializer.Builder"})})}),(0,t.jsx)("node-6",{children:(0,t.jsx)("java-class",{children:(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/oapi/OpenApiSerializer/Builder.html",children:"OpenApiSerializer.Builder"})})})]}),"\n",(0,t.jsx)(n.p,{children:"Refer to the builder javadocs for configurable settings."}),"\n",(0,t.jsx)(n.p,{children:"Later we'll describe how to use HTTP-Part annotations to define OpenAPI schemas for serialization and parsing of HTTP\nparts."}),"\n",(0,t.jsxs)(n.p,{children:["The following example is a preview showing an HTTP body defined as pipe-delimited list of comma-delimited numbers (e.g.\n",(0,t.jsx)(n.code,{children:'"1,2,3|4,5,6|7,8,9"'}),"):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'@RestPost("/2dLongArray")\npublic void post2dLongArray(\n    @Content(\n        schema=@Schema(\n            type="array",\n            collectionFormat="pipes",\n            items=@Items(\n                type="array",\n                collectionFormat="csv",\n                items=@SubItems(\n                    type="integer",\n                    format="int64",\n                    minimum="0",\n                    maximum="100"\n                    minLength=1,\n                    maxLength=10\n                )\n            )\n            minLength=1,\n            maxLength=10\n        )\n    )\n    Long[][] body\n) {...}\n\n// Alternate shortened format.\n@RestPost("/2dLongArray")\npublic void post2dLongArray(\n    @Content(\n        schema=@Schema(\n            t="array",\n            cf="pipes",\n            i=@Items(\n                t="array",\n                cf="csv",\n                i=@SubItems(\n                    t="integer",\n                    f="int64",\n                    min="0",\n                    max="100"\n                    minl=1,\n                    maxl=10\n                )\n            )\n            minl=1,\n            maxl=10\n        )\n    )\n    Long[][] body\n) {...}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Under-the-covers, this gets converted to the following schema object:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'HttpPartSchema schema = HttpPartSchema.create()\n    .items(\n        HttpPartSchema.create()\n            .type("array")\n            .collectionFormat("pipes")\n            .items(\n                HttpPartSchema.create()\n                    .type("array")\n                    .collectionFormat("csv")\n                    .items(\n                        HttpPartSchema.create()\n                            .type("integer")\n                            .format("int64")\n                            .minimum(0)\n                            .maximum(100)\n                            .minLength(1)\n                            .maxLength(10)\n                    )\n            )\n    )\n    .build();\n'})}),"\n",(0,t.jsx)(n.p,{children:"Various convenience methods exist for shortening this code."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"import static org.apache.juneau.http.HttpPartSchema.*;\n\nHttpPartSchema schema = tArrayPipes(\n    tArrayCsv(\n        tInt64().minimum(0).maximum(100).minLength(1).maxLength(10)\n    )\n).build();\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following code shows how the schema above can be used to create our pipe+csv list of numbers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// Our POJO being serialized.\nLong[][] input = ....\n\n// Convert POJO to a string.\ntry {\n    String httpPart = OpenApi.of(schema, input);\n} catch (SchemaValidationException e) {\n    // Oops, one of the restrictions were not met.\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["As a general rule, any POJO convertible to the intermediate type for the ",(0,t.jsx)(n.code,{children:"type/format"})," of the schema can be serialized\nusing the OpenAPI serializer."]}),"\n",(0,t.jsx)(n.p,{children:"Here are the rules of POJO types allowed for various type/format combinations:"}),"\n",(0,t.jsxs)("table",{class:"code-table",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Format"}),(0,t.jsx)("th",{children:"Valid parameter types"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{rowSpan:"4",children:[(0,t.jsx)(n.code,{children:"string"})," or empty"]}),(0,t.jsxs)("td",{children:[(0,t.jsx)(n.code,{children:"byte"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"binary"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"binary-spaced"})]}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.code,{children:"byte[]"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/io/InputStream.html",children:"InputStream"}),(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/io/Reader.html",children:"Reader"})," - Read into String and then converted using ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html#getBytes()",children:"String.getBytes()"}),(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Object.html",children:"Object"})," - Converted to String and then converted using ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html#getBytes()",children:"String.getBytes()"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.code,{children:"byte[]"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public byte[] toBytes() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public byte[] toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{children:[(0,t.jsx)(n.code,{children:"date"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"date-time"})]}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/util/Calendar.html",children:"Calendar"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/util/Date.html",children:"Date"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/util/Calendar.html",children:"Calendar"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Calendar toCalendar() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Calendar toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"uon"})}),(0,t.jsxs)("td",{children:["\u2022 Any ",(0,t.jsx)(n.a,{href:"/docs/topics/TODO",children:"TODO: Serializable POJO"})," type"]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"empty"}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public String toString() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)("td",{children:"empty"}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Boolean.html",children:"Boolean"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 boolean",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," - Converted to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Boolean.html",children:"Boolean"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Boolean.html",children:"Boolean"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Boolean toBoolean() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Boolean toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{rowSpan:"2",children:(0,t.jsx)(n.code,{children:"integer"})}),(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"int32"})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Integer.html",children:"Integer"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 int",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," - Converted to an ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Integer.html",children:"Integer"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to an ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Integer.html",children:"Integer"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Integer toInteger() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Integer toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"int64"})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Long.html",children:"Long"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 long",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," - Converted to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Long.html",children:"Long"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Long.html",children:"Long"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Long toLong() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Long toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{rowSpan:"2",children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"float"})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Float.html",children:"Float"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 float",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," - Converted to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Float.html",children:"Float"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Float.html",children:"Float"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Float toFloat() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Float toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"double"})}),(0,t.jsxs)("td",{children:[(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Double.html",children:"Double"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 double",(0,t.jsx)("br",{}),"\n\u2022 ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/String.html",children:"String"})," - Converted to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Double.html",children:"Double"}),(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a ",(0,t.jsx)(n.a,{href:"../apidocs/java/lang/Double.html",children:"Double"})," via:",(0,t.jsx)("br",{})]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Double toDouble() {...}"}),(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"public Double toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{})]}),"\n",(0,t.jsxs)(n.li,{children:["Any POJO transformable via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]}),"\n"]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{rowSpan:"2",children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)("td",{children:"empty"}),(0,t.jsx)("td",{children:(0,t.jsxs)(n.p,{children:["\u2022 Arrays or ",(0,t.jsx)(n.code,{children:"Collections"})," of any defaults on this list",(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to arrays of the default types (e.g. ",(0,t.jsx)(n.code,{children:"Integer[]"}),", ",(0,t.jsx)(n.code,{children:"Boolean[][]"}),", etc...)",(0,t.jsx)("br",{}),"\nFor example: ",(0,t.jsx)(n.code,{children:"public Boolean[][] toFoo() {...}"}),' (any method starting with "to")',(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to arrays of the default types via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"uon"})}),(0,t.jsxs)("td",{children:["\u2022 Any ",(0,t.jsx)(n.a,{href:"/docs/topics/TODO",children:"TODO: Serializable POJO"})," type"]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{rowSpan:"2",children:(0,t.jsx)(n.code,{children:"object"})}),(0,t.jsx)("td",{children:"empty"}),(0,t.jsx)("td",{children:(0,t.jsxs)(n.p,{children:["\u2022 ",(0,t.jsx)(n.code,{children:"Map<String,Object>"})," (default)",(0,t.jsx)("br",{}),"\n\u2022 Beans with properties of anything on this list",(0,t.jsx)("br",{}),"\n\u2022 Any POJO transformable to a map via an ",(0,t.jsx)(n.a,{href:"../apidocs/org/apache/juneau/swap/ObjectSwap.html",children:"ObjectSwap"})]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(n.code,{children:"uon"})}),(0,t.jsxs)("td",{children:["\u2022 Any ",(0,t.jsx)(n.a,{href:"/docs/topics/TODO",children:"TODO: Serializable POJO"})," type"]})]})]}),"\n",(0,t.jsx)(n.p,{children:'For arrays, an example of "Any POJO transformable to arrays of the default types" is:'}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// Sample POJO class convertable to a Long[][].\npublic class MyPojo {\n\n    // toX method used by serializer.\n    public Long[][] to2dLongs() {...}\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"In the example above, our POJO class can be used to create our pipe-delimited list of comma-delimited numbers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"// Our POJO being serialized.\nMyPojo input = ....\n\n// Convert POJO to a string.\ntry {\n    String httpPart = OpenApi.of(schema, input);\n} catch (SchemaValidationException e) {\n    // Oops, one of the restrictions were not met.\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"object"})," type is not officially part of the OpenAPI standard.\nHowever, Juneau supports serializing ",(0,t.jsx)(n.code,{children:"Maps"})," and beans to HTTP parts using UON notation.\nThe following shows an example of a bean with several properties of various types."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'public class MyBean {\n    private static byte[] FOOB = "foo".getBytes();\n\n    public String f1 = "foo";\n    public byte[] f2 = FOOB;\n    public byte[] f3 = FOOB;\n    public byte[] f4 = FOOB;\n    public Calendar f5 = parseIsoCalendar("2012-12-21T12:34:56Z");\n    public String f6 = "foo";\n    public int f7 = 1;\n    public Long f8 = 2l;\n    public float f9 = 1.0;\n    public Double f10 = 1.0;\n    public Boolean f11 = true;\n    public Object fExtra = "1";\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"We define the following schema:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import static org.apache.juneau.httppart.HttpPartSchema.*;\n\nHttpPartSchema schema = tObject()\n    .prop("f1", tString())\n    .prop("f2", tByte())\n    .prop("f3", tBinary())\n    .prop("f4", tBinarySpaced())\n    .prop("f5", tDateTime())\n    .prop("f6", tUon())\n    .prop("f7", tInteger())\n    .prop("f8", tInt64())\n    .prop("f9", tNumber())\n    .prop("f10", tDouble())\n    .prop("f11", tBoolean())\n    .ap(tInteger())\n    .build();\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then we serialize our bean:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:"String httpPart = OpenApi.of(schema, new MyBean());\n"})}),"\n",(0,t.jsx)(n.p,{children:"The results of this serialization is shown below:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"(\n    f1=foo,\n    f2=Zm9v,\n    f3=666F6F,\n    f4='66 6F 6F',\n    f5=2012-12-21T12:34:56Z,\n    f6=foo,\n    f7=1,\n    f8=2,\n    f9=1.0,\n    f10=1.0,\n    f11=true,\n    fExtra=1\n)\n"})}),"\n",(0,t.jsx)(n.p,{children:"The following is an example of a bean with various array property types:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'public class MyBean {\n    private static byte[] FOOB = "foo".getBytes();\n\n    public String[] f1 = {"a,b",null},\n    public byte[][] f2 = new byte[][]{FOOB,null},\n    public byte[][] f3 = new byte[][]{FOOB,null},\n    public byte[][] f4 = new byte[][]{FOOB,null},\n    public Calendar[] f5 = new Calendar[]{parseIsoCalendar("2012-12-21T12:34:56Z"),null},\n    public String[] f6 = {"a","b",null},\n    public int[] f7 = new int[]{1,2,null},\n    public Integer[] f8 = new Integer[]{3,4,null},\n    public float[] f9 = new float[]{1f,2f,null},\n    public Float[] f10 = new Float[]{3f,4f,null},\n    public Boolean[] f11 = new Boolean[]{true,false,null},\n    public Object[] fExtra = new Object[]{1,"2",null};\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"For this bean, we define the following schema:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",children:'import static org.apache.juneau.httppart.HttpPartSchema.*;\n\nHttpPartSchema schema = tObject()\n    .prop("f1", tArray(tString()))\n    .prop("f2", tArray(tByte()))\n    .prop("f3", tArray(tBinary()))\n    .prop("f4", tArray(tBinarySpaced()))\n    .prop("f5", tArray(tDateTime()))\n    .prop("f6", tArray(tUon()))\n    .prop("f7", tArray(tInteger()))\n    .prop("f8", tArray(tInt64()))\n    .prop("f9", tArray(tNumber()))\n    .prop("f10", tArray(tDouble()))\n    .prop("f11", tArray(tBoolean()))\n    .ap(tArray(tInteger()))\n    .build();\n'})}),"\n",(0,t.jsx)(n.p,{children:"Serializing this bean produces the following output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"(\n    f1=@('a,b',null),\n    f2=@(Zm9v,null),\n    f4=@(2012-12-21T12:34:56Z,null),\n    f5=@(666F6F,null),\n    f6=@('66 6F 6F',null),\n    f7=@(a,b,null),\n    f8=@(1,2,null),\n    f9=@(3,4,null),\n    f10=@(1.0,2.0,null),\n    f11=@(3.0,4.0,null),\n    f12=@(true,false,null),\n    fExtra=@(1,2,null)\n)\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Array properties can also use CSV/SSV/PIPES for array notation."}),"\n",(0,t.jsx)(n.li,{children:"Various notations can be mixed throughout."}),"\n",(0,t.jsx)(n.li,{children:"Schemas and POJOs can be defined arbitrarily deep."}),"\n",(0,t.jsx)(n.li,{children:"Schemas are optional.  They can be skipped or partially defined."}),"\n"]})}),"\n",(0,t.jsxs)(n.p,{children:["We make our best attempt to convert the input to the matching type.\nHowever, you will get ",(0,t.jsx)(n.code,{children:"SerializeExceptions"})," if you attempt an impossible conversion. (e.g. trying to serialize the\nstring ",(0,t.jsx)(n.code,{children:'"foo"'})," as a boolean)."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);