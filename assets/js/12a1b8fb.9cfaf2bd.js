"use strict";(globalThis.webpackChunkjuneau_documentation=globalThis.webpackChunkjuneau_documentation||[]).push([[2454],{19873:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"developer-info/04.02.02.ScriptPush","title":"push.py","description":"push.py automates the complete build, test, and deployment workflow for Juneau, ensuring code quality before pushing changes to the remote repository.","source":"@site/pages/developer-info/04.02.02.ScriptPush.md","sourceDirName":"developer-info","slug":"/developer-info/ScriptPush","permalink":"/docs/developer-info/ScriptPush","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/docs/pages/developer-info/04.02.02.ScriptPush.md","tags":[],"version":"current","frontMatter":{"title":"push.py","slug":"ScriptPush"},"sidebar":"mainSidebar","previous":{"title":"4.2.1. test.py","permalink":"/docs/developer-info/ScriptTest"},"next":{"title":"4.2.3. release.py","permalink":"/docs/developer-info/ScriptRelease"}}');var t=s(74848),l=s(28453);const r={title:"push.py",slug:"ScriptPush"},o=void 0,d={},c=[{value:"What It Does",id:"what-it-does",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Skip Tests (for documentation-only changes)",id:"skip-tests-for-documentation-only-changes",level:3},{value:"Dry Run (see what would happen without actually doing it)",id:"dry-run-see-what-would-happen-without-actually-doing-it",level:3},{value:"Command-Line Options",id:"command-line-options",level:2},{value:"Required Arguments",id:"required-arguments",level:3},{value:"Optional Flags",id:"optional-flags",level:3},{value:"When to Use",id:"when-to-use",level:2},{value:"Use the full script when:",id:"use-the-full-script-when",level:3},{value:"Use <code>--skip-tests</code> when:",id:"use---skip-tests-when",level:3},{value:"Use <code>--dry-run</code> when:",id:"use---dry-run-when",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Safety Features",id:"safety-features",level:2}];function a(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"push.py"})," automates the complete build, test, and deployment workflow for Juneau, ensuring code quality before pushing changes to the remote repository."]}),"\n",(0,t.jsx)(n.h2,{id:"what-it-does",children:"What It Does"}),"\n",(0,t.jsx)(n.p,{children:"The script executes the following steps in order:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Run Tests"})," - Executes ",(0,t.jsx)(n.code,{children:"mvn test"})," to ensure all tests pass (optional with ",(0,t.jsx)(n.code,{children:"--skip-tests"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Build and Install"})," - Runs ",(0,t.jsx)(n.code,{children:"mvn clean package install"})," to build the project"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Git Commit"})," - Stages all changes and commits with the provided message"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Git Push"})," - Pushes the commit to the remote repository"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If any step fails, the script stops immediately and reports the failure."}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'cd /Users/james.bognar/git/juneau\npython3 scripts/push.py "Your commit message here"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"skip-tests-for-documentation-only-changes",children:"Skip Tests (for documentation-only changes)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'python3 scripts/push.py "Updated README" --skip-tests\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dry-run-see-what-would-happen-without-actually-doing-it",children:"Dry Run (see what would happen without actually doing it)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'python3 scripts/push.py "Testing changes" --dry-run\n'})}),"\n",(0,t.jsx)(n.h2,{id:"command-line-options",children:"Command-Line Options"}),"\n",(0,t.jsx)(n.h3,{id:"required-arguments",children:"Required Arguments"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"message"})," - The Git commit message (must be provided)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"optional-flags",children:"Optional Flags"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--skip-tests"})," - Skip running tests (useful for documentation-only changes)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"--dry-run"})," - Show what would be done without actually executing commands"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,t.jsx)(n.h3,{id:"use-the-full-script-when",children:"Use the full script when:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Making code changes that affect functionality"}),"\n",(0,t.jsx)(n.li,{children:"Adding new features"}),"\n",(0,t.jsx)(n.li,{children:"Fixing bugs"}),"\n",(0,t.jsx)(n.li,{children:"Refactoring code"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"use---skip-tests-when",children:["Use ",(0,t.jsx)(n.code,{children:"--skip-tests"})," when:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Only updating documentation (README, markdown files)"}),"\n",(0,t.jsx)(n.li,{children:"Making cosmetic changes (formatting, comments)"}),"\n",(0,t.jsx)(n.li,{children:"Tests have already been run successfully in another context"}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"use---dry-run-when",children:["Use ",(0,t.jsx)(n.code,{children:"--dry-run"})," when:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Testing the script itself"}),"\n",(0,t.jsx)(n.li,{children:"Verifying what steps will be executed"}),"\n",(0,t.jsx)(n.li,{children:"Learning how the script works"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Python 3.6 or higher"}),"\n",(0,t.jsx)(n.li,{children:"Maven (mvn command must be in PATH)"}),"\n",(0,t.jsx)(n.li,{children:"Git (git command must be in PATH)"}),"\n",(0,t.jsx)(n.li,{children:"No external Python dependencies (uses only standard library)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"0"})," - Success, all operations completed"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"1"})," - Failure at any step"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"safety-features",children:"Safety Features"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No Changes Detection"})," - If there are no changes to commit, the script skips commit and push steps"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Fail-Fast"})," - Stops immediately on any error to prevent incomplete deployments"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Clear Output"})," - Each step is clearly marked with emojis and status indicators"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Dry Run Mode"})," - Preview what will happen without making any changes"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var i=s(96540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);