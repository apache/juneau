"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[1878],{1414:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/jrs.Swagger.Models.2-ba6367ebb79488345bde980cb744668c.png"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},32542:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"topics/08.16.08.SwaggerModels","title":"Swagger Models","description":"The JsonSchemaGenerator.Builder.useBeanDefs()","source":"@site/docs/topics/08.16.08.SwaggerModels.md","sourceDirName":"topics","slug":"/topics/SwaggerModels","permalink":"/docs/topics/SwaggerModels","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/08.16.08.SwaggerModels.md","tags":[],"version":"current","frontMatter":{"title":"Swagger Models","slug":"SwaggerModels"},"sidebar":"mainSidebar","previous":{"title":"8.16.7. Swagger Responses","permalink":"/docs/topics/SwaggerResponses"},"next":{"title":"8.16.9. Swagger Stylesheet","permalink":"/docs/topics/SwaggerStylesheet"}}');var r=t(74848),o=t(28453);const i={title:"Swagger Models",slug:"SwaggerModels"},a=void 0,d={},c=[{value:"Models section",id:"models-section",level:4},{value:"Models section with Order bean expanded",id:"models-section-with-order-bean-expanded",level:4}];function l(e){const n={code:"code",h4:"h4",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)("a",{href:"/site/apidocs/org/apache/juneau/jsonschema/JsonSchemaGenerator.Builder.html#useBeanDefs()",target:"_blank",children:"JsonSchemaGenerator.Builder.useBeanDefs()"}),"\nsetting can be used to reduce the size of your generated Swagger JSON files by creating model definitions for beans and\nreferencing those definitions through ",(0,r.jsx)(n.code,{children:"$ref"})," attributes."]}),"\n",(0,r.jsxs)(n.p,{children:["This setting is disabled by default but can be set on the ",(0,r.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/RestContext.Builder.html",target:"_blank",children:"RestContext.Builder"})," object:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",children:"@HookEvent(INIT)\npublic void init(RestContext.Builder builder) {\n    builder.jsonSchemaGenerator().useBeanDefs();\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"In the Swagger UI, this causes bean definitions to show up in the Models section at the bottom of the page:"}),"\n",(0,r.jsx)(n.h4,{id:"models-section",children:"Models section"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Models section",src:t(82621).A+"",width:"1800",height:"894"})}),"\n",(0,r.jsx)(n.h4,{id:"models-section-with-order-bean-expanded",children:"Models section with Order bean expanded"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Models section with Order bean expanded",src:t(1414).A+"",width:"1800",height:"842"})}),"\n",(0,r.jsxs)(n.p,{children:["In the generated Swagger JSON, embedded schema information for beans will be replaced with references such as the one\nshown below for the ",(0,r.jsx)(n.code,{children:"Order"})," bean:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "swagger": "2.0",\n    "paths": {\n        "/store/order": {\n            "get": {\n                "operationId": "getOrders",\n                "summary": "Petstore orders",\n                "responses": {\n                    "200": {\n                        "description": "OK",\n                        "schema": {\n                            "description": "java.util.Collection",\n                            "type": "array",\n                            "items": {\n                                "$ref": "#/definitions/Order"\n                            }\n                        },\n                        ...\n                    ...\n                ...\n            ...\n        ...\n    },\n    "definitions": {\n        "Order": {\n            "type": "object",\n            "properties": {\n                "id": {\n                    "type": "integer",\n                    "format": "int64"\n                },\n                "petId": {\n                    "type": "integer",\n                    "format": "int64"\n                },\n                "shipDate": {\n                    "type": "string"\n                },\n                "status": {\n                    "type": "string",\n                    "enum": [\n                        "PLACED",\n                        "APPROVED",\n                        "DELIVERED"\n                    ]\n                }\n            },\n            "description": "org.apache.juneau.examples.rest.petstore.Order",\n            "example": {\n                "id": 123,\n                "petId": 456,\n                "shipDate": "2012-12-21",\n                "status": "APPROVED"\n            }\n        },\n    ...\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Note that this does not affect how the information is rendered for that bean in the Swagger UI:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Order bean rendered in Swagger UI",src:t(82959).A+"",width:"1800",height:"1404"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},82621:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/jrs.Swagger.Models.1-a86ae25e39ff1a4d407997d3da4f4264.png"},82959:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/jrs.Swagger.Models.3-80d8e6394fe7094f915fd011b779f91d.png"}}]);