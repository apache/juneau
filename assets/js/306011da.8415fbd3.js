"use strict";(globalThis.webpackChunkjuneau_documentation=globalThis.webpackChunkjuneau_documentation||[]).push([[1183],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>c});var i=n(96540);const t={},l=i.createContext(t);function a(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(l.Provider,{value:s},e.children)}},74989:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"topics/23.02.00.ScriptPush","title":"push.py","description":"push.py automates the complete build, test, and deployment workflow for Juneau, ensuring code quality before pushing changes to the remote repository.","source":"@site/pages/topics/23.02.00.ScriptPush.md","sourceDirName":"topics","slug":"/topics/ScriptPush","permalink":"/docs/topics/ScriptPush","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/docs/pages/topics/23.02.00.ScriptPush.md","tags":[],"version":"current","frontMatter":{"title":"push.py","slug":"ScriptPush"},"sidebar":"mainSidebar","previous":{"title":"23.1. test.py","permalink":"/docs/topics/ScriptTest"},"next":{"title":"23.3. release.py","permalink":"/docs/topics/ScriptRelease"}}');var t=n(74848),l=n(28453);const a={title:"push.py",slug:"ScriptPush"},c=void 0,r={},o=[{value:"What It Does",id:"what-it-does",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Skip Tests (for documentation-only changes)",id:"skip-tests-for-documentation-only-changes",level:3},{value:"Skip Javadoc Generation",id:"skip-javadoc-generation",level:3},{value:"Skip Both Tests and Javadoc",id:"skip-both-tests-and-javadoc",level:3},{value:"Dry Run (see what would happen without actually doing it)",id:"dry-run-see-what-would-happen-without-actually-doing-it",level:3},{value:"Command-Line Options",id:"command-line-options",level:2},{value:"Required Arguments",id:"required-arguments",level:3},{value:"Optional Flags",id:"optional-flags",level:3},{value:"When to Use",id:"when-to-use",level:2},{value:"Use the full script when:",id:"use-the-full-script-when",level:3},{value:"Use <code>--skip-tests</code> when:",id:"use---skip-tests-when",level:3},{value:"Use <code>--skip-javadoc</code> when:",id:"use---skip-javadoc-when",level:3},{value:"Use <code>--dry-run</code> when:",id:"use---dry-run-when",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Safety Features",id:"safety-features",level:2}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"push.py"})," automates the complete build, test, and deployment workflow for Juneau, ensuring code quality before pushing changes to the remote repository."]}),"\n",(0,t.jsx)(s.h2,{id:"what-it-does",children:"What It Does"}),"\n",(0,t.jsx)(s.p,{children:"The script executes the following steps in order:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Run Tests"})," - Executes ",(0,t.jsx)(s.code,{children:"mvn test"})," to ensure all tests pass"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Build and Install"})," - Runs ",(0,t.jsx)(s.code,{children:"mvn clean package install"})," to build the project"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Generate Javadocs"})," - Executes ",(0,t.jsx)(s.code,{children:"mvn javadoc:javadoc"})," to create API documentation"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Git Commit"})," - Stages all changes and commits with the provided message"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Git Push"})," - Pushes the commit to the remote repository"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"If any step fails, the script stops immediately and reports the failure."}),"\n",(0,t.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(s.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'cd /Users/james.bognar/git/juneau\npython3 scripts/push.py "Your commit message here"\n'})}),"\n",(0,t.jsx)(s.h3,{id:"skip-tests-for-documentation-only-changes",children:"Skip Tests (for documentation-only changes)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'python3 scripts/push.py "Updated README" --skip-tests\n'})}),"\n",(0,t.jsx)(s.h3,{id:"skip-javadoc-generation",children:"Skip Javadoc Generation"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'python3 scripts/push.py "Minor code fix" --skip-javadoc\n'})}),"\n",(0,t.jsx)(s.h3,{id:"skip-both-tests-and-javadoc",children:"Skip Both Tests and Javadoc"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'python3 scripts/push.py "Quick formatting fix" --skip-tests --skip-javadoc\n'})}),"\n",(0,t.jsx)(s.h3,{id:"dry-run-see-what-would-happen-without-actually-doing-it",children:"Dry Run (see what would happen without actually doing it)"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'python3 scripts/push.py "Testing changes" --dry-run\n'})}),"\n",(0,t.jsx)(s.h2,{id:"command-line-options",children:"Command-Line Options"}),"\n",(0,t.jsx)(s.h3,{id:"required-arguments",children:"Required Arguments"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"message"})," - The Git commit message (must be provided)"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"optional-flags",children:"Optional Flags"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"--skip-tests"})," - Skip running tests (useful for documentation-only changes)"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"--skip-javadoc"})," - Skip Javadoc generation"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"--dry-run"})," - Show what would be done without actually executing commands"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,t.jsx)(s.h3,{id:"use-the-full-script-when",children:"Use the full script when:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Making code changes that affect functionality"}),"\n",(0,t.jsx)(s.li,{children:"Adding new features"}),"\n",(0,t.jsx)(s.li,{children:"Fixing bugs"}),"\n",(0,t.jsx)(s.li,{children:"Refactoring code"}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"use---skip-tests-when",children:["Use ",(0,t.jsx)(s.code,{children:"--skip-tests"})," when:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Only updating documentation (README, Javadocs, markdown files)"}),"\n",(0,t.jsx)(s.li,{children:"Making cosmetic changes (formatting, comments)"}),"\n",(0,t.jsx)(s.li,{children:"Tests have already been run successfully in another context"}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"use---skip-javadoc-when",children:["Use ",(0,t.jsx)(s.code,{children:"--skip-javadoc"})," when:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Making changes that don't affect public APIs"}),"\n",(0,t.jsx)(s.li,{children:"Quick bug fixes"}),"\n",(0,t.jsx)(s.li,{children:"Internal code refactoring"}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"use---dry-run-when",children:["Use ",(0,t.jsx)(s.code,{children:"--dry-run"})," when:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Testing the script itself"}),"\n",(0,t.jsx)(s.li,{children:"Verifying what steps will be executed"}),"\n",(0,t.jsx)(s.li,{children:"Learning how the script works"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Python 3.6 or higher"}),"\n",(0,t.jsx)(s.li,{children:"Maven (mvn command must be in PATH)"}),"\n",(0,t.jsx)(s.li,{children:"Git (git command must be in PATH)"}),"\n",(0,t.jsx)(s.li,{children:"No external Python dependencies (uses only standard library)"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"0"})," - Success, all operations completed"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"1"})," - Failure at any step"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"safety-features",children:"Safety Features"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No Changes Detection"})," - If there are no changes to commit, the script skips commit and push steps"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Fail-Fast"})," - Stops immediately on any error to prevent incomplete deployments"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Clear Output"})," - Each step is clearly marked with emojis and status indicators"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Dry Run Mode"})," - Preview what will happen without making any changes"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);