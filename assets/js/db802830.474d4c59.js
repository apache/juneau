"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[9350],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>i});var t=s(96540);const a={},r=t.createContext(a);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},41406:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"topics/10.07.00.ResponseContent","title":"Response Content","description":"The response body is accessed through the following method:","source":"@site/docs-staging/topics/10.07.00.ResponseContent.md","sourceDirName":"topics","slug":"/topics/10.07.00.ResponseContent","permalink":"/docs/topics/10.07.00.ResponseContent","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs-staging/topics/10.07.00.ResponseContent.md","tags":[],"version":"current","frontMatter":{"title":"Response Content"},"sidebar":"mainSidebar","previous":{"title":"10.6. Response Headers","permalink":"/docs/topics/10.06.00.ResponseHeaders"},"next":{"title":"10.8. Custom Call Handlers","permalink":"/docs/topics/10.08.00.CustomCallHandlers"}}');var a=s(74848),r=s(28453);const o={title:"Response Content"},i=void 0,c={},l=[];function h(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"The response body is accessed through the following method:"}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/RestResponse.html",children:"RestResponse"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/RestResponse.html#getContent()",children:"getContent()"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html",children:"ResponseContent"})]})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html",children:"ResponseContent"})," class extends from the HttpClient ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/http/HttpEntity.html",children:"HttpEntity"})," class and provides several convenience methods:"]}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html",children:"ResponseContent"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asInputStream()",children:"asInputStream()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"InputStream"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asReader()",children:"asReader()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Reader"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asReader(Charset)",children:"asReader(Charset)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Reader"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#pipeTo(OutputStream)",children:"pipeTo(OutputStream)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/RestResponse.html",children:"RestResponse"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#pipeTo(Writer)",children:"pipeTo(Writer)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/RestResponse.html",children:"RestResponse"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#as(Type,Type...)",children:"as(Type,Type...)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"T"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#as(Class)",children:"as(Class)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"T"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asFuture(Class)",children:"asFuture(Class)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<T>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asFuture(Type,Type...)",children:"asFuture(Type,Type...)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<T>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asString()",children:"asString()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"String"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asStringFuture()",children:"asStringFuture()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<String>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asAbbreviatedString(int)",children:"asAbbreviatedString(int)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"String"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asMatcher(Pattern)",children:"asMatcher(Pattern)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/java/util/regex/Matcher.html",children:"Matcher"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asMatcher(String)",children:"asMatcher(String)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/java/util/regex/Matcher.html",children:"Matcher"})]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Examples",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Parse into a bean.\nMyBean bean = client\n    .get(URI)\n    .run()\n    .getContent().as(MyBean.class);\n\n// Parse into a linked-list of strings.\nList<String> list1 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, String.class);\n\n// Parse into a linked-list of beans.\nList<MyBean> list2 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, MyBean.class);\n\n// Parse into a linked-list of linked-lists of strings.\nList<List<String>> list3 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, LinkedList.class, String.class);\n\n// Parse into a map of string keys/values.\nMap<String,String> map1 = client\n    .get(URI)\n    .run()\n    .getContent().as(TreeMap.class, String.class, String.class);\n\n// Parse into a map containing string keys and values of lists containing beans.\nMap<String,List<MyBean>> map2 = client\n    .get(URI)\n    .run()\n    .getContent().as(TreeMap.class, String.class, List.class, MyBean.class);\n"})})}),"\n",(0,a.jsx)(n.p,{children:"The response body can only be consumed once unless it has been cached into memory."}),"\n",(0,a.jsxs)(n.p,{children:["In many cases, the body is automatically cached when using the assertions methods or methods such as ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#asString()",children:"ResponseContent.asString()"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"However, methods that involve reading directly from the input stream cannot be called twice."}),"\n",(0,a.jsxs)(n.p,{children:["In these cases, the ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/RestResponse.html#cacheContent()",children:"RestResponse.cacheContent()"})," and ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#cache()",children:"ResponseContent.cache()"})," methods are provided to cache the response body in memory so that you can perform several operations against it."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Cache the response body so we can access it twice.\nInputStream inputStream = client\n    .get(URI)\n    .run()\n    .cacheContent()\n    .getContent().pipeTo(someOtherStream)\n    .getContent().asInputStream();\n"})}),"\n",(0,a.jsx)(n.p,{children:"Assertion methods are also provided for fluent-style calls:"}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html",children:"ResponseContent"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertString()",children:"assertString()"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/assertions/FluentStringAssertion.html",children:"FluentStringAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertBytes()",children:"assertBytes()"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/assertions/FluentByteArrayAssertion.html",children:"FluentByteArrayAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertObject(Class)",children:"assertObject(Class)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/assertions/FluentObjectAssertion.html",children:"FluentObjectAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertObject(Type,Type...)",children:"assertObject(Type,Type...)"})})," \u2192 ",(0,a.jsx)(n.a,{href:"../apidocs/org/apache/juneau/assertions/FluentObjectAssertion.html",children:"FluentObjectAssertion"})]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Example",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Assert that the body contains the string "Success".\nString content = client\n    .get(URI)\n    .run()\n    .getContent().assertString().contains("Success")\n    .getContent().asString();\n'})})}),"\n",(0,a.jsx)(n.p,{children:"Object assertions allow you to parse the response body into a POJO and then perform various tests on that resulting\nPOJO."}),"\n",(0,a.jsx)(n.admonition,{title:"Example",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Parse bean into POJO and then validate that it was parsed correctly.\nMyBean bean = client.get(URI)\n    .run()\n    .getContent().assertObject(MyBean.class).asJson().is(\"{foo:'bar'}\")\n    .getContent().as(MyBean.class);\n"})})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}}}]);