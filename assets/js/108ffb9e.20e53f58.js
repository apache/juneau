"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[3432],{25288:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"topics/10.10.01.RestProxyBasics","title":"REST Proxy Basics","description":"One of the more powerful features of the REST client class is the ability to produce Java interface proxies against","source":"@site/docs/topics/10.10.01.RestProxyBasics.md","sourceDirName":"topics","slug":"/topics/10.10.01.RestProxyBasics","permalink":"/docs/topics/10.10.01.RestProxyBasics","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs/topics/10.10.01.RestProxyBasics.md","tags":[],"version":"current","frontMatter":{"title":"REST Proxy Basics"},"sidebar":"tutorialSidebar","previous":{"title":"10.9. Interceptors","permalink":"/docs/topics/10.09.00.Interceptors"},"next":{"title":"10.10.2. @Remote","permalink":"/docs/topics/10.10.02.Remote"}}');var o=n(74848),s=n(28453);const r={title:"REST Proxy Basics"},i=void 0,c={},l=[];function d(e){const t={a:"a",admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"One of the more powerful features of the REST client class is the ability to produce Java interface proxies against\narbitrary 3rd party REST resources."}),"\n",(0,o.jsx)(t.p,{children:"The methods to retrieve remote interfaces are:"}),"\n",(0,o.jsxs)("tree",{children:[(0,o.jsx)("node-0",{children:(0,o.jsx)("java-class",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/rest/client/RestClient.html",children:"RestClient"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/rest/client/RestClient.html#getRemote(Class)",children:"getRemote(Class)"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/rest/client/RestClient.html#getRemote(Class,Object)",children:"getRemote(Class,Object)"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/rest/client/RestClient.html#getRemote(Class,Object,Serializer,Parser)",children:"getRemote(Class,Object,Serializer,Parser)"})})})]}),"\n",(0,o.jsx)(t.p,{children:"Annotations are used on the interface and interface methods to specify how to convert input and output to HTTP headers,\nquery parameters, form post parameters, or request/response bodies:"}),"\n",(0,o.jsxs)("tree",{children:[(0,o.jsxs)("node-0",{children:[(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/remote/Remote.html",children:"Remote"})})," - Applied to interface class."]}),(0,o.jsxs)("node-0",{children:[(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/remote/RemoteOp.html",children:"RemoteOp"})})," - Applied to interface methods."]}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Content.html",children:"Content"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Header.html",children:"Header"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/FormData.html",children:"FormData"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Query.html",children:"Query"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Path.html",children:"Path"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Request.html",children:"Request"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-annotation",{children:(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/annotation/Response.html",children:"Response"})})})]}),"\n",(0,o.jsxs)(t.admonition,{title:"Example",type:"tip",children:[(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-java",children:'@Remote(path="/petstore")\npublic interface PetStore {\n\n    @RemotePost("/pets")\n    Pet addPet(\n        @Content CreatePet createPet,\n        @Header("E-Tag") UUID etag,\n        @Query("debug") boolean debug\n    );\n}\n'})}),(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-java",children:'// Use a RestClient with default JSON 5 support.\nRestClient client = RestClient.create().json5().build();\n\n// Instantiate our proxy interface.\nPetStore store = client.getRemote(PetStore.class, "http://localhost:10000");\n\n// Use it to create a pet.\nCreatePet createPet = new CreatePet("Fluffy", 9.99);\nPet pet = store.addPet(createPet, UUID.randomUUID(), true);\n'})})]}),"\n",(0,o.jsx)(t.p,{children:"The call above translates to the following REST call:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-text",children:"POST http://localhost:10000/petstore/pets?debug=true HTTP/1.1\nAccept: application/json\nContent-Type: application/json\nE-Tag: 475588d4-0b27-4f56-9296-cc683251d314\n\n{\n    name: 'Fluffy',\n    price: 9.99\n}\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.a,{href:"../apidocs/org/apache/juneau/http/remote/RemoteOp.html",children:"@RemoteOp"})," annotations can be eliminated if you use specific naming conventions on your method names to identify\nthe HTTP method and path."]}),"\n",(0,o.jsx)(t.admonition,{title:"Example",type:"tip",children:(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-java",children:'@Remote(path="/petstore")\npublic interface PetStore {\n\n    // @RemoteOp optional since method and path is inferred from method name.\n    String postPets(@Content CreatePet pet);\n}\n'})})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var a=n(96540);const o={},s=a.createContext(o);function r(e){const t=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),a.createElement(s.Provider,{value:t},e.children)}}}]);