"use strict";(globalThis.webpackChunkjuneau_documentation=globalThis.webpackChunkjuneau_documentation||[]).push([[9159],{12765:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"topics/11.07.00.ResponseContent","title":"Response Content","description":"The response body is accessed through the following method:","source":"@site/docs/topics/11.07.00.ResponseContent.md","sourceDirName":"topics","slug":"/topics/ResponseContent","permalink":"/docs/topics/ResponseContent","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/11.07.00.ResponseContent.md","tags":[],"version":"current","frontMatter":{"title":"Response Content","slug":"ResponseContent"},"sidebar":"mainSidebar","previous":{"title":"11.6. Response Headers","permalink":"/docs/topics/ResponseHeaders"},"next":{"title":"11.8. Custom Call Handlers","permalink":"/docs/topics/CustomCallHandlers"}}');var a=t(74848),r=t(28453);const o={title:"Response Content",slug:"ResponseContent"},i=void 0,c={},l=[];function h(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"The response body is accessed through the following method:"}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html",target:"_blank",children:"RestResponse"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html#getContent()",target:"_blank",children:"getContent()"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html",target:"_blank",children:"ResponseContent"})]})]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html",target:"_blank",children:"ResponseContent"})," class extends from the HttpClient ",(0,a.jsx)("a",{href:"https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/HttpEntity.html",target:"_blank",children:"HttpEntity"})," class and provides several convenience methods:"]}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html",target:"_blank",children:"ResponseContent"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asInputStream()",target:"_blank",children:"asInputStream()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"InputStream"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asReader()",target:"_blank",children:"asReader()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Reader"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asReader()",target:"_blank",children:"asReader(Charset)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Reader"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#pipeTo(java.io.OutputStream)",target:"_blank",children:"pipeTo(OutputStream)"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html",target:"_blank",children:"RestResponse"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#pipeTo(java.io.OutputStream)",target:"_blank",children:"pipeTo(Writer)"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html",target:"_blank",children:"RestResponse"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#as(java.lang.Class)",target:"_blank",children:"as(Type,Type...)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"T"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#as(java.lang.Class)",target:"_blank",children:"as(Class)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"T"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asFuture(java.lang.Class)",target:"_blank",children:"asFuture(Class)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<T>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asFuture(java.lang.Class)",target:"_blank",children:"asFuture(Type,Type...)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<T>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asString()",target:"_blank",children:"asString()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"String"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asStringFuture()",target:"_blank",children:"asStringFuture()"})})," \u2192 ",(0,a.jsx)(n.code,{children:"Future<String>"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asAbbreviatedString(int)",target:"_blank",children:"asAbbreviatedString(int)"})})," \u2192 ",(0,a.jsx)(n.code,{children:"String"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asMatcher(java.lang.String)",target:"_blank",children:"asMatcher(Pattern)"})})," \u2192 ",(0,a.jsx)("a",{href:"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html",target:"_blank",children:"Matcher"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asMatcher(java.lang.String)",target:"_blank",children:"asMatcher(String)"})})," \u2192 ",(0,a.jsx)("a",{href:"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html",target:"_blank",children:"Matcher"})]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Examples",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Parse into a bean.\nMyBean bean = client\n    .get(URI)\n    .run()\n    .getContent().as(MyBean.class);\n\n// Parse into a linked-list of strings.\nList<String> list1 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, String.class);\n\n// Parse into a linked-list of beans.\nList<MyBean> list2 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, MyBean.class);\n\n// Parse into a linked-list of linked-lists of strings.\nList<List<String>> list3 = client\n    .get(URI)\n    .run()\n    .getContent().as(LinkedList.class, LinkedList.class, String.class);\n\n// Parse into a map of string keys/values.\nMap<String,String> map1 = client\n    .get(URI)\n    .run()\n    .getContent().as(TreeMap.class, String.class, String.class);\n\n// Parse into a map containing string keys and values of lists containing beans.\nMap<String,List<MyBean>> map2 = client\n    .get(URI)\n    .run()\n    .getContent().as(TreeMap.class, String.class, List.class, MyBean.class);\n"})})}),"\n",(0,a.jsx)(n.p,{children:"The response body can only be consumed once unless it has been cached into memory."}),"\n",(0,a.jsxs)(n.p,{children:["In many cases, the body is automatically cached when using the assertions methods or methods such as ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#asString()",target:"_blank",children:"ResponseContent.asString()"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"However, methods that involve reading directly from the input stream cannot be called twice."}),"\n",(0,a.jsxs)(n.p,{children:["In these cases, the ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/RestResponse.html#cacheContent()",target:"_blank",children:"RestResponse.cacheContent()"})," and ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#cache()",target:"_blank",children:"ResponseContent.cache()"})," methods are provided to cache the response body in memory so that you can perform several operations against it."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Cache the response body so we can access it twice.\nInputStream inputStream = client\n    .get(URI)\n    .run()\n    .cacheContent()\n    .getContent().pipeTo(someOtherStream)\n    .getContent().asInputStream();\n"})}),"\n",(0,a.jsx)(n.p,{children:"Assertion methods are also provided for fluent-style calls:"}),"\n",(0,a.jsxs)("tree",{children:[(0,a.jsx)("node-0",{children:(0,a.jsx)("java-class",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html",target:"_blank",children:"ResponseContent"})})}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertString()",target:"_blank",children:"assertString()"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentStringAssertion.html",target:"_blank",children:"FluentStringAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertBytes()",target:"_blank",children:"assertBytes()"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentByteArrayAssertion.html",target:"_blank",children:"FluentByteArrayAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertObject(java.lang.Class)",target:"_blank",children:"assertObject(Class)"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentObjectAssertion.html",target:"_blank",children:"FluentObjectAssertion"})]}),(0,a.jsxs)("node-1",{children:[(0,a.jsx)("java-method",{children:(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/client/ResponseContent.html#assertObject(java.lang.Class)",target:"_blank",children:"assertObject(Type,Type...)"})})," \u2192 ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/assertions/FluentObjectAssertion.html",target:"_blank",children:"FluentObjectAssertion"})]})]}),"\n",(0,a.jsx)(n.admonition,{title:"Example",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'// Assert that the body contains the string "Success".\nString content = client\n    .get(URI)\n    .run()\n    .getContent().assertString().contains("Success")\n    .getContent().asString();\n'})})}),"\n",(0,a.jsx)(n.p,{children:"Object assertions allow you to parse the response body into a POJO and then perform various tests on that resulting\nPOJO."}),"\n",(0,a.jsx)(n.admonition,{title:"Example",type:"tip",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"// Parse bean into POJO and then validate that it was parsed correctly.\nMyBean bean = client.get(URI)\n    .run()\n    .getContent().assertObject(MyBean.class).asJson().is(\"{foo:'bar'}\")\n    .getContent().as(MyBean.class);\n"})})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(96540);const a={},r=s.createContext(a);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);