"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[6517],{28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>r});var t=s(96540);const i={},a=t.createContext(i);function o(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(a.Provider,{value:n},e.children)}},98608:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"topics/01.09.00.GeneralDesign","title":"General Design","description":"The Juneau framework uses the design pattern of builders, context, and session objects:","source":"@site/docs-staging/topics/01.09.00.GeneralDesign.md","sourceDirName":"topics","slug":"/topics/01.09.00.GeneralDesign","permalink":"/docs/topics/01.09.00.GeneralDesign","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs-staging/topics/01.09.00.GeneralDesign.md","tags":[],"version":"current","frontMatter":{"title":"General Design"},"sidebar":"tutorialSidebar","previous":{"title":"1.8. Fluent Assertions","permalink":"/docs/topics/01.08.00.FluentAssertions"},"next":{"title":"2.1. juneau-marshall Basics","permalink":"/docs/topics/02.01.00.JuneauMarshallBasics"}}');var i=s(74848),a=s(28453);const o={title:"General Design"},r=void 0,l={},c=[];function u(e){const n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"The Juneau framework uses the design pattern of builders, context, and session objects:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Context Builders - Modifiable objects that allow you to define configuration settings for contexts."}),"\n",(0,i.jsx)(n.li,{children:"Contexts - Unmodifiable thread-safe objects meant to be cacheable and reusable."}),"\n",(0,i.jsx)(n.li,{children:"Sessions - Modifiable objects usually meant for one-time use."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is a general design pattern used throughout the framework including the REST client and server APIs."}),"\n",(0,i.jsx)(n.p,{children:"The following shows the general pattern for creating sessions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Create a reusable context object (in this case a serializer).\nWriterSerializer serializer = JsonSerializer\n    .create()                 // Instantiates a context builder.\n    .findFluentSetters()      // Sets a configuration value.\n    .build();                 // Creates a context.\n\n// Create a one-time session object.\nWriterSerializerSession session = serializer\n    .createSession()           // Instantiates a session builder.\n    .useWhitespace()           // Sets a session value.\n    .build();                  // Creates a session.\n\n// Use it.\nString json = session.serialize(myBean);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typically developers will not deal with session objects and will just use convenience methods on the context classes\nthemselves that handle creation of sessions:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Just use serialize method on WriterSerializer class.\nString json = serializer.serialize(myBean);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Most context objects also have static default instances that can be used in leu of creating new contexts as well:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Just use one of the static context instances.\nString json = JsonSerializer.DEFAULT.serialize(myBean);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Most context classes also have the ability to clone and modify existing context objects:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:"// Clone and modify an existing context object.\nWriterSerializer serializer = JsonSerializer\n    .DEFAULT\n    .copy()                   // Instantiates a context builder.\n    .findFluentSetters()      // Sets a configuration value.\n    .build();                 // Creates a context.\n"})}),"\n",(0,i.jsx)(n.p,{children:"The default values of many context settings can also be set via system properties and environment variables.\nThe javadocs on these settings will identify when this is possible."}),"\n",(0,i.jsx)(n.p,{children:"The framework makes heavy use of caching of existing context objects with the same builder settings.\nThis is a critical reason why Juneau achieve impressive performance.\nUsing Java reflection to find out all information about a bean type is expensive.\nBy caching context objects, we only need to reflect that bean type once and store that information in the context for\nreuse by all serializers and parsers that share the same bean context configuration settings."})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);