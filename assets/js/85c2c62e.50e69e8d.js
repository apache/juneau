"use strict";(globalThis.webpackChunkjuneau_documentation=globalThis.webpackChunkjuneau_documentation||[]).push([[4905],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(96540);const i={},r=t.createContext(i);function a(e){const s=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:s},e.children)}},62894:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>t,toc:()=>p});const t=JSON.parse('{"id":"developer-info/04.02.04.ScriptPromptPgpPassphrase","title":"prompt-pgp-passphrase.py","description":"prompt-pgp-passphrase.py makes a dummy PGP call to prompt for the user\'s passphrase early in the execution. This ensures the user is prompted at the beginning rather than waiting until signing is needed near the end of a process.","source":"@site/pages/developer-info/04.02.04.ScriptPromptPgpPassphrase.md","sourceDirName":"developer-info","slug":"/developer-info/ScriptPromptPgpPassphrase","permalink":"/docs/developer-info/ScriptPromptPgpPassphrase","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/docs/pages/developer-info/04.02.04.ScriptPromptPgpPassphrase.md","tags":[],"version":"current","frontMatter":{"title":"prompt-pgp-passphrase.py","slug":"ScriptPromptPgpPassphrase"},"sidebar":"mainSidebar","previous":{"title":"4.2.3. release.py","permalink":"/docs/developer-info/ScriptRelease"},"next":{"title":"4.2.5. current-release.py","permalink":"/docs/developer-info/ScriptCurrentRelease"}}');var i=n(74848),r=n(28453);const a={title:"prompt-pgp-passphrase.py",slug:"ScriptPromptPgpPassphrase"},l=void 0,o={},p=[{value:"What It Does",id:"what-it-does",level:2},{value:"Usage",id:"usage",level:2},{value:"When to Use",id:"when-to-use",level:2},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Notes",id:"notes",level:2}];function d(e){const s={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"prompt-pgp-passphrase.py"})," makes a dummy PGP call to prompt for the user's passphrase early in the execution. This ensures the user is prompted at the beginning rather than waiting until signing is needed near the end of a process."]}),"\n",(0,i.jsx)(s.h2,{id:"what-it-does",children:"What It Does"}),"\n",(0,i.jsx)(s.p,{children:"The script:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Creates a temporary dummy file"}),"\n",(0,i.jsx)(s.li,{children:"Attempts to sign it with GPG (which prompts for passphrase)"}),"\n",(0,i.jsx)(s.li,{children:"Cleans up the temporary files"}),"\n",(0,i.jsx)(s.li,{children:"Returns success even if GPG is not available (to avoid breaking workflows)"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"python3 scripts/prompt-pgp-passphrase.py\n"})}),"\n",(0,i.jsx)(s.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,i.jsxs)(s.p,{children:["This script is typically called by other scripts (like ",(0,i.jsx)(s.code,{children:"push.py"})," and ",(0,i.jsx)(s.code,{children:"release.py"}),") at the beginning of their execution to:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Prompt for PGP passphrase early"}),"\n",(0,i.jsx)(s.li,{children:"Avoid delays later when signing is actually needed"}),"\n",(0,i.jsx)(s.li,{children:"Provide a better user experience"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Always returns ",(0,i.jsx)(s.code,{children:"0"})," (success) to avoid breaking workflows"]}),"\n",(0,i.jsx)(s.li,{children:"Prints warnings if GPG is not available or if the prompt times out"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Python 3.6 or higher"}),"\n",(0,i.jsx)(s.li,{children:"GPG (optional, script handles gracefully if not available)"}),"\n",(0,i.jsx)(s.li,{children:"No external Python dependencies (uses only standard library)"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The script is designed to fail gracefully"}),"\n",(0,i.jsx)(s.li,{children:"If GPG is not found, it prints a warning and continues"}),"\n",(0,i.jsx)(s.li,{children:"If the prompt times out, it's treated as okay (user may not need signing)"}),"\n",(0,i.jsx)(s.li,{children:"The dummy file and signature are automatically cleaned up"}),"\n"]})]})}function c(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);