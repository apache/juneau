"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[4007],{28453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>s});var c=r(96540);const o={},d=c.createContext(o);function t(e){const n=c.useContext(d);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),c.createElement(d.Provider,{value:n},e.children)}},59879:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>l,frontMatter:()=>t,metadata:()=>c,toc:()=>i});const c=JSON.parse('{"id":"topics/02.22.00.Encoders","title":"Encoders","description":"The org.apache.juneau.encoders package defines an API for handling encoding-based matching","source":"@site/docs-staging/topics/02.22.00.Encoders.md","sourceDirName":"topics","slug":"/topics/02.22.00.Encoders","permalink":"/docs/topics/02.22.00.Encoders","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs-staging/topics/02.22.00.Encoders.md","tags":[],"version":"current","frontMatter":{"title":"Encoders"},"sidebar":"tutorialSidebar","previous":{"title":"2.21.5. SVL Other Notes","permalink":"/docs/topics/02.21.05.SvlOtherNotes"},"next":{"title":"2.23. Object Tools","permalink":"/docs/topics/02.23.00.ObjectTools"}}');var o=r(74848),d=r(28453);const t={title:"Encoders"},s=void 0,a={},i=[{value:"EncoderSet",id:"encoderset",level:4},{value:"Match ordering",id:"match-ordering",level:4},{value:"Encoder API",id:"encoder-api",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h4:"h4",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders.html",children:"org.apache.juneau.encoders"})," package defines an API for handling encoding-based matching\nof ",(0,o.jsx)(n.code,{children:"Accept-Encoding"}),"/",(0,o.jsx)(n.code,{children:"Content-Encoding"})," HTTP headers."]}),"\n",(0,o.jsx)(n.p,{children:"It consists of the following classes:"}),"\n",(0,o.jsxs)("tree",{children:[(0,o.jsx)("node-0",{children:(0,o.jsx)("java-class",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet.html",children:"EncoderSet"})})}),(0,o.jsx)("node-0",{children:(0,o.jsx)("java-abstract-class",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html",children:"Encoder"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-class",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/IdentityEncoder.html",children:"IdentityEncoder"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-class",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/GzipEncoder.html",children:"GzipEncoder"})})})]}),"\n",(0,o.jsx)(n.h4,{id:"encoderset",children:"EncoderSet"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet.html",children:"EncoderSet"})," class represents the set of ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html",children:"org.apache.juneau.encoders"})," keyed by codings.\nIt maintains a set of encoders and the codings that they can handle."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet.html#getEncoderMatch(String)",children:"getEncoderMatch(String)"})," and ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet.html#getEncoder(String)",children:"EncoderSet.getEncoder(String)"})," methods are then used to find appropriate encoders for specific ",(0,o.jsx)(n.code,{children:"Accept-Encoding"})," and ",(0,o.jsx)(n.code,{children:"Content-Encoding"})," header values."]}),"\n",(0,o.jsx)(n.h4,{id:"match-ordering",children:"Match ordering"}),"\n",(0,o.jsxs)(n.p,{children:["Encoders are tried in the order they appear in the set.\nThe ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet/Builder.html#add(Class...)",children:"EncoderSet.Builder.add(Class...)"})," / ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/EncoderSet/Builder.html#add(Encoder...)",children:"EncoderSet.Builder.add(Encoder...)"})," methods prepend the values to the list to allow them the opportunity to override encoders already in the list."]}),"\n",(0,o.jsxs)(n.p,{children:["For example, calling ",(0,o.jsx)(n.code,{children:"builder.add(E1.class,E2.class).add(E3.class, E4.class)"})," will result in the order ",(0,o.jsx)(n.code,{children:"E3, E4, E1, E2"}),"."]}),"\n",(0,o.jsx)(n.admonition,{title:"Example",type:"tip",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'// Create an encoder group with support for gzip compression.\nEncoderSet encoders = EncoderSet\n    .create()\n    .add(GzipEncoder.class)\n    .build();\n\n// Should return "gzip"\nString matchedCoding = encoders.findMatch("compress;q=1.0, gzip;q=0.8, identity;q=0.5, *;q=0");\n\n// Get the encoder\nEncoder encoder = encoders.getEncoder(matchedCoding);\n'})})}),"\n",(0,o.jsx)(n.h4,{id:"encoder-api",children:"Encoder API"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html",children:"Encoder"})," interface is used for enabling decompression on\nrequests and compression on responses, such as support for GZIP compression.\nIt is used to wrap input and output streams within compression/decompression streams."]}),"\n",(0,o.jsxs)("tree",{children:[(0,o.jsx)("node-0",{children:(0,o.jsx)("java-abstract-class",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html",children:"Encoder"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html#getCodings()",children:"getCodings()"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html#getInputStream(InputStream)",children:"getInputStream(InputStream)"})})}),(0,o.jsx)("node-1",{children:(0,o.jsx)("java-method",{children:(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/encoders/Encoder.html#getOutputStream(OutputStream)",children:"getOutputStream(OutputStream)"})})})]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Encoders are registered with ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/servlet/RestServlet.html",children:"RestServlets"})," through the ",(0,o.jsx)(n.a,{href:"../apidocs/org/apache/juneau/rest/annotation/Rest.html#encoders()",children:"@Rest(encoders)"})," annotation."]})})]})}function l(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}}}]);