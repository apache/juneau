"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[6576],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(96540);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},87515:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"topics/04.05.00.JuneauBeanOpenApi3","title":"juneau-bean-openapi3","description":"The juneau-bean-openapi3 module provides Java beans for working with OpenAPI 3.0 documents and user interfaces.","source":"@site/docs/topics/04.05.00.JuneauBeanOpenApi3.md","sourceDirName":"topics","slug":"/topics/JuneauBeanOpenApi3","permalink":"/docs/topics/JuneauBeanOpenApi3","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/04.05.00.JuneauBeanOpenApi3.md","tags":[],"version":"current","frontMatter":{"title":"juneau-bean-openapi3","slug":"JuneauBeanOpenApi3"},"sidebar":"mainSidebar","previous":{"title":"4.4. juneau-bean-jsonschema","permalink":"/docs/topics/JuneauBeanJsonSchema"},"next":{"title":"4.6. juneau-bean-common","permalink":"/docs/topics/JuneauBeanCommon"}}');var a=t(74848),i=t(28453);const o={title:"juneau-bean-openapi3",slug:"JuneauBeanOpenApi3"},r="juneau-bean-openapi3",p={},c=[{value:"Overview",id:"overview",level:2},{value:"OpenAPI Documents",id:"openapi-documents",level:2},{value:"OpenAPI UI",id:"openapi-ui",level:2},{value:"Usage in REST Services",id:"usage-in-rest-services",level:2},{value:"Dependencies",id:"dependencies",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"juneau-bean-openapi3",children:"juneau-bean-openapi3"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"juneau-bean-openapi3"})," module provides Java beans for working with OpenAPI 3.0 documents and user interfaces."]}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.p,{children:"This module contains predefined POJOs for:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"OpenAPI 3.0 document structure"}),"\n",(0,a.jsx)(n.li,{children:"API documentation generation"}),"\n",(0,a.jsx)(n.li,{children:"OpenAPI UI rendering"}),"\n",(0,a.jsx)(n.li,{children:"Schema validation"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"openapi-documents",children:"OpenAPI Documents"}),"\n",(0,a.jsx)(n.p,{children:"The Juneau OpenAPI DTO beans are simply beans with fluent-style setters that allow you to quickly construct OpenAPI documents as Java objects. These objects can then be serialized to JSON using one of the existing JSON serializers, or to other languages such as XML or HTML using the other serializers."}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/bean/openapi3/OpenApi3Builder.html",target:"_blank",children:"OpenApi3Builder"})," class is a utility class with predefined static methods that allow you to easily construct DTO bean instances in a minimal amount of code."]}),"\n",(0,a.jsx)(n.p,{children:"The following is an example OpenAPI document:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'{\n    "openapi": "3.0.0",\n    "info": {\n        "title": "Pet Store API",\n        "description": "This is a sample server Petstore server.",\n        "version": "1.0.0",\n        "contact": {\n            "email": "apiteam@example.com"\n        },\n        "license": {\n            "name": "Apache 2.0",\n            "url": "http://www.apache.org/licenses/LICENSE-2.0.html"\n        }\n    },\n    "servers": [\n        {\n            "url": "https://petstore.example.com/v2"\n        }\n    ],\n    "tags": [\n        {\n            "name": "pet",\n            "description": "Everything about your Pets"\n        }\n    ],\n    "paths": {\n        "/pet": {\n            "post": {\n                "tags": ["pet"],\n                "summary": "Add a new pet to the store",\n                "description": "",\n                "operationId": "addPet",\n                "requestBody": {\n                    "description": "Pet object that needs to be added to the store",\n                    "required": true,\n                    "content": {\n                        "application/json": {\n                            "schema": {\n                                "type": "object"\n                            }\n                        }\n                    }\n                },\n                "responses": {\n                    "405": {\n                        "description": "Invalid input"\n                    }\n                }\n            }\n        }\n    }\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"This document can be generated by the following Java code:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'static import org.apache.juneau.bean.openapi3.OpenApi3Builder.*;\n\nOpenApi3 openApi = openApi3()\n    .setOpenapi("3.0.0")\n    .setInfo(\n        info("Pet Store API", "1.0.0")\n            .setDescription("This is a sample server Petstore server.")\n            .setContact(\n                contact().setEmail("apiteam@example.com")\n            )\n            .setLicense(\n                license("Apache 2.0").setUrl("http://www.apache.org/licenses/LICENSE-2.0.html")\n            )\n    )\n    .setServers(\n        server("https://petstore.example.com/v2")\n    )\n    .setTags(\n        tag("pet").setDescription("Everything about your Pets")\n    )\n    .setPath("/pet", "post",\n        operation()\n            .setTags("pet")\n            .setSummary("Add a new pet to the store")\n            .setDescription("")\n            .setOperationId("addPet")\n            .setRequestBody(\n                requestBody()\n                    .setDescription("Pet object that needs to be added to the store")\n                    .setRequired(true)\n                    .setContent(\n                        content("application/json")\n                            .setSchema(schema().setType("object"))\n                    )\n            )\n            .setResponse(405, response("Invalid input"))\n    );\n\n// Serialize using JSON serializer.\nString openApiJson = Json.of(openApi);\n\n// Or just use toString().\nString openApiJson = openApi.toString();\n'})}),"\n",(0,a.jsx)(n.h2,{id:"openapi-ui",children:"OpenAPI UI"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/bean/openapi3/ui/OpenApi3UI.html",target:"_blank",children:"OpenApi3UI"})," class is a DTO bean class for generating OpenAPI user interfaces from ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/bean/openapi3/OpenApi3.html",target:"_blank",children:"OpenApi3"})," beans."]}),"\n",(0,a.jsxs)(n.p,{children:["The class itself is nothing more than a POJO swap that swaps out ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/bean/openapi3/OpenApi3.html",target:"_blank",children:"OpenApi3"})," beans with ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/bean/html5/Div.html",target:"_blank",children:"Div"})," elements."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:"public class OpenApi3UI extends ObjectSwap {\n\n    @Override\n    public MediaType[] forMediaTypes() {\n        // Only use this swap when the Accept type is HTML.\n        return new MediaType[] {MediaType.HTML};\n    }\n\n    @Override\n    public Div swap(BeanSession beanSession, OpenApi3 openApi) throws Exception {\n        // Generate HTML UI for OpenAPI document\n        ...\n    }\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage-in-rest-services",children:"Usage in REST Services"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)("a",{href:"/site/apidocs/org/apache/juneau/rest/servlet/BasicRestServlet.html",target:"_blank",children:"BasicRestServlet"})," class shows how this swap is used in the REST interface to generate the OpenAPI UI:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-java",children:'@Rest(\n    // Allow OPTIONS requests to be simulated using ?method=OPTIONS query parameter.\n    allowedMethodParams="OPTIONS",\n    ...\n)\n@BeanConfig(\n    // POJO swaps to apply to all serializers/parsers.\n    swaps={\n        // Use the OpenApi3UI swap when rendering OpenAPI beans.\n        OpenApi3UI.class\n    }\n)\npublic abstract class BasicRestServlet extends RestServlet implements BasicRestConfig {\n\n    /**\n     * [OPTIONS /*] - Show resource options.\n     */\n    @RestOp(\n        method=OPTIONS,\n        path="/*",\n        summary="OpenAPI documentation",\n        description="OpenAPI documentation for this resource."\n    )\n    @HtmlDocConfig(\n        // Override the nav links for the OpenAPI page.\n        navlinks={\n            "back: servlet:/",\n            "json: servlet:/?method=OPTIONS&Accept=text/json&plainText=true"\n        },\n        // Never show aside contents of page inherited from class.\n        aside="NONE"\n    )\n    public OpenApi3 getOptions(RestRequest req) {\n        // Localized OpenAPI for this resource is available through the RestRequest object.\n        return req.getOpenApi3();\n    }\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"No external dependencies"}),"\n",(0,a.jsxs)(n.li,{children:["Part of the ",(0,a.jsx)(n.code,{children:"juneau-bean"})," module group"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}}}]);