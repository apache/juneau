"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[9862],{28453:(a,t,e)=>{e.d(t,{R:()=>i,x:()=>o});var r=e(96540);const s={},n=r.createContext(s);function i(a){const t=r.useContext(n);return r.useMemo(function(){return"function"==typeof a?a(t):{...t,...a}},[t,a])}function o(a){let t;return t=a.disableParentContext?"function"==typeof a.components?a.components(s):a.components||s:i(a.components),r.createElement(n.Provider,{value:t},a.children)}},69806:(a,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"topics/07.05.00.HttpParts","title":"HTTP Parts","description":"The org.apache.juneau.http.part package contains implementations of","source":"@site/docs/topics/07.05.00.HttpParts.md","sourceDirName":"topics","slug":"/topics/HttpParts","permalink":"/docs/topics/HttpParts","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/07.05.00.HttpParts.md","tags":[],"version":"current","frontMatter":{"title":"HTTP Parts","slug":"HttpParts"},"sidebar":"mainSidebar","previous":{"title":"7.4. HTTP Headers","permalink":"/docs/topics/HttpHeaders"},"next":{"title":"7.6. HTTP Entities and Resources","permalink":"/docs/topics/HttpEntitiesAndResources"}}');var s=e(74848),n=e(28453);const i={title:"HTTP Parts",slug:"HttpParts"},o=void 0,l={},c=[{value:"PartList",id:"partlist",level:4}];function h(a){const t={admonition:"admonition",code:"code",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...a.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/package-summary.html",target:"_blank",children:"org.apache.juneau.http.part"})," package contains implementations of\n",(0,s.jsx)(t.code,{children:"org.apache.http.NameValuePair"})," to be used for query/form-data/path parts and part lists."]}),"\n",(0,s.jsxs)("tree",{children:[(0,s.jsx)("node-0",{children:(0,s.jsx)("java-interface",{children:(0,s.jsx)("a",{href:"https://hc.apache.org/httpcomponents-core-4.4.x/current/httpcore/apidocs/org/apache/http/NameValuePair.html",target:"_blank",children:"NameValuePair"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicPart.html",target:"_blank",children:"BasicPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicBooleanPart.html",target:"_blank",children:"BasicBooleanPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicCsvArrayPart.html",target:"_blank",children:"BasicCsvArrayPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicDatePart.html",target:"_blank",children:"BasicDatePart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicIntegerPart.html",target:"_blank",children:"BasicIntegerPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicLongPart.html",target:"_blank",children:"BasicLongPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicPartIterator.html",target:"_blank",children:"BasicPartIterator"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicStringPart.html",target:"_blank",children:"BasicStringPart"})})}),(0,s.jsx)("node-1",{children:(0,s.jsx)("java-class",{children:(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/BasicUriPart.html",target:"_blank",children:"BasicUriPart"})})})]}),"\n",(0,s.jsx)(t.h4,{id:"partlist",children:"PartList"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html",target:"_blank",children:"PartList"})," class is a list of HTTP parts (form-data,\nquery-parameters, path-parameters)."]}),"\n",(0,s.jsx)(t.admonition,{title:"Example",type:"tip",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'PartList parts = PartList\n    .create()\n    .append(MyPart.of("foo"))\n    .append("Bar", ()->getDynamicValueFromSomewhere());\n'})})}),"\n",(0,s.jsx)(t.p,{children:"Convenience creators are provided for creating lists with minimal code:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'PartList parts = PartList.of(BasicIntegerPart.of("foo", 1));\n'})}),"\n",(0,s.jsxs)(t.p,{children:["Static methods are provided on ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/HttpParts.html",target:"_blank",children:"HttpParts"})," to further simplify\ncreation of part lists."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'import static org.apache.juneau.http.HttpParts.*;\n\nPartList parts = partList(integerPart("foo", 1), booleanPart("bar", false));\n'})}),"\n",(0,s.jsx)(t.p,{children:"The builder class supports setting default part values (i.e. add a part to the list if it isn't otherwise in the list).\nNote that this is different from simply setting a value twice as using default values will not overwrite existing parts."}),"\n",(0,s.jsx)(t.p,{children:"The following example notes the distinction:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'parts = PartList\n    .create()\n    .set("Foo", "bar")\n    .set("Foo", "baz");\nassertObject(parts).isString("foo=baz");\n\nparts = PartList\n    .create()\n    .set("Foo", "bar")\n    .setDefault("Foo", "baz");\nassertObject(parts).isString("foo=bar");\n'})}),"\n",(0,s.jsx)(t.p,{children:"Various methods are provided for iterating over the parts in this list to avoid array copies."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#forEach(java.lang.String,java.util.function.Consumer)",target:"_blank",children:"forEach(Consumer)"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#forEach(java.lang.String,java.util.function.Consumer)",target:"_blank",children:"forEach(String,Consumer)"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#forEach(java.lang.String,java.util.function.Consumer)",target:"_blank",children:"forEach(Predicate,Consumer)"})," - Use consumers to process parts."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#partIterator()",target:"_blank",children:"partIterator()"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#partIterator()",target:"_blank",children:"partIterator(String)"})," - Use an ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartIterator.html",target:"_blank",children:"PartIterator"})," to process parts."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#stream(java.lang.String)",target:"_blank",children:"stream()"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#stream(java.lang.String)",target:"_blank",children:"stream(String)"})," - Use a stream."]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["In general, try to use these over the ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#getAll()",target:"_blank",children:"getAll()"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#getAll()",target:"_blank",children:"getAll(String)"})," methods that require array copies.\nSimilar to the way multiple headers can be collapsed into a single value, the ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#get(java.lang.Class)",target:"_blank",children:"get(String)"})," method is special in that it will collapse multiple parts with the same name into a single comma-delimited list."]}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#get(java.lang.Class)",target:"_blank",children:"get(Class)"})," and ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html#get(java.lang.Class)",target:"_blank",children:"get(String,Class)"})," methods are provided for working with ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/annotation/FormData.html",target:"_blank",children:"FormData"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/annotation/Query.html",target:"_blank",children:"Query"})," / ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/annotation/Path.html",target:"_blank",children:"Path"}),"-annotated beans."]}),"\n",(0,s.jsx)(t.admonition,{title:"Example",type:"tip",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"MyQueryBean foo = parts.get(MyQueryBean.class);\n"})})}),"\n",(0,s.jsxs)(t.p,{children:["A ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/svl/VarResolver.html",target:"_blank",children:"VarResolver"})," can be associated with this builder to create part\nvalues with embedded variables that are resolved at runtime."]}),"\n",(0,s.jsx)(t.admonition,{title:"Example",type:"tip",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// Create a part list with dynamically-resolving values pulled from a system property.\n\nSystem.setProperty("foo", "bar");\n\nPartList parts = PartList\n    .create()\n    .resolving()\n    .append("X1", "$S{foo}")\n    .append("X2", ()->"$S{foo}");\n\nassertObject(parts).isString("X1=bar&X2=bar");\n'})})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)("a",{href:"/site/apidocs/org/apache/juneau/http/part/PartList.html",target:"_blank",children:"PartList"})," object can be extended to defined pre-packaged\nlists of parts which can be used in various annotations throughout the framework."]}),"\n",(0,s.jsx)(t.admonition,{title:"Example",type:"tip",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:'// A predefined list of parts.\npublic class MyPartList extends PartList {\n    public MyPartList() {\n        super(BasicIntegerPart.of("foo",1), BasicBooleanPart.of("bar",false));\n    }\n}\n'})})})]})}function p(a={}){const{wrapper:t}={...(0,n.R)(),...a.components};return t?(0,s.jsx)(t,{...a,children:(0,s.jsx)(h,{...a})}):h(a)}}}]);