"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[6121],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}},44177:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"topics/19.03.00.JuneauShadedRestClient","title":"juneau-shaded-rest-client","description":"The juneau-shaded-rest-client artifact bundles all core Juneau modules plus REST client functionality. At 3.8 MB, it provides everything needed for building REST client applications.","source":"@site/docs/topics/19.03.00.JuneauShadedRestClient.md","sourceDirName":"topics","slug":"/topics/JuneauShadedRestClient","permalink":"/docs/topics/JuneauShadedRestClient","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/master/juneau-docs/docs/topics/19.03.00.JuneauShadedRestClient.md","tags":[],"version":"current","frontMatter":{"title":"juneau-shaded-rest-client","slug":"JuneauShadedRestClient"},"sidebar":"mainSidebar","previous":{"title":"19.2. juneau-shaded-core","permalink":"/docs/topics/JuneauShadedCore"},"next":{"title":"19.4. juneau-shaded-rest-server","permalink":"/docs/topics/JuneauShadedRestServer"}}');var i=t(74848),r=t(28453);const a={title:"juneau-shaded-rest-client",slug:"JuneauShadedRestClient"},l=void 0,c={},d=[{value:"What&#39;s Included",id:"whats-included",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Maven Dependency",id:"maven-dependency",level:2},{value:"Bazel Dependency",id:"bazel-dependency",level:2},{value:"External Dependencies",id:"external-dependencies",level:2},{value:"Required",id:"required",level:3},{value:"Optional",id:"optional",level:3},{value:"Example Usage",id:"example-usage",level:2},{value:"Basic REST Call",id:"basic-rest-call",level:3},{value:"POST with JSON",id:"post-with-json",level:3},{value:"Remote Proxies",id:"remote-proxies",level:3},{value:"Try-With-Resources Pattern",id:"try-with-resources-pattern",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Interceptors",id:"interceptors",level:3},{value:"Mock Testing",id:"mock-testing",level:3},{value:"Features",id:"features",level:2},{value:"Content Negotiation",id:"content-negotiation",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Request/Response Assertions",id:"requestresponse-assertions",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:2},{value:"Migration from Individual Modules",id:"migration-from-individual-modules",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"juneau-shaded-rest-client"})," artifact bundles all core Juneau modules plus REST client functionality. At 3.8 MB, it provides everything needed for building REST client applications."]}),"\n",(0,i.jsx)(n.h2,{id:"whats-included",children:"What's Included"}),"\n",(0,i.jsx)(n.p,{children:"This artifact includes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:["All modules from ",(0,i.jsx)(n.a,{href:"/docs/topics/JuneauShadedCore",children:"juneau-shaded-core"})]})," (marshalling, config, testing)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"juneau-rest-common"})," - REST APIs common to client and server"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"juneau-rest-client"})," - Full-featured REST client API"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"juneau-rest-mock"})," - REST testing utilities"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.code,{children:"juneau-shaded-rest-client"})," when you need:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"REST API consumption"})," - Call external REST services"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type-safe clients"})," - Use remote interfaces and proxies"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Advanced HTTP features"})," - Interceptors, authentication, retries"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Serialization flexibility"})," - Automatic content negotiation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Testing REST endpoints"})," - Use the mock REST framework"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"maven-dependency",children:"Maven Dependency"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.juneau</groupId>\n    <artifactId>juneau-shaded-rest-client</artifactId>\n    <version>${juneau.version}</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"bazel-dependency",children:"Bazel Dependency"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'maven_jar(\n    name = "juneau_rest_client",\n    artifact = "org.apache.juneau:juneau-shaded-rest-client:${juneau.version}",\n)\n\n# External dependencies\nmaven_jar(\n    name = "httpclient5",\n    artifact = "org.apache.httpcomponents.client5:httpclient5:5.2.1",\n)\n\nmaven_jar(\n    name = "httpcore5",\n    artifact = "org.apache.httpcomponents.core5:httpcore5:5.2.1",\n)\n\njava_binary(\n    name = "my_client",\n    srcs = ["MyClient.java"],\n    deps = [\n        "@juneau_rest_client//jar",\n        "@httpclient5//jar",\n        "@httpcore5//jar",\n    ],\n)\n'})}),"\n",(0,i.jsx)(n.h2,{id:"external-dependencies",children:"External Dependencies"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"juneau-shaded-rest-client"})," requires:"]}),"\n",(0,i.jsx)(n.h3,{id:"required",children:"Required"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Apache HttpClient 5.2+"})," - HTTP client implementation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Apache HttpCore 5.2+"})," - HTTP core functionality"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Jakarta XML Bind API 3.0+"})," - For XML serialization"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Apache Jena"})," - For RDF support"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.h3,{id:"basic-rest-call",children:"Basic REST Call"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import org.apache.juneau.rest.client.*;\n\npublic class RestClientExample {\n    public static void main(String[] args) {\n        try (RestClient client = RestClient.create().build()) {\n            // GET request\n            Person person = client.get("http://api.example.com/person/1")\n                .run()\n                .getContent().as(Person.class);\n            \n            System.out.println(person.getName());\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"post-with-json",children:"POST with JSON"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'try (RestClient client = RestClient.create().json().build()) {\n    Person newPerson = new Person("John Smith", 42);\n    \n    // POST JSON\n    Person created = client.post("http://api.example.com/person")\n        .content(newPerson)\n        .run()\n        .getContent().as(Person.class);\n    \n    System.out.println("Created: " + created.getId());\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"remote-proxies",children:"Remote Proxies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Define interface\n@Remote(path="/petstore")\npublic interface PetStore {\n    @RemoteGet("/pet/{petId}")\n    Pet getPet(@Path("petId") long id);\n    \n    @RemotePost("/pet")\n    Pet createPet(@Content Pet pet);\n}\n\n// Use it\ntry (RestClient client = RestClient.create().build()) {\n    PetStore store = client.getRemote(PetStore.class);\n    \n    Pet pet = store.getPet(123);\n    System.out.println(pet.getName());\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"try-with-resources-pattern",children:"Try-With-Resources Pattern"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'RestClient client = RestClient.create().build();\n\ntry (RestRequest req = client.get("/api/data")) {\n    String response = req.run().getContent().asString();\n    System.out.println(response);\n} // Request and response are automatically closed\n'})}),"\n",(0,i.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Basic authentication\nRestClient client = RestClient.create()\n    .basicAuth("user", "password")\n    .build();\n\n// Bearer token\nRestClient client = RestClient.create()\n    .headerData("Authorization", "Bearer " + token)\n    .build();\n\n// OAuth2\nRestClient client = RestClient.create()\n    .oauth2Bearer(tokenSupplier)\n    .build();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"interceptors",children:"Interceptors"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'RestClient client = RestClient.create()\n    .interceptors(\n        // Log requests\n        (req) -> System.out.println("Calling: " + req.getUri()),\n        \n        // Add custom headers\n        (req) -> req.header("X-Custom", "value"),\n        \n        // Retry logic\n        RetryInterceptor.create().maxAttempts(3).build()\n    )\n    .build();\n'})}),"\n",(0,i.jsx)(n.h3,{id:"mock-testing",children:"Mock Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'import org.apache.juneau.rest.mock.*;\n\n@Test\npublic void testRestClient() throws Exception {\n    MockRestClient client = MockRestClient.create(MyRestApi.class).build();\n    \n    // Call the mocked API\n    String response = client.get("/test")\n        .run()\n        .getContent().asString();\n    \n    assertEquals("expected", response);\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,i.jsx)(n.h3,{id:"content-negotiation",children:"Content Negotiation"}),"\n",(0,i.jsxs)(n.p,{children:["Automatic serialization/deserialization based on ",(0,i.jsx)(n.code,{children:"Accept"})," and ",(0,i.jsx)(n.code,{children:"Content-Type"})," headers:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'// Request JSON, get POJO\nPerson person = client.get("/person/1")\n    .accept("application/json")\n    .run()\n    .getContent().as(Person.class);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'try (RestClient client = RestClient.create().build()) {\n    String response = client.get("/api/data")\n        .run()\n        .assertStatus().is(200)  // Assert successful\n        .getContent().asString();\n} catch (RestCallException e) {\n    System.err.println("HTTP " + e.getResponseCode());\n    System.err.println(e.getResponseMessage());\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"requestresponse-assertions",children:"Request/Response Assertions"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'client.get("/api/data")\n    .run()\n    .assertStatus().is(200)\n    .assertHeader("Content-Type").is("application/json")\n    .assertContent().contains("expected");\n'})}),"\n",(0,i.jsx)(n.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Connection Pooling"}),": Built-in via Apache HttpClient"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Keep-Alive"}),": Automatic connection reuse"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Streaming"}),": Efficient memory usage for large responses"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Async Support"}),": Non-blocking operations available"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"migration-from-individual-modules",children:"Migration from Individual Modules"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Before:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.juneau</groupId>\n    <artifactId>juneau-marshall</artifactId>\n    <version>${juneau.version}</version>\n</dependency>\n<dependency>\n    <groupId>org.apache.juneau</groupId>\n    <artifactId>juneau-rest-client</artifactId>\n    <version>${juneau.version}</version>\n</dependency>\n<dependency>\n    <groupId>org.apache.juneau</groupId>\n    <artifactId>juneau-rest-common</artifactId>\n    <version>${juneau.version}</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"After:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<dependency>\n    <groupId>org.apache.juneau</groupId>\n    <artifactId>juneau-shaded-rest-client</artifactId>\n    <version>${juneau.version}</version>\n</dependency>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Need server functionality too?"})," Use ",(0,i.jsx)(n.a,{href:"/docs/topics/JuneauShadedAll",children:"juneau-shaded-all"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Learn about REST client:"})," See ",(0,i.jsx)(n.a,{href:"/docs/topics/JuneauRestClientBasics",children:"REST Client Basics"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Learn about remote proxies:"})," See ",(0,i.jsx)(n.a,{href:"/docs/topics/RemoteProxies",children:"Remote Proxies"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Learn about marshalling:"})," See ",(0,i.jsx)(n.a,{href:"/docs/topics/JuneauMarshallBasics",children:"Marshalling Basics"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);