"use strict";(self.webpackChunkjuneau_documentation=self.webpackChunkjuneau_documentation||[]).push([[3704],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var r=n(96540);const s={},i=r.createContext(s);function a(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:t},e.children)}},78198:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"topics/02.32.02.OpenApiMethodology","title":"OpenAPI Methodology","description":"Unlike the other Juneau serializers and parsers that convert input and output directly to-and-from POJOs, the OpenAPI","source":"@site/docs-staging/topics/02.32.02.OpenApiMethodology.md","sourceDirName":"topics","slug":"/topics/02.32.02.OpenApiMethodology","permalink":"/docs/topics/02.32.02.OpenApiMethodology","draft":false,"unlisted":false,"editUrl":"https://github.com/apache/juneau/tree/main/juneau-docs-poc/juneau-documentation/docs-staging/topics/02.32.02.OpenApiMethodology.md","tags":[],"version":"current","frontMatter":{"title":"OpenAPI Methodology"},"sidebar":"tutorialSidebar","previous":{"title":"2.32.1. OpenApi Basics","permalink":"/docs/topics/02.32.01.OpenApiBasics"},"next":{"title":"2.32.3. OpenAPI Serializers","permalink":"/docs/topics/02.32.03.OpenApiSerializers"}}');var s=n(74848),i=n(28453);const a={title:"OpenAPI Methodology"},o=void 0,d={},c=[];function l(e){const t={a:"a",code:"code",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Unlike the other Juneau serializers and parsers that convert input and output directly to-and-from POJOs, the OpenAPI\nserializers and parsers use intermediate objects based on the ",(0,s.jsx)(t.code,{children:"type"})," and ",(0,s.jsx)(t.code,{children:"format"}),' of the schema.\nThe following table shows the "natural" intermediate type of the object based on the ',(0,s.jsx)(t.code,{children:"type/format"}),":"]}),"\n",(0,s.jsxs)("table",{class:"code-table",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Format"}),(0,s.jsx)("th",{children:"Intermediate Java Type"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{rowSpan:"4",children:[(0,s.jsx)(t.code,{children:"string"})," or empty"]}),(0,s.jsxs)("td",{children:[(0,s.jsx)(t.code,{children:"byte"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"binary"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"binary-spaced"})]}),(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"byte[]"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{children:[(0,s.jsx)(t.code,{children:"date"}),(0,s.jsx)("br",{}),(0,s.jsx)(t.code,{children:"date-time"})]}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/util/Calendar.html",children:"Calendar"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"uon"})}),(0,s.jsxs)("td",{children:["No intermediate type.",(0,s.jsx)("br",{}),"(serialized directly to/from POJO)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"empty"}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/String.html",children:"String"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"boolean"})}),(0,s.jsx)("td",{children:"empty"}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/Boolean.html",children:"Boolean"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",children:(0,s.jsx)(t.code,{children:"integer"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"int32"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/Integer.html",children:"Integer"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"int64"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/Long.html",children:"Long"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",children:(0,s.jsx)(t.code,{children:"number"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"float"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/Float.html",children:"Float"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"double"})}),(0,s.jsx)("td",{children:(0,s.jsx)(t.a,{href:"../apidocs/java/lang/Double.html",children:"Double"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",children:(0,s.jsx)(t.code,{children:"array"})}),(0,s.jsx)("td",{children:"empty"}),(0,s.jsx)("td",{children:"Arrays of intermediate types on this list."})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"uon"})}),(0,s.jsxs)("td",{children:["No intermediate type.",(0,s.jsx)("br",{}),"(serialized directly to/from POJO)"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{rowSpan:"2",children:(0,s.jsx)(t.code,{children:"object"})}),(0,s.jsx)("td",{children:"empty"}),(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"Map<String,Object>"})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)(t.code,{children:"uon"})}),(0,s.jsxs)("td",{children:["No intermediate type.",(0,s.jsx)("br",{}),"(serialized directly to/from POJO)"]})]})]}),"\n",(0,s.jsx)(t.p,{children:"The valid POJO types for serializing/parsing are based on the intermediate types above.\nAs a general rule, any POJOs that are the intermediate type or transformable to or from the intermediate type are valid\nPOJO types."}),"\n",(0,s.jsx)(t.p,{children:"For example, the following POJO type can be transformed to and from a byte array."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"// Sample POJO class convertable to and from a byte[].\npublic class MyPojo {\n\n    // Constructor used by parser.\n    public MyPojo(byte[] value) {...}\n\n    // toX method used by serializer.\n    public byte[] toBytes() {...}\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"This example shows how that POJO can be converted to a BASE64-encoded string."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"// Construct a POJO.\nMyPojo myPojo = ...;\n\n// Define a schema.\nHttpPartSchema schema = HttpPartSchema.tByte().build();\n\n// Convert POJO to BASE64-encoded string.\nHttpPartSerializer serializer = OpenApiSerializer.DEFAULT;\nString httpPart = serializer.serialize(schema, myPojo);\n\n// Convert BASE64-encoded string back into a POJO.\nHttpPartParser parser = OpenApiParser.DEFAULT;\nmyPojo = parser.parse(schema, httpPart, MyPojo.class);\n"})}),"\n",(0,s.jsx)(t.p,{children:"In addition to defining format, the schema also allows for validations of the serialized form."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"// Construct a POJO.\nMyPojo myPojo = ...;\n\n// Define a schema.\n// Serialized string must be no smaller than 100 characters.\nHttpPartSchema schema = HttpPartSchema.tByte().minLength(100).build();\n\n// Convert POJO to BASE64-encoded string.\nHttpPartSerializer serializer = OpenApiSerializer.DEFAULT;\nString httpPart;\ntry {\n    httpPart = serializer.serialize(schema, myPojo);\n} catch (SchemaValidationException e) {\n    // Oops, output too small.\n}\n\n// Convert BASE64-encoded string back into a POJO.\nHttpPartParser parser = OpenApiParser.DEFAULT;\ntry {\n    myPojo = parser.parse(schema, httpPart, MyPojo.class);\n} catch (SchemaValidationException e) {\n    // Oops, input too small.\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"It looks simple but the implementation is highly sophisticated being able to serialize and parse and validate using\ncomplex schemas."}),"\n",(0,s.jsx)(t.p,{children:"The next sections go more into depth on serializing and parsing various POJO types."})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);